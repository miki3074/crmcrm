import{h as i,c as y,o,a as l,b as e,f as C,t as d,g as n,F as c,d as f,k as _,w as I,v as N,j as V,u as m,N as k}from"./app-12bccec5.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";const B={class:"grid grid-cols-1 lg:grid-cols-[7fr_3fr] gap-8 items-start"},F={class:"bg-white dark:bg-slate-900 rounded-3xl p-6 border border-slate-200 dark:border-slate-800 shadow-sm h-full flex flex-col"},T={class:"flex justify-between items-center mb-6"},E={class:"overflow-y-auto h-[450px] pr-2 custom-scrollbar"},L={class:"grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-4 gap-4"},O=["onClick"],P=["onClick"],U={class:"mb-3"},q=["src"],G={key:1,class:"w-16 h-16 rounded-xl bg-white dark:bg-slate-700 grid place-items-center text-3xl shadow-sm"},H={class:"w-full"},J={class:"font-bold text-slate-800 dark:text-white truncate text-sm mb-1"},K={class:"text-xs text-slate-500"},Q={class:"bg-white dark:bg-slate-900 rounded-3xl p-6 border border-slate-200 dark:border-slate-800 shadow-sm h-full flex flex-col"},R={class:"flex justify-between items-center mb-6"},W={class:"overflow-y-auto h-[450px] pr-2 custom-scrollbar flex flex-col gap-4"},X=["onClick"],Y=["src"],Z={key:1,class:"w-14 h-14 rounded-xl bg-white dark:bg-slate-700 grid place-items-center text-xl shadow-sm"},ee={class:"font-bold text-lg text-slate-800 dark:text-slate-200 truncate"},te={class:"bg-white dark:bg-slate-900 p-6 rounded-3xl w-full max-w-5xl max-h-[90vh] flex flex-col border dark:border-slate-800 shadow-2xl"},se={class:"flex justify-between items-center mb-6"},oe={class:"overflow-y-auto p-2"},le={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4"},re=["onClick"],de={class:"mb-3"},ae=["src"],ie={key:1,class:"w-16 h-16 rounded-xl bg-white dark:bg-slate-700 grid place-items-center text-3xl"},ne={class:"font-bold text-center text-slate-800 dark:text-white truncate w-full"},ce={class:"bg-white dark:bg-slate-900 p-6 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col border dark:border-slate-800 shadow-2xl"},ue={class:"flex justify-between items-center mb-6"},ge={class:"overflow-y-auto p-2 grid grid-cols-1 md:grid-cols-2 gap-4"},be=["onClick"],xe=["src"],ve={key:1,class:"w-12 h-12 rounded-xl bg-white dark:bg-slate-700 grid place-items-center text-xl"},he={class:"font-bold text-slate-800 dark:text-white"},pe={key:2,class:"fixed inset-0 z-[100] grid place-items-center bg-slate-950/60 backdrop-blur-sm p-4"},fe={class:"bg-white dark:bg-slate-900 p-6 rounded-3xl w-full max-w-sm border dark:border-slate-800 shadow-2xl animate-in fade-in zoom-in duration-200"},me={class:"flex gap-2"},ke={__name:"CompanySection",props:["companies","userId","isAdmin"],emits:["refresh"],setup($,{emit:j}){const u=$,S=j,g=i(!1),b=i(!1),x=i(!1),v=i(""),w=i(null),h=y(()=>u.companies.filter(r=>String(r.user_id)===String(u.userId))),p=y(()=>u.companies.filter(r=>String(r.user_id)!==String(u.userId))),M=r=>{w.value=r,g.value=!0},z=async()=>{var r,s;try{await V.delete(`/api/companies/${w.value}`,{data:{password:v.value}}),g.value=!1,v.value="",S("refresh")}catch(t){alert(((s=(r=t.response)==null?void 0:r.data)==null?void 0:s.message)||"–û—à–∏–±–∫–∞ –ø–∞—Ä–æ–ª—è")}};return(r,s)=>(o(),l(c,null,[e("div",B,[e("section",F,[e("div",T,[s[8]||(s[8]=e("h3",{class:"flex items-center gap-2 text-lg font-bold text-slate-700 dark:text-slate-200"},[e("span",{class:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg"},"üíº"),C(" –ú–æ–∏ –∫–æ–º–ø–∞–Ω–∏–∏ ")],-1)),h.value.length>8?(o(),l("button",{key:0,onClick:s[0]||(s[0]=t=>b.value=!0),class:"text-sm font-bold text-indigo-600 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 px-3 py-1.5 rounded-lg transition"}," –í—Å–µ ("+d(h.value.length)+") ",1)):n("",!0)]),e("div",E,[e("div",L,[(o(!0),l(c,null,f(h.value,t=>{var a;return o(),l("div",{key:t.id,onClick:D=>m(k).visit(`/companies/${t.id}`),class:"group relative h-[200px] flex flex-col items-center justify-center p-4 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl hover:border-indigo-500 dark:hover:border-indigo-400 transition-all cursor-pointer shadow-sm overflow-hidden text-center"},[e("button",{onClick:_(D=>M(t.id),["stop"]),class:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 p-1 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-md transition z-10"},"‚úï",8,P),e("div",U,[t.logo?(o(),l("img",{key:0,src:`/storage/${t.logo}`,class:"w-16 h-16 rounded-xl object-cover border dark:border-slate-600"},null,8,q)):(o(),l("div",G,"üè¢"))]),e("div",H,[e("p",J,d(t.name),1),e("p",K,d(((a=t.projects)==null?void 0:a.length)||0)+" –ø—Ä–æ–µ–∫—Ç–æ–≤",1)])],8,O)}),128))])])]),e("section",Q,[e("div",R,[s[9]||(s[9]=e("h3",{class:"flex items-center gap-2 text-lg font-bold text-slate-700 dark:text-slate-200"},[e("span",{class:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg"},"ü§ù"),C(" –î—Ä—É–≥–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ ")],-1)),p.value.length>3?(o(),l("button",{key:0,onClick:s[1]||(s[1]=t=>x.value=!0),class:"text-sm font-bold text-emerald-600 hover:text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 px-3 py-1.5 rounded-lg transition"}," –í—Å–µ ("+d(p.value.length)+") ",1)):n("",!0)]),e("div",W,[(o(!0),l(c,null,f(p.value,t=>(o(),l("div",{key:t.id,onClick:a=>m(k).visit(`/companies/${t.id}`),class:"flex-shrink-0 p-5 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl hover:shadow-md hover:border-emerald-400 dark:hover:border-emerald-500 transition cursor-pointer flex items-center gap-4"},[t.logo?(o(),l("img",{key:0,src:`/storage/${t.logo}`,class:"w-14 h-14 rounded-xl object-cover bg-white"},null,8,Y)):(o(),l("div",Z,"üè¢")),e("div",null,[e("p",ee,d(t.name),1)])],8,X))),128))])])]),b.value?(o(),l("div",{key:0,class:"fixed inset-0 z-[90] grid place-items-center bg-slate-950/60 backdrop-blur-sm p-4",onClick:s[3]||(s[3]=_(t=>b.value=!1,["self"]))},[e("div",te,[e("div",se,[s[10]||(s[10]=e("h3",{class:"text-2xl font-bold text-slate-800 dark:text-white"},"–í—Å–µ –º–æ–∏ –∫–æ–º–ø–∞–Ω–∏–∏",-1)),e("button",{onClick:s[2]||(s[2]=t=>b.value=!1),class:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition"},"‚úï")]),e("div",oe,[e("div",le,[(o(!0),l(c,null,f(h.value,t=>(o(),l("div",{key:t.id,onClick:a=>m(k).visit(`/companies/${t.id}`),class:"group relative h-[200px] flex flex-col items-center justify-center p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl hover:border-indigo-500 cursor-pointer"},[e("div",de,[t.logo?(o(),l("img",{key:0,src:`/storage/${t.logo}`,class:"w-16 h-16 rounded-xl object-cover"},null,8,ae)):(o(),l("div",ie,"üè¢"))]),e("p",ne,d(t.name),1)],8,re))),128))])])])])):n("",!0),x.value?(o(),l("div",{key:1,class:"fixed inset-0 z-[90] grid place-items-center bg-slate-950/60 backdrop-blur-sm p-4",onClick:s[5]||(s[5]=_(t=>x.value=!1,["self"]))},[e("div",ce,[e("div",ue,[s[11]||(s[11]=e("h3",{class:"text-2xl font-bold text-slate-800 dark:text-white"},"–í—Å–µ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏",-1)),e("button",{onClick:s[4]||(s[4]=t=>x.value=!1),class:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition"},"‚úï")]),e("div",ge,[(o(!0),l(c,null,f(p.value,t=>(o(),l("div",{key:t.id,onClick:a=>m(k).visit(`/companies/${t.id}`),class:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl hover:border-emerald-500 cursor-pointer"},[t.logo?(o(),l("img",{key:0,src:`/storage/${t.logo}`,class:"w-12 h-12 rounded-xl object-cover"},null,8,xe)):(o(),l("div",ve,"üè¢")),e("p",he,d(t.name),1)],8,be))),128))])])])):n("",!0),g.value?(o(),l("div",pe,[e("div",fe,[s[12]||(s[12]=e("h4",{class:"text-xl font-bold text-slate-900 dark:text-white mb-2"},"–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ",-1)),s[13]||(s[13]=e("p",{class:"text-sm text-slate-500 mb-4"},"–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø–∞—Ä–æ–ª—å –æ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞.",-1)),I(e("input",{"onUpdate:modelValue":s[6]||(s[6]=t=>v.value=t),type:"password",class:"w-full px-4 py-3 rounded-xl border dark:bg-slate-800 dark:border-slate-700 mb-4 outline-none focus:ring-2 focus:ring-rose-500",placeholder:"–í–∞—à –ø–∞—Ä–æ–ª—å"},null,512),[[N,v.value]]),e("div",me,[e("button",{onClick:s[7]||(s[7]=t=>g.value=!1),class:"flex-1 py-3 text-sm font-bold text-slate-500"},"–û—Ç–º–µ–Ω–∞"),e("button",{onClick:z,class:"flex-1 py-3 text-sm font-bold bg-rose-600 text-white rounded-xl shadow-lg shadow-rose-600/20"},"–£–¥–∞–ª–∏—Ç—å")])])])):n("",!0)],64))}},ye=A(ke,[["__scopeId","data-v-58588994"]]);export{ye as default};
