import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";import{j as u,r as F,o as i,c as a,a as t,t as r,E as T,d as l,b as B,F as V}from"./app-2097a917.js";const z={class:"relative overflow-hidden rounded-b-3xl shadow-lg mb-8"},O={class:"relative max-w-7xl mx-auto px-6 py-10 text-white"},S={class:"flex flex-col lg:flex-row lg:justify-between lg:items-start gap-8"},A={class:"flex-1 space-y-4"},G={class:"flex flex-wrap items-center gap-3"},I={class:"text-3xl sm:text-4xl font-bold tracking-tight"},U={key:0,class:"px-3 py-1 text-xs rounded-full bg-blue-100 text-blue-700 shadow-sm"},X={class:"flex flex-wrap items-center gap-2 text-sm font-medium"},q={class:"badge"},J={class:"badge"},K={key:0,class:"bg-white/10 rounded-xl p-4 mt-4 backdrop-blur-sm max-w-3xl border border-white/10"},P={class:"text-gray-100 whitespace-pre-line text-sm"},Q={class:"flex flex-col gap-4 w-full sm:w-auto"},Y={class:"flex flex-wrap justify-start sm:justify-end gap-2"},Z={key:0,class:"bg-white/10 rounded-2xl p-4 border border-white/20 backdrop-blur-sm"},_={class:"grid grid-cols-2 gap-2"},ee={key:1,class:"flex flex-col gap-2 justify-end mt-2"},te={key:2,class:"text-xs text-amber-200 text-right bg-amber-900/30 p-2 rounded"},se={key:3,class:"text-sm font-bold text-emerald-200 bg-emerald-900/30 px-3 py-1 rounded text-center"},oe={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm"},ne={class:"bg-slate-900 text-white max-w-3xl w-full mx-4 rounded-2xl shadow-2xl border border-white/10"},ie={class:"flex justify-between items-center px-6 py-4 border-b border-white/10"},ae={class:"px-6 py-4 max-h-[70vh] overflow-y-auto"},le={class:"text-sm leading-relaxed whitespace-pre-line text-gray-100"},re={class:"px-6 py-4 border-t border-white/10 text-right"},H=100,de={__name:"TaskHero",props:{task:Object,perms:Object},emits:["edit","delete","description","back","finish","changeExecutor","changeResponsible","addExecutor","addResponsible","addWatcher","manageMembers","startWork"],setup(o,{emit:be}){const d=o,L=s=>s==="high"?"bg-rose-100 text-rose-700 ring-1 ring-rose-200":s==="medium"?"bg-amber-100 text-amber-700 ring-1 ring-amber-200":"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200",N=s=>s==="high"?"Ð’Ñ‹ÑÐ¾ÐºÐ°Ñ":s==="medium"?"Ð¡Ñ€ÐµÐ´Ð½ÑÑ":"ÐžÐ±Ñ‹Ñ‡Ð½Ð°Ñ",g=u(()=>{var s,e;return(s=d.task)!=null&&s.completed?{text:"âœ… Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°",class:"bg-emerald-100 text-emerald-700"}:((e=d.task)==null?void 0:e.status)==="in_work"?{text:"âš™ï¸ Ð’ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ",class:"bg-blue-100 text-blue-700 ring-1 ring-blue-200"}:{text:"ðŸ†• ÐÐ¾Ð²Ð°Ñ",class:"bg-gray-100 text-gray-600 ring-1 ring-gray-200"}}),b=F(!1),m=u(()=>{var s,e;return((e=(s=d.task)==null?void 0:s.description)==null?void 0:e.length)>H}),R=u(()=>{var s;return(s=d.task)!=null&&s.description?m.value?d.task.description.slice(0,H)+"â€¦":d.task.description:""});return(s,e)=>{var c,x,k,f,p,v,y,h,w,$,C,j,D,E,M;return i(),a(V,null,[t("div",z,[e[19]||(e[19]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-sky-600 via-indigo-600 to-fuchsia-600"},null,-1)),t("div",O,[t("div",S,[t("div",A,[t("div",G,[t("h1",I,r(((c=o.task)==null?void 0:c.title)||"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°..."),1),t("span",{class:T(["px-3 py-1 text-xs rounded-full shadow-sm font-bold bg-white/90",g.value.class])},r(g.value.text),3),(x=o.task)!=null&&x.is_watcher?(i(),a("span",U,"ðŸ‘ Ð’Ñ‹ Ð½Ð°Ð±Ð»ÑŽÐ´Ð°ÐµÑ‚Ðµ")):l("",!0)]),t("div",X,[t("span",q,[e[15]||(e[15]=B("ðŸ“ ÐŸÑ€Ð¾ÐµÐºÑ‚: ",-1)),t("b",null,r((f=(k=o.task)==null?void 0:k.project)==null?void 0:f.name),1)]),t("span",J,[e[16]||(e[16]=B("ðŸ‘¤ ÐÐ²Ñ‚Ð¾Ñ€: ",-1)),t("b",null,r((v=(p=o.task)==null?void 0:p.creator)==null?void 0:v.name),1)]),t("span",{class:T(["badge",L((y=o.task)==null?void 0:y.priority)])},"âš¡ "+r(N((h=o.task)==null?void 0:h.priority)),3)]),(w=o.task)!=null&&w.description?(i(),a("div",K,[e[17]||(e[17]=t("h3",{class:"text-xs font-bold uppercase opacity-70 mb-1"},"Ðž Ð·Ð°Ð´Ð°Ñ‡Ðµ",-1)),t("p",P,r(R.value),1),m.value?(i(),a("button",{key:0,onClick:e[0]||(e[0]=n=>b.value=!0),class:"mt-2 text-xs font-semibold text-sky-300 hover:text-sky-200 transition"}," ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ â†’ ")):l("",!0)])):l("",!0)]),t("div",Q,[t("div",Y,[o.perms.canUpdate?(i(),a("button",{key:0,onClick:e[1]||(e[1]=n=>s.$emit("edit")),class:"btn-action bg-blue-500 hover:bg-blue-600"},"âœï¸ Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ")):l("",!0),o.perms.canDelete?(i(),a("button",{key:1,onClick:e[2]||(e[2]=n=>s.$emit("delete")),class:"btn-action bg-rose-500 hover:bg-rose-600"},"ðŸ—‘ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ")):l("",!0),t("button",{onClick:e[3]||(e[3]=n=>s.$emit("description")),class:"btn-action bg-indigo-500 hover:bg-indigo-600"},"ðŸ“ ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ"),t("button",{onClick:e[4]||(e[4]=n=>s.$emit("back")),class:"btn-action bg-white text-gray-900 hover:bg-gray-100"},"ðŸ”™ ÐÐ°Ð·Ð°Ð´")]),o.perms.canManageMembers?(i(),a("div",Z,[e[18]||(e[18]=t("h4",{class:"text-xs font-bold uppercase opacity-70 mb-3"},"âš™ï¸ Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸",-1)),t("div",_,[t("button",{onClick:e[5]||(e[5]=n=>s.$emit("changeExecutor")),class:"btn-grid bg-blue-500"},"ðŸ‘· Ð¡Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð˜ÑÐ¿."),t("button",{onClick:e[6]||(e[6]=n=>s.$emit("changeResponsible")),class:"btn-grid bg-indigo-500"},"ðŸ‘¨â€ðŸ’¼ Ð¡Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÐžÑ‚Ð²."),t("button",{onClick:e[7]||(e[7]=n=>s.$emit("addExecutor")),class:"btn-grid bg-emerald-500"},"âž• Ð”Ð¾Ð±. Ð˜ÑÐ¿."),t("button",{onClick:e[8]||(e[8]=n=>s.$emit("addResponsible")),class:"btn-grid bg-teal-500"},"âž• Ð”Ð¾Ð±. ÐžÑ‚Ð²."),t("button",{onClick:e[9]||(e[9]=n=>s.$emit("addWatcher")),class:"btn-grid bg-purple-500 col-span-2"},"ðŸ‘ Ð”Ð¾Ð±. ÐÐ°Ð±Ð»ÑŽÐ´Ð°Ñ‚ÐµÐ»Ñ"),t("button",{onClick:e[10]||(e[10]=n=>s.$emit("manageMembers")),class:"btn-grid bg-slate-500 col-span-2"},"âš™ï¸ Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ")])])):l("",!0),o.perms.canManageTask?(i(),a("div",ee,[!(($=o.task)!=null&&$.completed)&&((C=o.task)==null?void 0:C.status)==="new"?(i(),a("button",{key:0,onClick:e[11]||(e[11]=n=>s.$emit("startWork",o.task.id)),class:"w-full py-3 rounded-xl bg-sky-500 hover:bg-sky-600 text-white font-bold shadow-lg transition transform hover:scale-[1.02] flex items-center justify-center gap-2"}," ðŸš€ Ð’Ð·ÑÑ‚ÑŒ Ð² Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ ")):l("",!0),o.perms.canFinish&&!((j=o.task)!=null&&j.completed)?(i(),a("button",{key:1,onClick:e[12]||(e[12]=n=>s.$emit("finish")),class:"w-full py-3 rounded-xl bg-emerald-500 hover:bg-emerald-600 text-white font-bold shadow-lg transition transform hover:scale-[1.02]"}," âœ… Ð—Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ ")):((D=o.task)==null?void 0:D.progress)===100&&!((E=o.task)!=null&&E.completed)?(i(),a("div",te," âš ï¸ Ð—Ð°ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð¿Ð¾Ð´Ð·Ð°Ð´Ð°Ñ‡Ð¸ ")):l("",!0),(M=o.task)!=null&&M.completed?(i(),a("div",se," âœ… Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð° "+r(new Date(o.task.completed_at).toLocaleDateString()),1)):l("",!0)])):l("",!0)])])])]),b.value?(i(),a("div",oe,[t("div",ne,[t("div",ie,[e[20]||(e[20]=t("h3",{class:"text-sm font-bold uppercase opacity-70"}," ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ ",-1)),t("button",{onClick:e[13]||(e[13]=n=>b.value=!1),class:"text-white/60 hover:text-white text-xl leading-none"}," âœ• ")]),t("div",ae,[t("p",le,r(o.task.description),1)]),t("div",re,[t("button",{onClick:e[14]||(e[14]=n=>b.value=!1),class:"px-4 py-2 rounded-xl bg-sky-500 hover:bg-sky-600 text-sm font-semibold"}," Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ ")])])])):l("",!0)],64)}}},me=W(de,[["__scopeId","data-v-d5936b2e"]]);export{me as default};
