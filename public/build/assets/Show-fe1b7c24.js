import{Q as Be,m as n,k,p as De,o as a,f as r,a as we,u as Se,w as Ue,F as h,l as b,Z as Ne,b as t,t as o,d as v,n as ce,g as u,s as $,e as H,h as x,v as _,q as P}from"./app-4ddf8962.js";import{_ as qe}from"./AuthenticatedLayout-f8e86824.js";import"./ApplicationLogo-b40f6cbc.js";import"./_plugin-vue_export-helper-c27b6911.js";const Fe={class:"relative overflow-hidden"},He={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-white"},Te={class:"flex items-start gap-4"},Ee={class:"flex-1"},Le={class:"text-2xl sm:text-3xl font-semibold"},Ie={class:"mt-2 flex flex-wrap items-center gap-2 text-sm"},Oe={class:"px-2 py-1 rounded-full bg-white/20"},Pe={class:"px-2 py-1 rounded-full bg-white/20"},Re={class:"px-2 py-1 rounded-full bg-white/20"},Ae={class:"px-2 py-1 rounded-full bg-white/20"},Qe={key:1,class:"px-2 py-1 rounded-full bg-white/20"},Ze={class:"flex items-center gap-2"},Ge={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-4 pb-10",style:{"margin-top":"3%"}},Je={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},Ke={class:"lg:col-span-2"},We={class:"rounded-2xl border bg-white dark:bg-gray-800 p-5"},Xe={class:"flex items-center justify-between mb-3"},Ye={class:"text-sm text-gray-500 dark:text-gray-400"},et={key:0,class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},tt={key:1,class:"text-center py-10"},st={key:2,class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},lt=["onClick"],at={class:"flex items-start justify-between gap-3"},rt={class:"text-base font-semibold text-gray-900 dark:text-white leading-snug"},dt={class:"mt-2 text-sm text-gray-600 dark:text-gray-300 space-y-1.5"},ot={class:"flex items-center gap-2"},it={class:"flex items-center gap-2"},nt={class:"flex items-center gap-2"},ut={key:0,class:"mt-3 pt-3 border-t"},gt={class:"flex flex-wrap gap-2"},pt=["href"],vt={class:"space-y-4"},xt={class:"rounded-2xl border bg-white dark:bg-gray-800 p-5"},bt={class:"mt-3 space-y-2 text-sm text-gray-700 dark:text-gray-300"},mt={class:"flex justify-between"},yt={class:"font-medium text-gray-900 dark:text-white"},ft={class:"flex justify-between"},wt={class:"font-medium"},ct={class:"flex justify-between"},kt={class:"font-medium"},ht={class:"flex justify-between"},_t={class:"font-medium"},Ct={class:"flex justify-between"},jt={class:"font-medium"},$t={class:"mt-4"},zt={class:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line"},Mt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Vt={class:"relative w-full max-w-lg bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6"},Bt={class:"flex items-center justify-between"},Dt={key:0,class:"mt-3 text-sm text-rose-600"},St={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ut=["value"],Nt=["value"],qt={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Ft={class:"flex justify-end gap-2 pt-2"},Ht=["disabled"],Tt={key:0},Et={key:1},Lt={key:1,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},It={class:"relative w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6"},Ot={class:"flex items-center justify-between"},Pt={class:"flex justify-end gap-2"},Rt={key:2,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},At={class:"relative w-full max-w-xl bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6"},Qt={class:"flex items-center justify-between"},Zt={class:"flex justify-end gap-2"},Gt={key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},Jt={class:"w-full max-w-md rounded-2xl bg-white p-6 shadow-xl dark:bg-gray-900"},Kt={key:0,class:"mt-2 text-sm text-rose-600"},Wt={class:"flex justify-end gap-2 mt-4"},Xt=["disabled"],as={__name:"Show",setup(Yt){var J,K;const{props:T}=Be(),m=T.id,E=n(!0),d=n(null),z=n([]),y=n(!1),f=n(!1),w=n(!1),M=n(!1),C=n(""),V=n({budget:""}),B=n({description:""}),i=n({title:"",executor_id:"",responsible_id:"",priority:"low",start_date:new Date().toISOString().slice(0,10),due_date:"",files:null}),ke=((J=T.auth)==null?void 0:J.roles)||[],c=(K=T.auth)==null?void 0:K.user,D=k(()=>ke.includes("admin")),S=k(()=>{var l,e;return((e=(l=d.value)==null?void 0:l.company)==null?void 0:e.user_id)===(c==null?void 0:c.id)}),R=k(()=>{var l;return((l=d.value)==null?void 0:l.manager_id)===(c==null?void 0:c.id)}),L=k(()=>D.value||S.value||R.value),A=k(()=>D.value||S.value),Q=k(()=>D.value||S.value||R.value),Z=(l,e)=>{if(!l||!e)return"—";const p=new Date(l),g=new Date(p);return g.setDate(p.getDate()+Number(e)),Math.ceil((g-new Date)/(1e3*60*60*24))},he=l=>l==="—"?"bg-gray-100 text-gray-600 ring-1 ring-gray-200":l>7?"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200":l>=0?"bg-amber-100 text-amber-700 ring-1 ring-amber-200":"bg-rose-100 text-rose-700 ring-1 ring-rose-200",_e=l=>l==="high"?"bg-rose-100 text-rose-700 ring-1 ring-rose-200":l==="medium"?"bg-amber-100 text-amber-700 ring-1 ring-amber-200":"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200",j=async()=>{E.value=!0;try{const{data:l}=await b.get(`/api/projects/${m}`);d.value=l,V.value.budget=(l==null?void 0:l.budget)??"",B.value.description=(l==null?void 0:l.description)??"";const e=await b.get(`/api/projects/${m}/employees`);z.value=e.data}finally{E.value=!1}},Ce=async()=>{const{data:l}=await b.get(`/api/projects/${m}/employees`);z.value=l},G=async()=>{if(!L.value)return alert("Недостаточно прав для создания задачи.");C.value="",await Ce(),y.value=!0},je=l=>{i.value.files=l.target.files},$e=async()=>{var e,p;C.value="",M.value=!0;const l=new FormData;if(l.append("title",i.value.title),l.append("executor_id",i.value.executor_id),l.append("responsible_id",i.value.responsible_id),l.append("priority",i.value.priority),l.append("start_date",i.value.start_date),l.append("due_date",i.value.due_date),l.append("project_id",m),l.append("company_id",d.value.company.id),i.value.files)for(let g=0;g<i.value.files.length;g++)l.append("files[]",i.value.files[g]);try{await b.get("/sanctum/csrf-cookie"),await b.post("/api/tasks",l,{headers:{"Content-Type":"multipart/form-data"}}),y.value=!1,i.value={title:"",executor_id:"",responsible_id:"",priority:"low",start_date:new Date().toISOString().slice(0,10),due_date:"",files:null},await j()}catch(g){C.value=((p=(e=g==null?void 0:g.response)==null?void 0:e.data)==null?void 0:p.message)||"Не удалось создать задачу"}finally{M.value=!1}},ze=async()=>{await b.patch(`/api/projects/${m}/budget`,{budget:V.value.budget}),f.value=!1,await j()},Me=async()=>{await b.patch(`/api/projects/${m}/description`,{description:B.value.description}),w.value=!1,await j()};n({title:"",responsible_id:null}),n(!1),n("");const U=n(!1),I=n({name:""}),N=n(""),q=n(!1),Ve=async()=>{var l,e;q.value=!0,N.value="";try{await b.patch(`/api/projects/${m}/name`,{name:I.value.name}),U.value=!1,await j()}catch(p){N.value=((e=(l=p==null?void 0:p.response)==null?void 0:l.data)==null?void 0:e.message)||"Ошибка при обновлении названия"}finally{q.value=!1}};return De(j),(l,e)=>{var p;return a(),r(h,null,[we(Se(Ne),{title:(p=d.value)!=null&&p.name?`Проект — ${d.value.name}`:"Проект"},null,8,["title"]),we(qe,null,{default:Ue(()=>{var g,O,W,X,Y,ee,te,se,le,ae,re,de,oe,ie,ne,ue,ge,pe,ve,xe;return[t("div",Fe,[e[31]||(e[31]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-fuchsia-600 opacity-90"},null,-1)),t("div",He,[t("div",Te,[t("div",Ee,[t("h1",Le,o(((g=d.value)==null?void 0:g.name)??"Загрузка…"),1),t("div",Ie,[t("span",Oe,[e[23]||(e[23]=v(" Компания: ",-1)),t("b",null,o(((W=(O=d.value)==null?void 0:O.company)==null?void 0:W.name)??"—"),1)]),t("span",Pe,[e[24]||(e[24]=v(" Руководитель: ",-1)),t("b",null,o(((Y=(X=d.value)==null?void 0:X.manager)==null?void 0:Y.name)??"—"),1)]),t("span",Re,[e[25]||(e[25]=v(" Старт: ",-1)),t("b",null,o(((ee=d.value)==null?void 0:ee.start_date)??"—"),1)]),t("span",Ae,[e[26]||(e[26]=v(" Длительность: ",-1)),t("b",null,o(((te=d.value)==null?void 0:te.duration_days)??"—"),1),e[27]||(e[27]=v(" дн. ",-1))]),d.value?(a(),r("span",{key:0,class:ce(["px-2 py-1 rounded-full bg-white text-gray-900",he(Z(d.value.start_date,d.value.duration_days))])},[e[28]||(e[28]=v(" Осталось: ",-1)),t("b",null,o(Z(d.value.start_date,d.value.duration_days)),1),e[29]||(e[29]=v(" дн. ",-1))],2)):u("",!0),(se=d.value)!=null&&se.budget?(a(),r("span",Qe,[e[30]||(e[30]=v(" Бюджет: ",-1)),t("b",null,o(Number(d.value.budget).toLocaleString("ru-RU"))+" ₽",1)])):u("",!0)])]),t("div",Ze,[A.value?(a(),r("button",{key:0,onClick:e[0]||(e[0]=s=>f.value=!0),class:"rounded-xl bg-amber-400/90 hover:bg-amber-400 text-gray-900 px-4 py-2 font-medium"}," Бюджет ")):u("",!0),Q.value?(a(),r("button",{key:1,onClick:e[1]||(e[1]=s=>w.value=!0),class:"rounded-xl bg-white text-gray-900 hover:bg-white/90 px-4 py-2 font-medium"}," Описание ")):u("",!0),L.value?(a(),r("button",{key:2,onClick:G,class:"rounded-xl bg-emerald-400/95 hover:bg-emerald-400 text-gray-900 px-4 py-2 font-medium"}," + Задача ")):u("",!0),D.value||S.value?(a(),r("button",{key:3,onClick:e[2]||(e[2]=s=>U.value=!0),class:"rounded-xl bg-blue-400/95 hover:bg-blue-500 text-white px-4 py-2 font-medium"}," Изменить ")):u("",!0)])])])]),t("div",Ge,[t("div",Je,[t("div",Ke,[t("div",We,[t("div",Xe,[e[32]||(e[32]=t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Задачи проекта",-1)),t("div",Ye," Всего: "+o(((ae=(le=d.value)==null?void 0:le.tasks)==null?void 0:ae.length)||0),1)]),E.value?(a(),r("div",et,[(a(),r(h,null,$(4,s=>t("div",{key:s,class:"rounded-xl border p-4 animate-pulse"},e[33]||(e[33]=[t("div",{class:"h-4 w-1/2 bg-gray-200 dark:bg-gray-700 rounded mb-3"},null,-1),t("div",{class:"h-3 w-2/3 bg-gray-200 dark:bg-gray-700 rounded mb-2"},null,-1),t("div",{class:"h-3 w-1/2 bg-gray-200 dark:bg-gray-700 rounded"},null,-1)]))),64))])):(de=(re=d.value)==null?void 0:re.tasks)!=null&&de.length?(a(),r("div",st,[(a(!0),r(h,null,$(d.value.tasks,s=>{var be,me,ye,fe;return a(),r("div",{key:s.id,class:"group rounded-xl border p-4 bg-white dark:bg-gray-800 hover:shadow-md transition cursor-pointer",onClick:F=>l.$inertia.visit(`/tasks/${s.id}`)},[t("div",at,[t("h3",rt,o(s.title),1),t("span",{class:ce(["px-2 py-1 text-xs rounded-full ring-1",_e(s.priority)])},o(s.priority==="high"?"Высокая":s.priority==="medium"?"Средняя":"Обычная"),3)]),t("div",dt,[t("div",ot,[e[36]||(e[36]=t("svg",{class:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M7 11h5V6H7v5zm0 7h5v-5H7v5zm7 0h5v-5h-5v5zM14 6v5h5V6h-5z"})],-1)),t("span",null,"С "+o(s.start_date)+" по "+o(s.due_date),1)]),t("div",it,[e[39]||(e[39]=t("svg",{class:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M12 12c2.2 0 4-1.79 4-4s-1.8-4-4-4-4 1.79-4 4 1.8 4 4 4zm0 2c-3.33 0-10 1.67-10 5v3h20v-3c0-3.33-6.67-5-10-5z"})],-1)),t("span",null,[e[37]||(e[37]=v("От: ",-1)),t("b",null,o(((be=s.creator)==null?void 0:be.name)??"—"),1),e[38]||(e[38]=v(" → Кому: ",-1)),t("b",null,o(((me=s.executor)==null?void 0:me.name)??"—"),1)])]),t("div",nt,[e[41]||(e[41]=t("svg",{class:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M12 2l4 7H8l4-7zm0 20l-4-7h8l-4 7zM2 12l7-4v8l-7-4zm20 0l-7 4V8l7 4z"})],-1)),t("span",null,[e[40]||(e[40]=v("Ответственный: ",-1)),t("b",null,o(((ye=s.responsible)==null?void 0:ye.name)??"—"),1)])])]),(fe=s.files)!=null&&fe.length?(a(),r("div",ut,[e[43]||(e[43]=t("div",{class:"text-xs font-medium text-gray-500 mb-1"},"Файлы:",-1)),t("div",gt,[(a(!0),r(h,null,$(s.files,F=>(a(),r("a",{key:F.id,href:`/storage/${F.file_path}`,target:"_blank",class:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-100",onClick:e[3]||(e[3]=H(()=>{},["stop"]))},[e[42]||(e[42]=t("svg",{class:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12V8l-4-6zM6 22V4h7v5h5v13H6z"})],-1)),v(" "+o(F.file_path.split("/").pop()),1)],8,pt))),128))])])):u("",!0)],8,lt)}),128))])):(a(),r("div",tt,[e[34]||(e[34]=t("div",{class:"mx-auto w-14 h-14 rounded-2xl bg-gray-100 dark:bg-gray-700 flex items-center justify-center"},[t("svg",{class:"w-6 h-6 text-gray-500 dark:text-gray-300",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M7 11h10v2H7zM7 7h10v2H7zM7 15h7v2H7z"})])],-1)),e[35]||(e[35]=t("p",{class:"mt-3 text-gray-700 dark:text-gray-300"},"Задач пока нет.",-1)),L.value?(a(),r("button",{key:0,onClick:G,class:"mt-4 rounded-xl bg-indigo-600 text-white px-4 py-2 hover:bg-indigo-700"}," Создать задачу ")):u("",!0)]))])]),t("div",vt,[t("div",xt,[e[50]||(e[50]=t("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Кратко о проекте",-1)),t("dl",bt,[t("div",mt,[e[44]||(e[44]=t("dt",null,"Компания",-1)),t("dd",yt,o(((ie=(oe=d.value)==null?void 0:oe.company)==null?void 0:ie.name)??"—"),1)]),t("div",ft,[e[45]||(e[45]=t("dt",null,"Инициатор",-1)),t("dd",wt,o(((ue=(ne=d.value)==null?void 0:ne.initiator)==null?void 0:ue.name)??"—"),1)]),t("div",ct,[e[46]||(e[46]=t("dt",null,"Старт",-1)),t("dd",kt,o(((ge=d.value)==null?void 0:ge.start_date)??"—"),1)]),t("div",ht,[e[47]||(e[47]=t("dt",null,"Длительность",-1)),t("dd",_t,o(((pe=d.value)==null?void 0:pe.duration_days)??"—")+" дн.",1)]),t("div",Ct,[e[48]||(e[48]=t("dt",null,"Бюджет",-1)),t("dd",jt,o((ve=d.value)!=null&&ve.budget?Number(d.value.budget).toLocaleString("ru-RU")+" ₽":"—"),1)])]),t("div",$t,[e[49]||(e[49]=t("div",{class:"text-xs font-semibold text-gray-500 mb-1"},"Описание",-1)),t("p",zt,o(((xe=d.value)==null?void 0:xe.description)||"Описание не задано."),1)])])])])]),y.value?(a(),r("div",Mt,[t("div",{class:"absolute inset-0 bg-black/50",onClick:e[4]||(e[4]=s=>y.value=!1)}),t("div",Vt,[t("div",Bt,[e[51]||(e[51]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Создание задачи",-1)),t("button",{onClick:e[5]||(e[5]=s=>y.value=!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},"✕")]),C.value?(a(),r("p",Dt,o(C.value),1)):u("",!0),t("form",{class:"mt-4 space-y-4",onSubmit:H($e,["prevent"])},[t("div",null,[e[52]||(e[52]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Название",-1)),x(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>i.value.title=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},null,512),[[_,i.value.title]])]),t("div",St,[t("div",null,[e[54]||(e[54]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Исполнитель",-1)),x(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>i.value.executor_id=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},[e[53]||(e[53]=t("option",{disabled:"",value:""},"Выберите сотрудника",-1)),(a(!0),r(h,null,$(z.value,s=>(a(),r("option",{key:s.id,value:s.id},o(s.name),9,Ut))),128))],512),[[P,i.value.executor_id]])]),t("div",null,[e[56]||(e[56]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Ответственный",-1)),x(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>i.value.responsible_id=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},[e[55]||(e[55]=t("option",{disabled:"",value:""},"Выберите сотрудника",-1)),(a(!0),r(h,null,$(z.value,s=>(a(),r("option",{key:s.id,value:s.id},o(s.name),9,Nt))),128))],512),[[P,i.value.responsible_id]])])]),t("div",qt,[t("div",null,[e[58]||(e[58]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Приоритет",-1)),x(t("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>i.value.priority=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white"},e[57]||(e[57]=[t("option",{value:"low"},"Обычная",-1),t("option",{value:"medium"},"Средняя",-1),t("option",{value:"high"},"Высокая",-1)]),512),[[P,i.value.priority]])]),t("div",null,[e[59]||(e[59]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Начало",-1)),x(t("input",{type:"date","onUpdate:modelValue":e[10]||(e[10]=s=>i.value.start_date=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},null,512),[[_,i.value.start_date]])]),t("div",null,[e[60]||(e[60]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Окончание",-1)),x(t("input",{type:"date","onUpdate:modelValue":e[11]||(e[11]=s=>i.value.due_date=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},null,512),[[_,i.value.due_date]])])]),t("div",null,[e[61]||(e[61]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Файлы (pdf, excel, word)",-1)),t("input",{type:"file",multiple:"",onChange:je,accept:".pdf,.doc,.docx,.xls,.xlsx",class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white"},null,32)]),t("div",Ft,[t("button",{type:"button",onClick:e[12]||(e[12]=s=>y.value=!1),class:"px-4 py-2 rounded-xl border bg-white dark:bg-gray-700 dark:text-white"},"Отмена"),t("button",{type:"submit",disabled:M.value,class:"px-4 py-2 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700 disabled:opacity-60"},[M.value?(a(),r("span",Et,"Сохраняю…")):(a(),r("span",Tt,"Создать"))],8,Ht)])],32)])])):u("",!0),f.value&&A.value?(a(),r("div",Lt,[t("div",{class:"absolute inset-0 bg-black/50",onClick:e[13]||(e[13]=s=>f.value=!1)}),t("div",It,[t("div",Ot,[e[62]||(e[62]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Установить бюджет",-1)),t("button",{onClick:e[14]||(e[14]=s=>f.value=!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},"✕")]),t("form",{class:"mt-4 space-y-4",onSubmit:H(ze,["prevent"])},[t("div",null,[e[63]||(e[63]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Сумма (₽)",-1)),x(t("input",{type:"number",step:"0.01",min:"0","onUpdate:modelValue":e[15]||(e[15]=s=>V.value.budget=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},null,512),[[_,V.value.budget]])]),t("div",Pt,[t("button",{type:"button",onClick:e[16]||(e[16]=s=>f.value=!1),class:"px-4 py-2 rounded-xl border bg-white dark:bg-gray-700 dark:text-white"},"Отмена"),e[64]||(e[64]=t("button",{type:"submit",class:"px-4 py-2 rounded-xl bg-amber-600 text-white hover:bg-amber-700"},"Сохранить",-1))])],32)])])):u("",!0),w.value&&Q.value?(a(),r("div",Rt,[t("div",{class:"absolute inset-0 bg-black/50",onClick:e[17]||(e[17]=s=>w.value=!1)}),t("div",At,[t("div",Qt,[e[65]||(e[65]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Описание проекта",-1)),t("button",{onClick:e[18]||(e[18]=s=>w.value=!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},"✕")]),t("form",{class:"mt-4 space-y-4",onSubmit:H(Me,["prevent"])},[t("div",null,[e[66]||(e[66]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Описание",-1)),x(t("textarea",{rows:"6","onUpdate:modelValue":e[19]||(e[19]=s=>B.value.description=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},null,512),[[_,B.value.description]])]),t("div",Zt,[t("button",{type:"button",onClick:e[20]||(e[20]=s=>w.value=!1),class:"px-4 py-2 rounded-xl border bg-white dark:bg-gray-700 dark:text-white"},"Отмена"),e[67]||(e[67]=t("button",{type:"submit",class:"px-4 py-2 rounded-xl bg-indigo-600 text-white hover:bg-indigo-700"},"Сохранить",-1))])],32)])])):u("",!0),U.value?(a(),r("div",Gt,[t("div",Jt,[e[68]||(e[68]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-white"},"Изменить название проекта",-1)),x(t("input",{"onUpdate:modelValue":e[21]||(e[21]=s=>I.value.name=s),type:"text",class:"w-full border rounded-lg px-3 py-2 dark:bg-gray-800 dark:text-white"},null,512),[[_,I.value.name]]),N.value?(a(),r("p",Kt,o(N.value),1)):u("",!0),t("div",Wt,[t("button",{onClick:e[22]||(e[22]=s=>U.value=!1),class:"px-4 py-2 rounded bg-gray-500 text-white"},"Отмена"),t("button",{onClick:Ve,disabled:q.value,class:"px-4 py-2 rounded bg-blue-600 text-white"},o(q.value?"Сохраняю…":"Сохранить"),9,Xt)])])])):u("",!0)]}),_:1})],64)}}};export{as as default};
