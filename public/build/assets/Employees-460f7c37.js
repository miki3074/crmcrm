import{j as b,R as ve,h as r,c as Y,i as xe,z as be,o as s,a as o,m as ee,u as ye,M as te,F as c,Z as ge,b as e,w as p,v as C,P as y,d as f,t as n,H as R,g,k as le}from"./app-9a2dd688.js";import{_ as ce}from"./AuthenticatedLayout-57faf720.js";import"./ApplicationLogo-f81164ff.js";import"./_plugin-vue_export-helper-c27b6911.js";const fe={class:"max-w-6xl mx-auto py-8 px-4"},ke={class:"grid gap-3 md:grid-cols-3 mb-4"},we=["value"],_e={class:"overflow-hidden rounded-2xl border dark:border-gray-700 bg-white dark:bg-gray-900"},he={class:"w-full text-sm"},Ce={key:0},Ue={key:1},Ve={class:"px-4 py-3 font-medium text-gray-900 dark:text-gray-100"},$e={class:"px-4 py-3 text-gray-600 dark:text-gray-300"},je={class:"px-4 py-3 text-gray-600 dark:text-gray-300"},Me={class:"px-4 py-3"},Ee={class:"px-4 py-3 text-right flex gap-2 justify-end"},Se=["onClick"],Fe=["onClick"],Le=["onClick"],ze={key:0},Te={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4"},qe={class:"w-full max-w-3xl rounded-2xl bg-white dark:bg-gray-900 shadow-xl"},Ae={class:"flex items-center justify-between px-6 py-4 border-b border-slate-300 dark:border-slate-700"},Be={class:"flex border-b border-slate-300 dark:border-slate-700"},Ne={key:0,class:"p-6"},De={class:""},Pe={key:0,class:"mt-1 text-xs text-rose-600"},Re={key:0,class:"mt-1 text-xs text-rose-600"},He={class:"grid md:grid-cols-2 gap-3"},Oe={key:0,class:"mt-1 text-xs text-rose-600"},Qe={class:"grid md:grid-cols-2 gap-3"},Ze=["value"],Ge={key:0,class:"mt-1 text-xs text-rose-600"},Ie={class:"flex justify-end gap-2 pt-2"},Je=["disabled"],Ke={key:1,class:"p-6"},We={class:""},Xe={class:"grid grid-cols-1 md:grid-cols-2 gap-4 px-6 py-4"},Ye=["value"],et={class:"px-6 pb-4"},tt={class:"mb-3 max-h-64 overflow-auto border border-slate-200 dark:border-slate-700 rounded-xl divide-y divide-slate-100 dark:divide-slate-700"},lt={key:0,class:"p-4 text-sm text-slate-500 text-center"},at={class:"font-medium text-slate-800 dark:text-slate-100"},st={class:"text-xs text-slate-500"},ot={class:"flex items-center gap-2"},dt=["onClick"],rt={key:0,class:"p-4 text-sm text-slate-500 text-center"},nt={key:1,class:"p-4 text-sm text-slate-500 text-center"},it={class:"flex justify-end gap-2 px-6 py-4 border-t border-slate-200 dark:border-slate-700"},ut=["disabled"],pt={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4"},mt={class:"relative w-full max-w-3xl rounded-2xl shadow-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700"},vt={class:"flex items-center justify-between border-b border-slate-200 dark:border-slate-700 px-6 py-4"},xt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 px-6 py-4"},bt=["value"],yt={class:"px-6 pb-4"},gt={class:"mb-3 max-h-64 overflow-auto border border-slate-200 dark:border-slate-700 rounded-xl divide-y divide-slate-100 dark:divide-slate-700"},ct={key:0,class:"p-4 text-sm text-slate-500 text-center"},ft={class:"font-medium text-slate-800 dark:text-slate-100"},kt={class:"text-xs text-slate-500"},wt={class:"flex items-center gap-2"},_t=["onClick"],ht={key:0,class:"p-4 text-sm text-slate-500 text-center"},Ct={key:1,class:"p-4 text-sm text-slate-500 text-center"},Ut={class:"flex justify-end gap-2 px-6 py-4 border-t border-slate-200 dark:border-slate-700"},Vt=["disabled"],$t={key:2,class:"fixed inset-0 bg-black/40 flex items-center justify-center z-50"},jt={class:"bg-white dark:bg-gray-800 rounded-xl p-6 w-96"},Mt={class:"text-lg font-semibold mb-4"},Et=["value"],St={class:"flex justify-end gap-2 mt-4"},Ft={key:3,class:"fixed inset-0 bg-black/40 flex items-center justify-center z-50"},Lt={class:"bg-white dark:bg-gray-800 rounded-xl p-6 w-96"},zt={class:"text-lg font-semibold mb-4"},Tt={class:"flex justify-end gap-2 mt-4"},Pt={__name:"Employees",setup(qt){b.defaults.withCredentials=!0,ve();const N=r(!1),E=r(!1),H=r([]),D=r([]),S=r(""),F=r("all"),L=r("all"),O=r(!1),m=r({name:"",email:"",password:"",password_confirmation:"",role:"employee",company_id:""}),v=r({}),Q=Y(()=>{let a=[...H.value];if(S.value.trim()){const t=S.value.toLowerCase();a=a.filter(d=>{var u,l;return((u=d.name)==null?void 0:u.toLowerCase().includes(t))||((l=d.email)==null?void 0:l.toLowerCase().includes(t))})}return F.value!=="all"&&(a=a.filter(t=>{var d,u;return(((u=(d=t.roles)==null?void 0:d[0])==null?void 0:u.name)??"employee")===F.value})),L.value!=="all"&&(a=a.filter(t=>{var d;return String((d=t.company)==null?void 0:d.id)===String(L.value)})),a}),ae=a=>a==="manager"?"bg-indigo-100 text-indigo-700 ring-1 ring-indigo-200":"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200",se=async()=>{const{data:a}=await b.get("/api/companies");D.value=a},$=async()=>{N.value=!0;try{const{data:a}=await b.get("/api/employees");H.value=a}finally{N.value=!1}},oe=()=>{m.value={name:"",email:"",password:"",password_confirmation:"",role:"employee",company_id:""},v.value={}},Z=async()=>{var a;v.value={},E.value=!0;try{await b.get("/sanctum/csrf-cookie"),await b.post("/api/employees",m.value),O.value=!1,oe(),await $()}catch(t){((a=t.response)==null?void 0:a.status)===422?v.value=t.response.data.errors??{}:alert("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞")}finally{E.value=!1}},j=r(!1),k=r([]),z=r([]),i=r({user_id:"",role:"employee",company_id:""}),w=r(!1),U=r(!1),x=r(""),de=async(a="")=>{w.value=!0;try{const{data:t}=await b.get("/api/users/for-attach",{params:{q:a,company_id:i.value.company_id}});k.value=t}finally{w.value=!1}},G=async()=>{const{data:a}=await b.get("/api/owner-companies");z.value=a,a.length&&!i.value.company_id&&(i.value.company_id=String(a[0].id))};Y(()=>{if(!x.value)return k.value;const a=x.value.toLowerCase();return k.value.filter(t=>(t.name||"").toLowerCase().includes(a)||(t.email||"").toLowerCase().includes(a))});const I=async()=>{var a,t;if(!(!i.value.user_id||!i.value.company_id||!i.value.role)){U.value=!0;try{const{data:d}=await b.post("/api/employees/attach",{user_id:i.value.user_id,company_id:i.value.company_id,role:i.value.role});j.value=!1,i.value={user_id:"",role:"employee",company_id:i.value.company_id},alert("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª–µ–Ω")}catch(d){console.error(d),alert(((t=(a=d==null?void 0:d.response)==null?void 0:a.data)==null?void 0:t.message)||"–û—à–∏–±–∫–∞")}finally{U.value=!1}}},T=r(!1),q=r(null),_=r({company_id:"",role:"employee"}),re=async()=>{var a,t,d;if(!((a=q.value)!=null&&a.id)||!_.value.company_id){alert("–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–ø–∞–Ω–∏—é");return}try{await b.post("/api/employees/attach",{user_id:q.value.id,company_id:_.value.company_id,role:_.value.role}),alert("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—ë–Ω"),T.value=!1,await $()}catch(u){console.error(u),alert(((d=(t=u==null?void 0:u.response)==null?void 0:t.data)==null?void 0:d.message)||"–û—à–∏–±–∫–∞")}},ne=async a=>{q.value=a,_.value={company_id:"",role:"employee"},T.value=!0,await G()},A=r(!1),M=r(null),B=r({role:"employee"}),ie=a=>{M.value=a,B.value={role:a.role||"employee"},A.value=!0},ue=async()=>{var a,t,d,u;if((a=M.value)!=null&&a.id)try{await b.put(`/api/employees/${M.value.id}/update-role`,{role:B.value.role,company_id:(t=M.value.company)==null?void 0:t.id}),alert("–†–æ–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω–∞"),A.value=!1,await $()}catch(l){console.error(l),alert(((u=(d=l==null?void 0:l.response)==null?void 0:d.data)==null?void 0:u.message)||"–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è")}};let J;xe(x,a=>{clearTimeout(J),J=setTimeout(()=>{a.trim().length>=2?de(a.trim()):k.value=[]},400)});const pe=async a=>{var t,d;if(confirm(`–£–¥–∞–ª–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ ¬´${a.name}¬ª?`))try{await b.delete(`/api/employees/${a.id}`,{data:{company_id:a.company.id}}),alert("–°–æ—Ç—Ä—É–¥–Ω–∏–∫ —É–¥–∞–ª—ë–Ω"),await $()}catch(u){console.error(u),alert(((d=(t=u==null?void 0:u.response)==null?void 0:t.data)==null?void 0:d.message)||"–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è")}},P=r(!1),V=r("create"),me=async()=>{P.value=!0,V.value="create",await G()};return be(async()=>{await Promise.all([se(),$()])}),(a,t)=>(s(),o(c,null,[ee(ye(ge),{title:"–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏"}),ee(ce,null,{header:te(()=>[e("div",{class:"flex items-center justify-between"},[t[27]||(t[27]=e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏",-1)),e("button",{class:"rounded-xl bg-indigo-600 text-white px-4 py-2 hover:bg-indigo-700",onClick:me}," + –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ ")])]),default:te(()=>{var d,u;return[e("div",fe,[e("div",ke,[e("div",null,[p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>S.value=l),placeholder:"–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ email‚Ä¶",class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},null,512),[[C,S.value]])]),e("div",null,[p(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>F.value=l),class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},t[28]||(t[28]=[e("option",{value:"all"},"–í—Å–µ —Ä–æ–ª–∏",-1),e("option",{value:"manager"},"–ú–µ–Ω–µ–¥–∂–µ—Ä",-1),e("option",{value:"employee"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫",-1)]),512),[[y,F.value]])]),e("div",null,[p(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>L.value=l),class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},[t[29]||(t[29]=e("option",{value:"all"},"–í—Å–µ –∫–æ–º–ø–∞–Ω–∏–∏",-1)),(s(!0),o(c,null,f(D.value,l=>(s(),o("option",{key:l.id,value:String(l.id)},n(l.name),9,we))),128))],512),[[y,L.value]])])]),e("div",_e,[e("table",he,[t[32]||(t[32]=e("thead",{class:"bg-gray-50 dark:bg-gray-800"},[e("tr",null,[e("th",{class:"text-left px-4 py-3"},"–ò–º—è"),e("th",{class:"text-left px-4 py-3"},"Email"),e("th",{class:"text-left px-4 py-3"},"–ö–æ–º–ø–∞–Ω–∏—è"),e("th",{class:"text-left px-4 py-3"},"–†–æ–ª—å")])],-1)),N.value?(s(),o("tbody",Ce,[(s(),o(c,null,f(5,l=>e("tr",{key:l,class:"animate-pulse"},t[30]||(t[30]=[e("td",{class:"px-4 py-3"},[e("div",{class:"h-4 w-40 bg-gray-200 dark:bg-gray-700 rounded"})],-1),e("td",{class:"px-4 py-3"},[e("div",{class:"h-4 w-56 bg-gray-200 dark:bg-gray-700 rounded"})],-1),e("td",{class:"px-4 py-3"},[e("div",{class:"h-4 w-40 bg-gray-200 dark:bg-gray-700 rounded"})],-1),e("td",{class:"px-4 py-3"},[e("div",{class:"h-5 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})],-1)]))),64))])):(s(),o("tbody",Ue,[(s(!0),o(c,null,f(Q.value,l=>{var h,K,W;return s(),o("tr",{key:l.id,class:"border-t dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/60"},[e("td",Ve,n(l.name),1),e("td",$e,n(l.email),1),e("td",je,n(((h=l.company)==null?void 0:h.name)??"‚Äî"),1),e("td",Me,[e("span",{class:R(["inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-medium ring-1",ae(((W=(K=l.roles)==null?void 0:K[0])==null?void 0:W.name)??"employee")])},n(l.role==="manager"?"–ú–µ–Ω–µ–¥–∂–µ—Ä":"–°–æ—Ç—Ä—É–¥–Ω–∏–∫"),3)]),e("td",Ee,[e("button",{onClick:X=>ne(l),class:"text-xs rounded bg-indigo-600 text-white px-3 py-1 hover:bg-indigo-700"}," –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å –∫ –∫–æ–º–ø–∞–Ω–∏–∏ ",8,Se),e("button",{onClick:X=>ie(l),class:"text-xs rounded bg-yellow-500 text-white px-3 py-1 hover:bg-yellow-600"}," –û–±–Ω–æ–≤–∏—Ç—å ",8,Fe),e("button",{onClick:X=>pe(l),class:"text-xs rounded bg-red-600 text-white px-3 py-1 hover:bg-red-700"}," –£–¥–∞–ª–∏—Ç—å ",8,Le)])])}),128)),Q.value.length?g("",!0):(s(),o("tr",ze,t[31]||(t[31]=[e("td",{colspan:"4",class:"px-4 py-6 text-center text-gray-500 dark:text-gray-400"}," –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ",-1)])))]))])])]),P.value?(s(),o("div",Te,[e("div",qe,[e("div",Ae,[t[33]||(t[33]=e("h2",{class:"text-lg font-semibold text-slate-800 dark:text-slate-100"}," –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ ",-1)),e("button",{onClick:t[3]||(t[3]=l=>P.value=!1),class:"text-xl"},"‚úï")]),e("div",Be,[e("button",{onClick:t[4]||(t[4]=l=>V.value="create"),class:R(["flex-1 py-2 text-center",V.value==="create"?"border-b-2 border-indigo-600 text-indigo-600 font-semibold":"text-slate-500"])}," –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ ",2),e("button",{onClick:t[5]||(t[5]=l=>V.value="attach"),class:R(["flex-1 py-2 text-center",V.value==="attach"?"border-b-2 border-indigo-600 text-indigo-600 font-semibold":"text-slate-500"])}," –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ ",2)]),V.value==="create"?(s(),o("div",Ne,[e("form",{onSubmit:le(Z,["prevent"]),class:"space-y-4"},[e("div",De,[t[42]||(t[42]=e("div",{class:"flex items-center justify-between"},null,-1)),e("form",{class:"mt-4 space-y-4",onSubmit:le(Z,["prevent"])},[e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm mb-1"},"–ò–º—è",-1)),p(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>m.value.name=l),class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},null,512),[[C,m.value.name]]),v.value.name?(s(),o("p",Pe,n(v.value.name[0]),1)):g("",!0)]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm mb-1"},"Email",-1)),p(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>m.value.email=l),type:"email",class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},null,512),[[C,m.value.email]]),v.value.email?(s(),o("p",Re,n(v.value.email[0]),1)):g("",!0)]),e("div",He,[e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm mb-1"},"–ü–∞—Ä–æ–ª—å",-1)),p(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>m.value.password=l),type:"password",class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},null,512),[[C,m.value.password]]),v.value.password?(s(),o("p",Oe,n(v.value.password[0]),1)):g("",!0)]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm mb-1"},"–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ",-1)),p(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>m.value.password_confirmation=l),type:"password",class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},null,512),[[C,m.value.password_confirmation]])])]),e("div",Qe,[e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm mb-1"},"–ö–æ–º–ø–∞–Ω–∏—è",-1)),p(e("select",{"onUpdate:modelValue":t[10]||(t[10]=l=>m.value.company_id=l),required:"",class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},[t[38]||(t[38]=e("option",{disabled:"",value:""},"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–ø–∞–Ω–∏—é",-1)),(s(!0),o(c,null,f(D.value,l=>(s(),o("option",{key:l.id,value:l.id},n(l.name),9,Ze))),128))],512),[[y,m.value.company_id]]),v.value.company_id?(s(),o("p",Ge,n(v.value.company_id[0]),1)):g("",!0)]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm mb-1"},"–†–æ–ª—å",-1)),p(e("select",{"onUpdate:modelValue":t[11]||(t[11]=l=>m.value.role=l),class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},t[40]||(t[40]=[e("option",{value:"manager"},"–ú–µ–Ω–µ–¥–∂–µ—Ä",-1),e("option",{value:"employee"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫",-1)]),512),[[y,m.value.role]])])]),e("div",Ie,[e("button",{type:"button",class:"rounded-lg bg-gray-500 px-4 py-2 text-white",onClick:t[12]||(t[12]=l=>O.value=!1)},"–û—Ç–º–µ–Ω–∞"),e("button",{type:"submit",class:"rounded-lg bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700 disabled:opacity-50",disabled:E.value},n(E.value?"–°–æ–∑–¥–∞—é‚Ä¶":"–°–æ–∑–¥–∞—Ç—å"),9,Je)])],32)])],32)])):(s(),o("div",Ke,[e("div",We,[e("div",Xe,[e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1"},"–ü–æ–∏—Å–∫",-1)),p(e("input",{"onUpdate:modelValue":t[13]||(t[13]=l=>x.value=l),class:"w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"–ò–º—è –∏–ª–∏ email"},null,512),[[C,x.value]])]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1"},"–ö–æ–º–ø–∞–Ω–∏—è",-1)),p(e("select",{"onUpdate:modelValue":t[14]||(t[14]=l=>i.value.company_id=l),class:"w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"},[(s(!0),o(c,null,f(z.value,l=>(s(),o("option",{key:l.id,value:String(l.id)},n(l.name),9,Ye))),128))],512),[[y,i.value.company_id]])])]),e("div",et,[e("div",tt,[w.value?(s(),o("div",lt,"–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...")):(s(!0),o(c,{key:1},f(k.value,l=>(s(),o("div",{key:l.id,class:"flex items-center justify-between gap-3 p-3 hover:bg-slate-50 dark:hover:bg-slate-800/40 transition rounded"},[e("div",null,[e("div",at,n(l.name),1),e("div",st,n(l.email),1)]),e("div",ot,[t[46]||(t[46]=e("label",{class:"text-xs text-slate-500"},"–†–æ–ª—å",-1)),p(e("select",{"onUpdate:modelValue":t[15]||(t[15]=h=>i.value.role=h),class:"rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-sm px-2 py-1"},t[45]||(t[45]=[e("option",{value:"employee"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫",-1),e("option",{value:"manager"},"–ú–µ–Ω–µ–¥–∂–µ—Ä",-1)]),512),[[y,i.value.role]]),e("button",{onClick:h=>i.value.user_id=l.id,class:"px-3 py-1.5 rounded-lg bg-indigo-600 text-white text-sm font-medium hover:bg-indigo-700 transition"}," –í—ã–±—Ä–∞—Ç—å ",8,dt)])]))),128))]),!w.value&&x.value.trim().length===0?(s(),o("div",rt," üîç –í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏–ª–∏ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ")):!w.value&&x.value.trim().length>=2&&k.value.length===0?(s(),o("div",nt," –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã ")):g("",!0)]),e("div",it,[e("button",{onClick:t[16]||(t[16]=l=>j.value=!1),class:"px-4 py-2 rounded-xl bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:opacity-80 transition"}," –û—Ç–º–µ–Ω–∞ "),e("button",{onClick:I,disabled:U.value,class:"px-4 py-2 rounded-xl bg-emerald-600 text-white font-medium hover:bg-emerald-700 disabled:opacity-60 transition"},n(U.value?"–î–æ–±–∞–≤–ª–µ–Ω–∏–µ...":"–î–æ–±–∞–≤–∏—Ç—å"),9,ut)])])]))])])):g("",!0),j.value?(s(),o("div",pt,[e("div",mt,[e("div",vt,[t[47]||(t[47]=e("h3",{class:"text-lg font-semibold text-slate-800 dark:text-slate-100"}," –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ ",-1)),e("button",{onClick:t[17]||(t[17]=l=>j.value=!1),class:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}," ‚úï ")]),e("div",xt,[e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1"},"–ü–æ–∏—Å–∫",-1)),p(e("input",{"onUpdate:modelValue":t[18]||(t[18]=l=>x.value=l),class:"w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"–ò–º—è –∏–ª–∏ email"},null,512),[[C,x.value]])]),e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1"},"–ö–æ–º–ø–∞–Ω–∏—è",-1)),p(e("select",{"onUpdate:modelValue":t[19]||(t[19]=l=>i.value.company_id=l),class:"w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"},[(s(!0),o(c,null,f(z.value,l=>(s(),o("option",{key:l.id,value:String(l.id)},n(l.name),9,bt))),128))],512),[[y,i.value.company_id]])])]),e("div",yt,[e("div",gt,[w.value?(s(),o("div",ct,"–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...")):(s(!0),o(c,{key:1},f(k.value,l=>(s(),o("div",{key:l.id,class:"flex items-center justify-between gap-3 p-3 hover:bg-slate-50 dark:hover:bg-slate-800/40 transition rounded"},[e("div",null,[e("div",ft,n(l.name),1),e("div",kt,n(l.email),1)]),e("div",wt,[t[51]||(t[51]=e("label",{class:"text-xs text-slate-500"},"–†–æ–ª—å",-1)),p(e("select",{"onUpdate:modelValue":t[20]||(t[20]=h=>i.value.role=h),class:"rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-sm px-2 py-1"},t[50]||(t[50]=[e("option",{value:"employee"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫",-1),e("option",{value:"manager"},"–ú–µ–Ω–µ–¥–∂–µ—Ä",-1)]),512),[[y,i.value.role]]),e("button",{onClick:h=>i.value.user_id=l.id,class:"px-3 py-1.5 rounded-lg bg-indigo-600 text-white text-sm font-medium hover:bg-indigo-700 transition"}," –í—ã–±—Ä–∞—Ç—å ",8,_t)])]))),128))]),!w.value&&x.value.trim().length===0?(s(),o("div",ht," üîç –í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏–ª–∏ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ")):!w.value&&x.value.trim().length>=2&&k.value.length===0?(s(),o("div",Ct," –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã ")):g("",!0)]),e("div",Ut,[e("button",{onClick:t[21]||(t[21]=l=>j.value=!1),class:"px-4 py-2 rounded-xl bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:opacity-80 transition"}," –û—Ç–º–µ–Ω–∞ "),e("button",{onClick:I,disabled:U.value,class:"px-4 py-2 rounded-xl bg-emerald-600 text-white font-medium hover:bg-emerald-700 disabled:opacity-60 transition"},n(U.value?"–î–æ–±–∞–≤–ª–µ–Ω–∏–µ...":"–î–æ–±–∞–≤–∏—Ç—å"),9,Vt)])])])):g("",!0),T.value?(s(),o("div",$t,[e("div",jt,[e("h3",Mt," –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å: "+n((d=q.value)==null?void 0:d.name),1),t[54]||(t[54]=e("label",{class:"block text-sm mb-2"},"–ö–æ–º–ø–∞–Ω–∏—è",-1)),p(e("select",{"onUpdate:modelValue":t[22]||(t[22]=l=>_.value.company_id=l),class:"w-full border rounded p-2 mb-3"},[t[52]||(t[52]=e("option",{value:""},"-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–ø–∞–Ω–∏—é --",-1)),(s(!0),o(c,null,f(z.value,l=>(s(),o("option",{key:l.id,value:l.id},n(l.name),9,Et))),128))],512),[[y,_.value.company_id]]),t[55]||(t[55]=e("label",{class:"block text-sm mb-2"},"–†–æ–ª—å",-1)),p(e("select",{"onUpdate:modelValue":t[23]||(t[23]=l=>_.value.role=l),class:"w-full border rounded p-2 mb-3"},t[53]||(t[53]=[e("option",{value:"manager"},"–ú–µ–Ω–µ–¥–∂–µ—Ä",-1),e("option",{value:"employee"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫",-1)]),512),[[y,_.value.role]]),e("div",St,[e("button",{onClick:t[24]||(t[24]=l=>T.value=!1),class:"px-3 py-1 text-sm rounded bg-gray-200"},"–û—Ç–º–µ–Ω–∞"),e("button",{onClick:re,class:"px-3 py-1 text-sm rounded bg-emerald-600 text-white hover:bg-emerald-700"}," –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ")])])])):g("",!0),A.value?(s(),o("div",Ft,[e("div",Lt,[e("h3",zt," –û–±–Ω–æ–≤–∏—Ç—å —Ä–æ–ª—å: "+n((u=M.value)==null?void 0:u.name),1),t[57]||(t[57]=e("label",{class:"block text-sm mb-2"},"–†–æ–ª—å",-1)),p(e("select",{"onUpdate:modelValue":t[25]||(t[25]=l=>B.value.role=l),class:"w-full border rounded p-2 mb-3"},t[56]||(t[56]=[e("option",{value:"manager"},"–ú–µ–Ω–µ–¥–∂–µ—Ä",-1),e("option",{value:"employee"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫",-1)]),512),[[y,B.value.role]]),e("div",Tt,[e("button",{onClick:t[26]||(t[26]=l=>A.value=!1),class:"px-3 py-1 text-sm rounded bg-gray-200"},"–û—Ç–º–µ–Ω–∞"),e("button",{onClick:ue,class:"px-3 py-1 text-sm rounded bg-emerald-600 text-white hover:bg-emerald-700"}," –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ")])])])):g("",!0)]}),_:1})],64))}};export{Pt as default};
