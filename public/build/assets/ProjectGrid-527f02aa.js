import{r as N,w as P,j as B,o as r,c as a,a as e,t as o,d as f,F as g,e as m,u as v,E as b,b as D,N as k}from"./app-e92293fe.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";const G={class:"h-[calc(100vh-100px)] min-h-[600px]"},I={class:"flex items-center justify-between mb-4 px-1"},L={key:0,class:"text-sm font-medium text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded-lg"},E={key:0,class:"grid grid-cols-1 sm:grid-cols-3 gap-6 animate-pulse"},F={class:"col-span-1 space-y-4"},S={key:1,class:"flex flex-col lg:flex-row gap-6 h-full overflow-hidden"},U={class:"w-full lg:w-[30%] overflow-y-auto pr-2 space-y-4 pb-10 custom-scrollbar"},z={key:0,class:"text-center py-8 text-slate-400"},A=["onClick"],M={class:"flex justify-between items-start mb-2"},T={class:"text-xs text-slate-500 mb-3"},V={class:"font-medium text-slate-700 dark:text-slate-300"},q={class:"flex items-center -space-x-1.5 overflow-hidden"},H={class:"flex-1 bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden flex flex-col"},J={key:0,class:"h-full flex flex-col"},K={class:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/50"},O={class:"text-2xl font-bold text-slate-800 dark:text-white"},Q={class:"flex-1 overflow-y-auto p-0"},R={class:"w-full text-left border-collapse"},W={class:"divide-y divide-slate-100 dark:divide-slate-700"},X={key:0},Y=["onClick"],Z={class:"px-6 py-4"},ee={class:"font-medium text-slate-800 dark:text-slate-200"},te={class:"text-xs text-slate-400 mt-0.5 line-clamp-1"},se={class:"px-6 py-4"},le={class:"px-6 py-4"},re={class:"flex items-center"},ae={class:"text-sm text-slate-600 dark:text-slate-400"},oe={class:"px-6 py-4 text-sm text-slate-500 font-mono"},de={key:1,class:"flex items-center justify-center h-full text-slate-400"},ie={__name:"ProjectGrid",props:{projects:Array,loading:Boolean},setup(d){const _=d,i=N(null);P(()=>_.projects,s=>{s&&s.length>0&&!i.value&&(i.value=s[0].id)},{immediate:!0});const n=B(()=>{var s;return((s=_.projects)==null?void 0:s.find(l=>l.id===i.value))||null}),h=(s,l)=>{if(!s||!l)return null;const c=new Date(s),x=new Date(c);return x.setDate(c.getDate()+Number(l)),Math.ceil((x-new Date)/(1e3*60*60*24))},y=s=>s===null?"bg-slate-100 text-slate-500":s>7?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":s>=0?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300",w=s=>(s==null?void 0:s.split(" ").map(l=>l[0]).slice(0,2).join("").toUpperCase())||"?",C=s=>{switch(s){case"high":return"text-rose-600 bg-rose-50 border-rose-200 dark:bg-rose-900/20 dark:border-rose-800 dark:text-rose-300";case"medium":return"text-amber-600 bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:border-amber-800 dark:text-amber-300";default:return"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-400"}},j=s=>{switch(s){case"new":return"–ù–æ–≤–∞—è";case"in_work":return"–í —Ä–∞–±–æ—Ç–µ";default:return s}};return(s,l)=>{var c,x;return r(),a("div",G,[e("div",I,[l[1]||(l[1]=e("h2",{class:"text-xl font-bold text-slate-800 dark:text-white"},"üöÄ –ê–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã",-1)),(c=d.projects)!=null&&c.length?(r(),a("span",L," –í—Å–µ–≥–æ: "+o(d.projects.length),1)):f("",!0)]),d.loading?(r(),a("div",E,[e("div",F,[(r(),a(g,null,m(3,t=>e("div",{key:t,class:"h-32 bg-slate-100 dark:bg-slate-800 rounded-2xl"})),64))]),l[2]||(l[2]=e("div",{class:"col-span-2 h-96 bg-slate-100 dark:bg-slate-800 rounded-2xl"},null,-1))])):(r(),a("div",S,[e("div",U,[(x=d.projects)!=null&&x.length?f("",!0):(r(),a("div",z,"–ù–µ—Ç –ø—Ä–æ–µ–∫—Ç–æ–≤")),(r(!0),a(g,null,m(d.projects,t=>{var u;return r(),a("div",{key:t.id,onClick:p=>i.value=t.id,class:b(["relative p-5 rounded-2xl border transition-all duration-200 cursor-pointer group",[i.value===t.id?"bg-white dark:bg-slate-800 border-indigo-500 ring-1 ring-indigo-500 shadow-md":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-700 hover:border-indigo-300"]])},[e("div",M,[e("h3",{class:b(["font-bold text-slate-800 dark:text-white line-clamp-1",{"text-indigo-600":i.value===t.id}])},o(t.name),3),e("span",{class:b(["text-[10px] font-bold px-2 py-0.5 rounded-full",y(h(t.start_date,t.duration_days))])},o(h(t.start_date,t.duration_days))+" –¥–Ω. ",3)]),e("div",T,[l[3]||(l[3]=D(" üìÖ –°—Ç–∞—Ä—Ç: ",-1)),e("span",V,o(t.start_date),1)]),e("div",q,[(r(!0),a(g,null,m((u=t.managers)==null?void 0:u.slice(0,3),p=>(r(),a("div",{key:p.id,class:"w-6 h-6 rounded-full border border-white dark:border-slate-800 bg-indigo-100 text-indigo-600 flex items-center justify-center text-[9px] font-bold"},o(w(p.name)),1))),128))])],10,A)}),128))]),e("div",H,[n.value?(r(),a("div",J,[e("div",K,[e("div",null,[e("h2",O,o(n.value.name),1),l[4]||(l[4]=e("p",{class:"text-sm text-slate-500 mt-1"},"–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á",-1))]),e("button",{onClick:l[0]||(l[0]=t=>v(k).visit(`/projects/${n.value.id}`)),class:"text-sm bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-xl transition-colors"}," –ü–µ—Ä–µ–π—Ç–∏ –∫ –ø—Ä–æ–µ–∫—Ç—É ‚Üí ")]),e("div",Q,[e("table",R,[l[6]||(l[6]=e("thead",{class:"bg-slate-50 dark:bg-slate-900/30 text-xs uppercase text-slate-500 sticky top-0 backdrop-blur-md"},[e("tr",null,[e("th",{class:"px-6 py-3 font-semibold"},"–ù–∞–∑–≤–∞–Ω–∏–µ"),e("th",{class:"px-6 py-3 font-semibold"},"–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç"),e("th",{class:"px-6 py-3 font-semibold"},"–°—Ç–∞—Ç—É—Å"),e("th",{class:"px-6 py-3 font-semibold"},"–î–µ–¥–ª–∞–π–Ω")])],-1)),e("tbody",W,[!n.value.tasks||n.value.tasks.length===0?(r(),a("tr",X,l[5]||(l[5]=[e("td",{colspan:"4",class:"px-6 py-12 text-center text-slate-500"}," –í —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–¥–∞—á ",-1)]))):f("",!0),(r(!0),a(g,null,m(n.value.tasks,t=>{var u;return r(),a("tr",{key:t.id,onClick:p=>v(k).visit(`/tasks/${t.id}`),class:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors group cursor-pointer"},[e("td",Z,[e("div",ee,o(t.title),1),e("div",te,o(t.description),1)]),e("td",se,[e("span",{class:b(["text-[10px] font-bold px-2 py-1 rounded-md border",C(t.priority)])},o((u=t.priority)==null?void 0:u.toUpperCase()),3)]),e("td",le,[e("div",re,[e("span",{class:b(["w-2 h-2 rounded-full mr-2",t.status==="in_work"?"bg-indigo-500":"bg-slate-300"])},null,2),e("span",ae,o(j(t.status)),1)])]),e("td",oe,o(t.due_date),1)],8,Y)}),128))])])])])):(r(),a("div",de,l[7]||(l[7]=[e("div",{class:"text-center"},[e("p",{class:"text-4xl mb-4"},"üëà"),e("p",null,"–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —Å–ª–µ–≤–∞,"),e("p",null,"—á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∑–∞–¥–∞—á–∏")],-1)])))])]))])}}},xe=$(ie,[["__scopeId","data-v-b512b91d"]]);export{xe as default};
