import{Q as E,k as V,m as u,p as B,o as l,f as a,a as D,u as I,w as F,F as i,l as x,Z as K,b as e,s as d,g as m,h as L,v as M,t as r,e as P,n as Q,x as Z}from"./app-048e9485.js";import{_ as G}from"./AuthenticatedLayout-aadadc44.js";import"./ApplicationLogo-47ea3b8a.js";import"./_plugin-vue_export-helper-c27b6911.js";const H={class:"flex items-center justify-between"},J={class:"flex items-center gap-2"},O={class:"max-w-7xl mx-auto px-4 py-8 space-y-8"},R={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},W={class:"flex items-center gap-3"},X={class:"relative flex-1"},Y={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},ee={key:1,class:"rounded-xl border border-red-200 bg-red-50 dark:border-red-900/50 dark:bg-red-900/20 p-4 text-sm text-red-700 dark:text-red-300"},te={key:2},se={key:0,class:"text-center py-16 border border-dashed rounded-2xl dark:border-slate-800"},le={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},ae=["onClick"],oe={class:"flex items-center gap-3"},re=["src"],ie={key:1,class:"h-12 w-12 rounded-xl bg-slate-100 dark:bg-slate-800 grid place-items-center text-slate-400"},de={class:"min-w-0"},ne={class:"font-semibold truncate",style:{color:"aliceblue"}},ue={class:"text-xs text-slate-500"},ce={key:3,class:"fixed inset-0 z-50 grid place-items-center"},be={class:"relative w-full max-w-md rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-6"},ge={class:"flex items-center justify-between mb-4"},me={class:"flex justify-end gap-2 pt-2"},ve=["disabled"],xe={class:"mt-12 space-y-4"},pe={key:0,class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4"},ke={key:1,class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4"},ye=["onClick"],fe={class:"text-sm text-slate-500"},he={class:"font-semibold truncate",style:{color:"aliceblue"}},_e={class:"mt-2 text-xs text-slate-500"},we={class:"mt-12 space-y-4"},Ce={key:0,class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4"},$e={key:1,class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4"},je=["onClick"],Se={class:"flex items-center justify-between gap-2"},Ve={class:"font-semibold truncate",style:{color:"aliceblue"}},Be={class:"text-xs text-slate-500 truncate mt-1"},De={class:"mt-3 h-2 rounded bg-slate-100 dark:bg-slate-800 overflow-hidden"},Fe={class:"mt-1 text-[11px] text-slate-500"},Le={class:"mt-12 grid md:grid-cols-2 gap-6"},Me={class:"rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/60 p-4"},ze={class:"flex items-center justify-between mb-2"},Ne={class:"text-xs text-slate-500"},qe={key:0,class:"space-y-2"},Te={key:1,class:"space-y-2"},Ue={class:"truncate",style:{color:"aliceblue"}},Ae=["onClick"],Ee={key:0,class:"text-sm text-slate-500"},Ie={class:"rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/60 p-4"},Ke={class:"flex items-center justify-between mb-2"},Pe={class:"text-xs text-slate-500"},Qe={key:0,class:"space-y-2"},Ze={key:1,class:"space-y-2"},Ge={class:"truncate",style:{color:"aliceblue"}},He=["onClick"],Je={key:0,class:"text-sm text-slate-500"},tt={__name:"Dashboard",setup(Oe){const{props:z}=E(),j=V(()=>{var o;return((o=z.auth)==null?void 0:o.roles)??[]}),p=V(()=>j.value.includes("admin")),_=u([]),k=u([]),w=u(!0),y=u(""),C=u(""),g=u(!1),c=u({name:"",logo:null}),f=u(!1),N=o=>{var t;return c.value.logo=((t=o.target.files)==null?void 0:t[0])??null},$=async()=>{var o,t;w.value=!0,y.value="";try{await x.get("/sanctum/csrf-cookie");const{data:s}=await x.get("/api/companies",{withCredentials:!0});_.value=s,k.value=s}catch(s){y.value=((t=(o=s.response)==null?void 0:o.data)==null?void 0:t.message)||"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏–∏"}finally{w.value=!1}},q=()=>{const o=C.value.trim().toLowerCase();k.value=o?_.value.filter(t=>(t.name||"").toLowerCase().includes(o)):_.value},T=async()=>{var o,t;if(c.value.name.trim()){f.value=!0;try{await x.get("/sanctum/csrf-cookie");const s=new FormData;s.append("name",c.value.name),c.value.logo&&s.append("logo",c.value.logo),await x.post("/api/companies",s,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),g.value=!1,c.value={name:"",logo:null},await $()}catch(s){alert(((t=(o=s.response)==null?void 0:o.data)==null?void 0:t.message)||"–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–ø–∞–Ω–∏–∏")}finally{f.value=!1}}},b=u({managing_projects:[],my_tasks:[],my_subtasks:[],due_today:[],overdue:[]}),v=u(!0),U=async()=>{var o;v.value=!0;try{await x.get("/sanctum/csrf-cookie");const{data:t}=await x.get("/api/dashboard/summary",{withCredentials:!0});b.value=t}catch(t){console.error("summary error",((o=t.response)==null?void 0:o.data)??t.message)}finally{v.value=!1}};B(async()=>{await Promise.all([$(),U()])});const A=o=>({low:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300",medium:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300",high:"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300"})[o]||"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300";return B($),(o,t)=>(l(),a(i,null,[D(I(K),{title:"–ü–∞–Ω–µ–ª—å"}),D(G,null,{header:F(()=>[e("div",H,[t[11]||(t[11]=e("h2",{class:"font-semibold text-xl text-slate-800 dark:text-slate-200"},"–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è",-1)),e("div",J,[(l(!0),a(i,null,d(j.value,s=>(l(),a("span",{key:s,class:"text-xs px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300"},r(s),1))),128))])])]),default:F(()=>[e("div",O,[e("div",R,[e("button",{class:"group rounded-2xl border bg-white/80 dark:bg-slate-900/60 border-slate-200 dark:border-slate-800 px-5 py-4 text-left hover:shadow transition",onClick:t[0]||(t[0]=s=>o.$inertia.visit("/calendar"))},t[12]||(t[12]=[e("div",{class:"flex items-center gap-3"},[e("div",{class:"h-10 w-10 rounded-xl bg-purple-500/10 ring-1 ring-purple-500/30 grid place-items-center"},[e("span",{class:"i"},"üìÖ")]),e("div",null,[e("div",{class:"font-semibold",style:{color:"aliceblue"}},"–ö–∞–ª–µ–Ω–¥–∞—Ä—å"),e("div",{class:"text-xs text-slate-500"},"–°–æ–±—ã—Ç–∏—è –∏ –≤—Å—Ç—Ä–µ—á–∏")])],-1)])),e("button",{class:"group rounded-2xl border bg-white/80 dark:bg-slate-900/60 border-slate-200 dark:border-slate-800 px-5 py-4 text-left hover:shadow transition",onClick:t[1]||(t[1]=s=>o.$inertia.visit("/file-storage"))},t[13]||(t[13]=[e("div",{class:"flex items-center gap-3"},[e("div",{class:"h-10 w-10 rounded-xl bg-purple-500/10 ring-1 ring-purple-500/30 grid place-items-center"},[e("span",{class:"i"},"üìÇ")]),e("div",null,[e("div",{class:"font-semibold",style:{color:"aliceblue"}},"–•—Ä–∞–Ω–∏–ª–∏—â–µ"),e("div",{class:"text-xs text-slate-500"},"—Ñ–∞–π–ª—ã")])],-1)])),p.value?(l(),a("button",{key:0,class:"group rounded-2xl border bg-white/80 dark:bg-slate-900/60 border-slate-200 dark:border-slate-800 px-5 py-4 text-left hover:shadow transition",onClick:t[2]||(t[2]=s=>o.$inertia.visit("/employees"))},t[14]||(t[14]=[e("div",{class:"flex items-center gap-3"},[e("div",{class:"h-10 w-10 rounded-xl bg-indigo-500/10 ring-1 ring-indigo-500/30 grid place-items-center"},[e("span",{class:"i"},"üë•")]),e("div",null,[e("div",{class:"font-semibold",style:{color:"aliceblue"}},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏"),e("div",{class:"text-xs text-slate-500"},"–†–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø—ã")])],-1)]))):m("",!0),p.value?(l(),a("button",{key:1,class:"group rounded-2xl border bg-white/80 dark:bg-slate-900/60 border-slate-200 dark:border-slate-800 px-5 py-4 text-left hover:shadow transition",onClick:t[3]||(t[3]=s=>g.value=!0)},t[15]||(t[15]=[e("div",{class:"flex items-center gap-3"},[e("div",{class:"h-10 w-10 rounded-xl bg-emerald-500/10 ring-1 ring-emerald-500/30 grid place-items-center"},[e("span",{class:"i"},"‚ûï")]),e("div",null,[e("div",{class:"font-semibold",style:{color:"aliceblue"}},"–ù–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è"),e("div",{class:"text-xs text-slate-500"},"–°–æ–∑–¥–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é")])],-1)]))):m("",!0)]),e("div",W,[e("div",X,[L(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>C.value=s),onInput:q,type:"text",placeholder:"–ü–æ–∏—Å–∫ –∫–æ–º–ø–∞–Ω–∏–π‚Ä¶",style:{color:"aliceblue"},class:"w-full rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900/60 px-4 py-2.5 text-sm outline-none focus:border-slate-300 dark:focus:border-slate-700"},null,544),[[M,C.value]]),t[16]||(t[16]=e("span",{class:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm"},"‚åòK",-1))]),p.value?(l(),a("button",{key:0,onClick:t[5]||(t[5]=s=>g.value=!0),class:"hidden md:inline-flex items-center gap-2 rounded-xl bg-slate-900 text-white dark:bg-white dark:text-slate-900 px-4 py-2.5 text-sm font-semibold hover:opacity-90"}," –°–æ–∑–¥–∞—Ç—å ")):m("",!0)]),w.value?(l(),a("div",Y,[(l(),a(i,null,d(6,s=>e("div",{key:s,class:"h-28 rounded-2xl bg-slate-100 dark:bg-slate-800 animate-pulse"})),64))])):y.value?(l(),a("div",ee,r(y.value),1)):(l(),a("div",te,[k.value.length?(l(),a("div",le,[(l(!0),a(i,null,d(k.value,s=>{var n;return l(),a("div",{key:s.id,class:"group rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/60 p-4 hover:shadow transition cursor-pointer",onClick:h=>o.$inertia.visit(`/companies/${s.id}`)},[e("div",oe,[s.logo?(l(),a("img",{key:0,src:`/storage/${s.logo}`,alt:"",class:"h-12 w-12 object-cover rounded-xl ring-1 ring-slate-200 dark:ring-slate-800"},null,8,re)):(l(),a("div",ie," üè¢ ")),e("div",de,[e("div",ne,r(s.name),1),e("div",ue,"–ü—Ä–æ–µ–∫—Ç–æ–≤: "+r(((n=s.projects)==null?void 0:n.length)??"‚Äî"),1)])])],8,ae)}),128))])):(l(),a("div",se,[t[17]||(t[17]=e("div",{class:"text-4xl mb-2"},"üè¢",-1)),t[18]||(t[18]=e("div",{class:"font-medium",style:{color:"aliceblue"}},"–ü–æ–∫–∞ –Ω–µ—Ç –∫–æ–º–ø–∞–Ω–∏–π",-1)),t[19]||(t[19]=e("p",{class:"text-sm text-slate-500 mt-1"},"–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—É—é –∫–æ–º–ø–∞–Ω–∏—é, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É.",-1)),p.value?(l(),a("button",{key:0,class:"mt-4 inline-flex items-center gap-2 rounded-xl bg-slate-900 text-white dark:bg-white dark:text-slate-900 px-4 py-2.5 text-sm font-semibold hover:opacity-90",onClick:t[6]||(t[6]=s=>g.value=!0)}," –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é ")):m("",!0)]))])),g.value?(l(),a("div",ce,[e("div",{class:"absolute inset-0 bg-black/50",onClick:t[7]||(t[7]=s=>g.value=!1)}),e("div",be,[e("div",ge,[t[20]||(t[20]=e("h3",{class:"font-semibold text-lg",style:{color:"aliceblue"}},"–ù–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è",-1)),e("button",{onClick:t[8]||(t[8]=s=>g.value=!1),class:"text-slate-400 hover:text-slate-600"},"‚úï")]),e("form",{onSubmit:P(T,["prevent"]),class:"space-y-4"},[e("div",null,[t[21]||(t[21]=e("label",{class:"text-sm font-medium"},"–ù–∞–∑–≤–∞–Ω–∏–µ *",-1)),L(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>c.value.name=s),required:"",class:"mt-1 w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900/60 px-3 py-2 text-sm outline-none focus:border-slate-400 dark:focus:border-slate-600"},null,512),[[M,c.value.name]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"text-sm font-medium",style:{color:"aliceblue"}},"–õ–æ–≥–æ—Ç–∏–ø",-1)),e("input",{type:"file",accept:"image/*",onChange:N,class:"mt-1 w-full text-sm file:mr-4 file:rounded-lg file:border-0 file:bg-slate-900 file:text-white dark:file:bg-white dark:file:text-slate-900 file:px-3 file:py-2"},null,32)]),e("div",me,[e("button",{style:{color:"aliceblue"},type:"button",onClick:t[10]||(t[10]=s=>g.value=!1),class:"rounded-xl px-4 py-2 text-sm border border-slate-200 dark:border-slate-800"}," –û—Ç–º–µ–Ω–∞ "),e("button",{type:"submit",disabled:f.value||!c.value.name.trim(),class:"rounded-xl px-4 py-2 text-sm font-semibold bg-slate-900 text-white dark:bg-white dark:text-slate-900 disabled:opacity-60"},r(f.value?"–°–æ–∑–¥–∞–Ω–∏–µ‚Ä¶":"–°–æ–∑–¥–∞—Ç—å"),9,ve)])],32)])])):m("",!0),e("div",xe,[t[23]||(t[23]=e("div",{class:"flex items-center justify-between"},[e("h3",{class:"text-lg font-semibold",style:{color:"aliceblue"}},"–Ø —Ä—É–∫–æ–≤–æ–∂—É")],-1)),v.value?(l(),a("div",pe,[(l(),a(i,null,d(3,s=>e("div",{key:"mp"+s,class:"h-24 rounded-2xl bg-slate-100 dark:bg-slate-800 animate-pulse"})),64))])):(l(),a("div",ke,[(l(!0),a(i,null,d(b.value.managing_projects,s=>{var n;return l(),a("div",{key:s.id,class:"rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/60 p-4 hover:shadow transition cursor-pointer",onClick:h=>o.$inertia.visit(`/projects/${s.id}`)},[e("div",fe,r(((n=s.company)==null?void 0:n.name)??"‚Äî"),1),e("div",he,r(s.name),1),e("div",_e,"–û—Ç–∫—Ä—ã—Ç—ã—Ö –∑–∞–¥–∞—á: "+r(s.open_tasks_count),1)],8,ye)}),128))]))]),e("div",we,[t[24]||(t[24]=e("div",{class:"flex items-center justify-between"},[e("h3",{class:"text-lg font-semibold",style:{color:"aliceblue"}},"–Ø –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å")],-1)),v.value?(l(),a("div",Ce,[(l(),a(i,null,d(6,s=>e("div",{key:"mt"+s,class:"h-28 rounded-2xl bg-slate-100 dark:bg-slate-800 animate-pulse"})),64))])):(l(),a("div",$e,[(l(!0),a(i,null,d(b.value.my_tasks,s=>{var n,h,S;return l(),a("div",{key:s.id,class:"rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/60 p-4 hover:shadow transition cursor-pointer",onClick:Re=>o.$inertia.visit(`/tasks/${s.id}`)},[e("div",Se,[e("div",Ve,r(s.title),1),e("span",{class:Q(["text-[10px] px-2 py-0.5 rounded-full",A(s.priority)])},r(s.priority??"‚Äî"),3)]),e("div",Be,r(((h=(n=s.project)==null?void 0:n.company)==null?void 0:h.name)??"‚Äî")+" / "+r(((S=s.project)==null?void 0:S.name)??"‚Äî"),1),e("div",De,[e("div",{class:"h-full bg-slate-900 dark:bg-white",style:Z({width:(s.progress??0)+"%"})},null,4)]),e("div",Fe," –°—Ä–æ–∫: "+r(s.due_date??"‚Äî"),1)],8,je)}),128))]))]),e("div",Le,[e("div",Me,[e("div",ze,[t[25]||(t[25]=e("h3",{class:"font-semibold",style:{color:"aliceblue"}},"–°—Ä–æ–∫–∏ —Å–µ–≥–æ–¥–Ω—è",-1)),e("span",Ne,r(b.value.due_today.length),1)]),v.value?(l(),a("div",qe,[(l(),a(i,null,d(4,s=>e("div",{key:"td"+s,class:"h-6 rounded bg-slate-100 dark:bg-slate-800 animate-pulse"})),64))])):(l(),a("ul",Te,[(l(!0),a(i,null,d(b.value.due_today,s=>(l(),a("li",{key:s.id,class:"text-sm flex justify-between gap-3"},[e("span",Ue,r(s.title),1),e("button",{class:"text-xs text-slate-500 hover:text-slate-700",onClick:n=>o.$inertia.visit(`/tasks/${s.id}`)},"–û—Ç–∫—Ä—ã—Ç—å",8,Ae)]))),128)),b.value.due_today.length?m("",!0):(l(),a("li",Ee,"–ù–µ—Ç –∑–∞–¥–∞—á –Ω–∞ —Å–µ–≥–æ–¥–Ω—è üéâ"))]))]),e("div",Ie,[e("div",Ke,[t[26]||(t[26]=e("h3",{class:"font-semibold",style:{color:"aliceblue"}},"–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ",-1)),e("span",Pe,r(b.value.overdue.length),1)]),v.value?(l(),a("div",Qe,[(l(),a(i,null,d(4,s=>e("div",{key:"od"+s,class:"h-6 rounded bg-slate-100 dark:bg-slate-800 animate-pulse"})),64))])):(l(),a("ul",Ze,[(l(!0),a(i,null,d(b.value.overdue,s=>(l(),a("li",{key:s.id,class:"text-sm flex justify-between gap-3"},[e("span",Ge,"‚ö†Ô∏è "+r(s.title),1),e("button",{class:"text-xs text-slate-500 hover:text-slate-700",onClick:n=>o.$inertia.visit(`/tasks/${s.id}`)},"–û—Ç–∫—Ä—ã—Ç—å",8,He)]))),128)),b.value.overdue.length?m("",!0):(l(),a("li",Je,"–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –Ω–µ—Ç"))]))])])])]),_:1})],64))}};export{tt as default};
