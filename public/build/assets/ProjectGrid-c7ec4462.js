import{h as y,i as B,c as D,o,a as r,b as e,t as a,g as p,F as f,d as h,u as w,H as g,f as L,N as v}from"./app-c38d94e2.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";const I={class:"h-[calc(100vh-100px)] min-h-[600px]"},z={class:"flex items-center justify-between mb-4 px-1"},E={key:0,class:"text-sm font-medium text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded-lg"},F={key:0,class:"grid grid-cols-1 sm:grid-cols-3 gap-6 animate-pulse"},M={class:"col-span-1 space-y-4"},S={key:1,class:"flex flex-col lg:flex-row gap-6 h-full overflow-hidden"},U={class:"w-full lg:w-[30%] overflow-y-auto pr-2 space-y-4 pb-10 custom-scrollbar"},W={key:0,class:"text-center py-8 text-slate-400"},A=["onClick"],H={class:"flex justify-between items-start mb-2"},T={class:"text-xs text-slate-500 mb-3"},V={class:"font-medium text-slate-700 dark:text-slate-300"},q={class:"flex items-center -space-x-1.5 overflow-hidden"},J={key:0,class:"absolute bottom-3 right-3 text-xs text-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity"},K={key:0,class:"flex-1 bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden flex flex-col"},O={key:0,class:"h-full flex flex-col"},Q={class:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/50"},R={class:"text-2xl font-bold text-slate-800 dark:text-white"},X={class:"flex-1 overflow-y-auto p-0"},Y={class:"w-full text-left border-collapse"},Z={class:"divide-y divide-slate-100 dark:divide-slate-700"},ee={key:0},te=["onClick"],se={class:"px-6 py-4"},le={class:"font-medium text-slate-800 dark:text-slate-200"},oe={class:"text-xs text-slate-400 mt-0.5 line-clamp-1"},re={class:"px-6 py-4"},ae={class:"px-6 py-4"},de={class:"flex items-center"},ie={class:"text-sm text-slate-600 dark:text-slate-400"},ne={class:"px-6 py-4 text-sm text-slate-500 font-mono"},ce={key:1,class:"flex items-center justify-center h-full text-slate-400"},ue={__name:"ProjectGrid",props:{projects:Array,loading:Boolean},setup(d){const _=d,i=y(null),n=y(window.innerWidth<1024);window.addEventListener("resize",()=>{n.value=window.innerWidth<1024}),B(()=>_.projects,t=>{t&&t.length>0&&!i.value&&(i.value=t[0].id)},{immediate:!0});const c=D(()=>{var t;return((t=_.projects)==null?void 0:t.find(l=>l.id===i.value))||null}),k=(t,l)=>{if(!t||!l)return null;const u=new Date(t),x=new Date(u);return x.setDate(u.getDate()+Number(l)),Math.ceil((x-new Date)/(1e3*60*60*24))},C=t=>t===null?"bg-slate-100 text-slate-500":t>7?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":t>=0?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-300",j=t=>(t==null?void 0:t.split(" ").map(l=>l[0]).slice(0,2).join("").toUpperCase())||"?",P=t=>{switch(t){case"high":return"text-rose-600 bg-rose-50 border-rose-200 dark:bg-rose-900/20 dark:border-rose-800 dark:text-rose-300";case"medium":return"text-amber-600 bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:border-amber-800 dark:text-amber-300";default:return"text-slate-600 bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-400"}},N=t=>{switch(t){case"new":return"–ù–æ–≤–∞—è";case"in_work":return"–í —Ä–∞–±–æ—Ç–µ";default:return t}},$=t=>{n.value?v.visit(`/projects/${t.id}`):i.value=t.id};return(t,l)=>{var u,x;return o(),r("div",I,[e("div",z,[l[1]||(l[1]=e("h2",{class:"text-xl font-bold text-slate-800 dark:text-white"},"üöÄ –ê–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã",-1)),(u=d.projects)!=null&&u.length?(o(),r("span",E," –í—Å–µ–≥–æ: "+a(d.projects.length),1)):p("",!0)]),d.loading?(o(),r("div",F,[e("div",M,[(o(),r(f,null,h(3,s=>e("div",{key:s,class:"h-32 bg-slate-100 dark:bg-slate-800 rounded-2xl"})),64))]),l[2]||(l[2]=e("div",{class:"col-span-2 h-96 bg-slate-100 dark:bg-slate-800 rounded-2xl"},null,-1))])):(o(),r("div",S,[e("div",U,[(x=d.projects)!=null&&x.length?p("",!0):(o(),r("div",W,"–ù–µ—Ç –ø—Ä–æ–µ–∫—Ç–æ–≤")),(o(!0),r(f,null,h(d.projects,s=>{var b;return o(),r("div",{key:s.id,onClick:m=>$(s),class:g(["relative p-5 rounded-2xl border transition-all duration-200 cursor-pointer group",[!n.value&&i.value===s.id?"bg-white dark:bg-slate-800 border-indigo-500 ring-1 ring-indigo-500 shadow-md":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-700 hover:border-indigo-300"]])},[e("div",H,[e("h3",{class:g(["font-bold text-slate-800 dark:text-white line-clamp-1",[!n.value&&i.value===s.id?"text-indigo-600":""]])},a(s.name),3),e("span",{class:g(["text-[10px] font-bold px-2 py-0.5 rounded-full",C(k(s.start_date,s.duration_days))])},a(k(s.start_date,s.duration_days))+" –¥–Ω. ",3)]),e("div",T,[l[3]||(l[3]=L(" üìÖ –°—Ç–∞—Ä—Ç: ",-1)),e("span",V,a(s.start_date),1)]),e("div",q,[(o(!0),r(f,null,h((b=s.managers)==null?void 0:b.slice(0,3),m=>(o(),r("div",{key:m.id,class:"w-6 h-6 rounded-full border border-white dark:border-slate-800 bg-indigo-100 text-indigo-600 flex items-center justify-center text-[9px] font-bold"},a(j(m.name)),1))),128))]),n.value?(o(),r("div",J," –ü–µ—Ä–µ–π—Ç–∏ ‚Üí ")):p("",!0)],10,A)}),128))]),n.value?p("",!0):(o(),r("div",K,[c.value?(o(),r("div",O,[e("div",Q,[e("div",null,[e("h2",R,a(c.value.name),1),l[4]||(l[4]=e("p",{class:"text-sm text-slate-500 mt-1"},"–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á",-1))]),e("button",{onClick:l[0]||(l[0]=s=>w(v).visit(`/projects/${c.value.id}`)),class:"text-sm bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-xl transition-colors"}," –ü–µ—Ä–µ–π—Ç–∏ –∫ –ø—Ä–æ–µ–∫—Ç—É ‚Üí ")]),e("div",X,[e("table",Y,[l[6]||(l[6]=e("thead",{class:"bg-slate-50 dark:bg-slate-900/30 text-xs uppercase text-slate-500 sticky top-0 backdrop-blur-md"},[e("tr",null,[e("th",{class:"px-6 py-3 font-semibold"},"–ù–∞–∑–≤–∞–Ω–∏–µ"),e("th",{class:"px-6 py-3 font-semibold"},"–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç"),e("th",{class:"px-6 py-3 font-semibold"},"–°—Ç–∞—Ç—É—Å"),e("th",{class:"px-6 py-3 font-semibold"},"–î–µ–¥–ª–∞–π–Ω")])],-1)),e("tbody",Z,[!c.value.tasks||c.value.tasks.length===0?(o(),r("tr",ee,l[5]||(l[5]=[e("td",{colspan:"4",class:"px-6 py-12 text-center text-slate-500"}," –í —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–¥–∞—á ",-1)]))):p("",!0),(o(!0),r(f,null,h(c.value.tasks,s=>{var b;return o(),r("tr",{key:s.id,onClick:m=>w(v).visit(`/tasks/${s.id}`),class:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors group cursor-pointer"},[e("td",se,[e("div",le,a(s.title),1),e("div",oe,a(s.description),1)]),e("td",re,[e("span",{class:g(["text-[10px] font-bold px-2 py-1 rounded-md border",P(s.priority)])},a((b=s.priority)==null?void 0:b.toUpperCase()),3)]),e("td",ae,[e("div",de,[e("span",{class:g(["w-2 h-2 rounded-full mr-2",s.status==="in_work"?"bg-indigo-500":"bg-slate-300"])},null,2),e("span",ie,a(N(s.status)),1)])]),e("td",ne,a(s.due_date),1)],8,te)}),128))])])])])):(o(),r("div",ce,l[7]||(l[7]=[e("div",{class:"text-center"},[e("p",{class:"text-4xl mb-4"},"üëà"),e("p",null,"–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —Å–ª–µ–≤–∞,"),e("p",null,"—á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∑–∞–¥–∞—á–∏")],-1)])))]))]))])}}},pe=G(ue,[["__scopeId","data-v-20f28382"]]);export{pe as default};
