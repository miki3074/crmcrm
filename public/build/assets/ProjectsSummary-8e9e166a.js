import{h as y,c as g,o as a,a as l,b as t,F as x,d as b,t as n,g as v,H as k,u as w,N as j,f as z}from"./app-9ce34a01.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";const F={class:"space-y-6"},P={class:"space-y-6"},I={class:"text-xs font-black uppercase tracking-widest text-indigo-500 mb-4 flex justify-between"},V={class:"opacity-50"},A={class:"space-y-3"},O=["onClick"],R={class:"flex justify-between items-start mb-2"},T={class:"text-sm font-bold text-slate-700 dark:text-slate-200 leading-tight"},U={class:"flex items-center gap-3 text-[10px] sm:text-xs text-slate-500 dark:text-slate-400 border-t border-slate-100 dark:border-slate-700/50 pt-2"},E={class:"flex items-center gap-1",title:"Ð”Ð°Ñ‚Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ"},H={class:"ml-auto flex items-center gap-1 bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-indigo-600 dark:text-indigo-300 font-bold"},q={key:1,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},G={class:"relative bg-white dark:bg-slate-900 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl border border-slate-200 dark:border-slate-700 overflow-hidden"},J={class:"p-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-white dark:bg-slate-900 z-10"},K={class:"text-sm text-slate-500"},Q={class:"px-6 py-4 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-800 overflow-x-auto custom-scrollbar"},W={class:"flex gap-2"},X=["onClick"],Y={class:"p-6 overflow-y-auto custom-scrollbar space-y-8"},Z={key:0,class:"text-center py-10 text-slate-400"},tt={class:"text-sm font-black uppercase tracking-widest text-indigo-500 mb-4 sticky top-0 bg-white/90 dark:bg-slate-900/90 backdrop-blur py-2 z-10"},et={class:"text-slate-400 ml-2"},st={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ot=["onClick"],rt={class:"font-bold text-slate-800 dark:text-white line-clamp-2"},at={class:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400 mt-2"},lt={class:"flex flex-col"},nt={class:"bg-indigo-50 dark:bg-slate-700 text-indigo-600 dark:text-indigo-300 px-2 py-1 rounded-lg font-bold"},C=4,dt={__name:"ProjectsSummary",props:["projects"],setup($){const c=$,p=y(!1),i=y("all"),D=r=>r?new Date(r).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"â€”",h=(r,e)=>{if(!r||!e)return"â€”";const s=new Date(r);return s.setDate(s.getDate()+e),s.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})},m=r=>r.reduce((e,s)=>{var o;const d=((o=s.company)==null?void 0:o.name)||"Ð‘ÐµÐ· ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸";return e[d]||(e[d]=[]),e[d].push(s),e},{}),L=g(()=>c.projects.slice(0,C)),S=g(()=>m(L.value)),f=g(()=>Math.max(0,c.projects.length-C)),M=g(()=>{const r=new Set(c.projects.map(e=>{var s;return((s=e.company)==null?void 0:s.name)||"Ð‘ÐµÐ· ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸"}));return Array.from(r).sort()}),_=g(()=>{let r=c.projects;return i.value!=="all"&&(r=r.filter(e=>{var s;return(((s=e.company)==null?void 0:s.name)||"Ð‘ÐµÐ· ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸")===i.value})),m(r)});return(r,e)=>(a(),l("div",F,[e[11]||(e[11]=t("h3",{class:"text-xl font-extrabold text-slate-800 dark:text-slate-100 flex items-center gap-2"}," ðŸš€ ÐŸÑ€Ð¾ÐµÐºÑ‚Ñ‹ Ð¿Ð¾Ð´ Ð¼Ð¾Ð¸Ð¼ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸ÐµÐ¼ ",-1)),t("div",P,[(a(!0),l(x,null,b(S.value,(s,d)=>(a(),l("div",{key:d,class:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-md p-5 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-xl transition-shadow duration-300"},[t("p",I,[t("span",null,n(d),1),t("span",V,n(s.length)+" Ð¿Ð¾ÐºÐ°Ð·Ð°Ð½Ð¾",1)]),t("div",A,[(a(!0),l(x,null,b(s,o=>{var u;return a(),l("div",{key:o.id,onClick:N=>w(j).visit(`/projects/${o.id}`),class:"group relative p-3 bg-white dark:bg-slate-800/50 border border-slate-100 dark:border-slate-800 rounded-2xl hover:bg-indigo-50 dark:hover:bg-indigo-900/20 hover:border-indigo-200 transition cursor-pointer"},[t("div",R,[t("span",T,n(o.name),1),e[4]||(e[4]=t("span",{class:"text-xs text-slate-400 group-hover:translate-x-1 transition"},"â†’",-1))]),t("div",U,[t("div",E,[e[5]||(e[5]=t("span",null,"ðŸ“…",-1)),t("span",null,n(D(o.created_at)),1)]),t("div",{class:k(["flex items-center gap-1",{"text-rose-500 font-medium":!o.duration_days}]),title:"Ð”ÐµÐ´Ð»Ð°Ð¹Ð½"},[e[6]||(e[6]=t("span",null,"ðŸ",-1)),t("span",null,n(h(o.start_date,o.duration_days)),1)],2),t("div",H,[e[7]||(e[7]=t("span",null,"ðŸ“",-1)),t("span",null,n(o.tasks_count||((u=o.tasks)==null?void 0:u.length)||0),1)])])],8,O)}),128))])]))),128))]),f.value>0?(a(),l("button",{key:0,onClick:e[0]||(e[0]=s=>p.value=!0),class:"w-full py-3 rounded-2xl border-2 border-dashed border-indigo-300 dark:border-indigo-700 text-indigo-600 dark:text-indigo-400 font-bold hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition text-sm uppercase tracking-wide"}," ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹ (+"+n(f.value)+") ",1)):v("",!0),p.value?(a(),l("div",q,[t("div",{class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:e[1]||(e[1]=s=>p.value=!1)}),t("div",G,[t("div",J,[t("div",null,[e[8]||(e[8]=t("h2",{class:"text-2xl font-bold text-slate-800 dark:text-white"},"Ð’ÑÐµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹",-1)),t("p",K,"Ð’ÑÐµÐ³Ð¾: "+n(c.projects.length),1)]),t("button",{onClick:e[2]||(e[2]=s=>p.value=!1),class:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition"},e[9]||(e[9]=[t("svg",{class:"w-6 h-6 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",Q,[t("div",W,[t("button",{onClick:e[3]||(e[3]=s=>i.value="all"),class:k(["px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wider transition whitespace-nowrap",i.value==="all"?"bg-indigo-600 text-white shadow-md shadow-indigo-500/30":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-indigo-50 dark:hover:bg-slate-700"])}," Ð’ÑÐµ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸ ",2),(a(!0),l(x,null,b(M.value,s=>(a(),l("button",{key:s,onClick:d=>i.value=s,class:k(["px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wider transition whitespace-nowrap",i.value===s?"bg-indigo-600 text-white shadow-md shadow-indigo-500/30":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-indigo-50 dark:hover:bg-slate-700"])},n(s),11,X))),128))])]),t("div",Y,[Object.keys(_.value).length===0?(a(),l("div",Z," ÐŸÑ€Ð¾ÐµÐºÑ‚Ñ‹ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ‹ ")):v("",!0),(a(!0),l(x,null,b(_.value,(s,d)=>(a(),l("div",{key:d},[t("h4",tt,[z(n(d)+" ",1),t("span",et,"("+n(s.length)+")",1)]),t("div",st,[(a(!0),l(x,null,b(s,o=>{var u;return a(),l("div",{key:o.id,onClick:N=>w(j).visit(`/projects/${o.id}`),class:"group relative p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl hover:border-indigo-400 hover:shadow-lg transition cursor-pointer flex flex-col justify-between h-32"},[t("div",null,[t("h5",rt,n(o.name),1)]),t("div",at,[t("div",lt,[e[10]||(e[10]=t("span",{class:"text-[10px] uppercase font-bold text-slate-400"},"Ð”ÐµÐ´Ð»Ð°Ð¹Ð½",-1)),t("span",null,n(h(o.start_date,o.duration_days)),1)]),t("div",nt,n(o.tasks_count||((u=o.tasks)==null?void 0:u.length)||0)+" Ð·Ð°Ð´Ð°Ñ‡ ",1)])],8,ot)}),128))])]))),128))])])])):v("",!0)]))}},ut=B(dt,[["__scopeId","data-v-e7d2df50"]]);export{ut as default};
