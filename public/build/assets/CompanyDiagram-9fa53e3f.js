import{P as Qp,z as _e,R as rn,S as Py,m as ue,B as Se,U as ky,V as Jt,M as Oy,o as Y,f as re,a as Oe,w as Ze,p as Ie,u as J,W as Sl,E as $y,X as Dy,r as be,N as ct,Y as By,D as on,C as ur,_ as Ee,q as ht,n as Dt,b as ne,t as Pe,g as Ne,F as Re,s as xt,y as Ue,I as eg,$ as Ly,c as ke,a0 as tg,a1 as tr,G as ve,J as we,A as ng,a2 as nr,a3 as zy,a4 as Fy,a5 as Vy,a6 as rg,a7 as Kt,d as ot,a8 as Vn,a9 as Gy,i as ei}from"./app-91672740.js";import{_ as Hy}from"./AuthenticatedLayout-64fc817e.js";import{_ as Uy}from"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-b70f5b8f.js";function Cn(e){return tg()?(tr(e),!0):!1}function at(e){return typeof e=="function"?e():J(e)}const jy=typeof window<"u"&&typeof document<"u",Yy=e=>typeof e<"u",Ky=Object.prototype.toString,Xy=e=>Ky.call(e)==="[object Object]",Wy=()=>{};function Zy(e,t){function n(...r){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(o)})}return n}const ig=e=>e();function Jy(e=ig){const t=be(!0);function n(){t.value=!1}function r(){t.value=!0}const i=(...o)=>{t.value&&e(...o)};return{isActive:Fy(t),pause:n,resume:r,eventFilter:i}}function oc(e,t=!1,n="Timeout"){return new Promise((r,i)=>{setTimeout(t?()=>i(n):r,e)})}function Qy(e,t,n={}){const{eventFilter:r=ig,...i}=n;return _e(e,Zy(r,t),i)}function jt(e,t,n={}){const{eventFilter:r,...i}=n,{eventFilter:o,pause:a,resume:s,isActive:u}=Jy(r);return{stop:Qy(e,t,{...i,eventFilter:o}),pause:a,resume:s,isActive:u}}function e_(e,t={}){if(!Sl(e))return $y(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const r in e.value)n[r]=Dy(()=>({get(){return e.value[r]},set(i){var o;if((o=at(t.replaceRef))!=null?o:!0)if(Array.isArray(e.value)){const s=[...e.value];s[r]=i,e.value=s}else{const s={...e.value,[r]:i};Object.setPrototypeOf(s,Object.getPrototypeOf(e.value)),e.value=s}else e.value[r]=i}}));return n}function al(e,t=!1){function n(d,{flush:f="sync",deep:h=!1,timeout:p,throwOnTimeout:v}={}){let g=null;const w=[new Promise(y=>{g=_e(e,C=>{d(C)!==t&&(g==null||g(),y(C))},{flush:f,deep:h,immediate:!0})})];return p!=null&&w.push(oc(p,v).then(()=>at(e)).finally(()=>g==null?void 0:g())),Promise.race(w)}function r(d,f){if(!Sl(d))return n(C=>C===d,f);const{flush:h="sync",deep:p=!1,timeout:v,throwOnTimeout:g}=f??{};let b=null;const y=[new Promise(C=>{b=_e([e,d],([k,q])=>{t!==(k===q)&&(b==null||b(),C(k))},{flush:h,deep:p,immediate:!0})})];return v!=null&&y.push(oc(v,g).then(()=>at(e)).finally(()=>(b==null||b(),at(e)))),Promise.race(y)}function i(d){return n(f=>!!f,d)}function o(d){return r(null,d)}function a(d){return r(void 0,d)}function s(d){return n(Number.isNaN,d)}function u(d,f){return n(h=>{const p=Array.from(h);return p.includes(d)||p.includes(at(d))},f)}function l(d){return c(1,d)}function c(d=1,f){let h=-1;return n(()=>(h+=1,h>=d),f)}return Array.isArray(at(e))?{toMatch:n,toContains:u,changed:l,changedTimes:c,get not(){return al(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:i,toBeNull:o,toBeNaN:s,toBeUndefined:a,changed:l,changedTimes:c,get not(){return al(e,!t)}}}function sl(e){return al(e)}function t_(e){var t;const n=at(e);return(t=n==null?void 0:n.$el)!=null?t:n}const og=jy?window:void 0;function ag(...e){let t,n,r,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,i]=e,t=og):[t,n,r,i]=e,!t)return Wy;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],a=()=>{o.forEach(c=>c()),o.length=0},s=(c,d,f,h)=>(c.addEventListener(d,f,h),()=>c.removeEventListener(d,f,h)),u=_e(()=>[t_(t),at(i)],([c,d])=>{if(a(),!c)return;const f=Xy(d)?{...d}:d;o.push(...n.flatMap(h=>r.map(p=>s(c,h,p,f))))},{immediate:!0,flush:"post"}),l=()=>{u(),a()};return Cn(l),l}function n_(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function ac(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=og,eventName:o="keydown",passive:a=!1,dedupe:s=!1}=r,u=n_(t);return ag(i,o,c=>{c.repeat&&at(s)||u(c)&&n(c)},a)}function r_(e){return JSON.parse(JSON.stringify(e))}function ti(e,t,n,r={}){var i,o,a;const{clone:s=!1,passive:u=!1,eventName:l,deep:c=!1,defaultValue:d,shouldEmit:f}=r,h=rn(),p=n||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((a=(o=h==null?void 0:h.proxy)==null?void 0:o.$emit)==null?void 0:a.bind(h==null?void 0:h.proxy));let v=l;t||(t="modelValue"),v=v||`update:${t.toString()}`;const g=y=>s?typeof s=="function"?s(y):r_(y):y,b=()=>Yy(e[t])?g(e[t]):d,w=y=>{f?f(y)&&p(v,y):p(v,y)};if(u){const y=b(),C=be(y);let k=!1;return _e(()=>e[t],q=>{k||(k=!0,C.value=g(q),ct(()=>k=!1))}),_e(C,q=>{!k&&(q!==e[t]||c)&&w(q)},{deep:c}),C}else return ue({get(){return b()},set(y){w(y)}})}var i_={value:()=>{}};function Sr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new rr(n)}function rr(e){this._=e}function o_(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}rr.prototype=Sr.prototype={constructor:rr,on:function(e,t){var n=this._,r=o_(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=a_(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=sc(n[i],e.name,t);else if(t==null)for(i in n)n[i]=sc(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new rr(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function a_(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function sc(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=i_,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ul="http://www.w3.org/1999/xhtml";const uc={svg:"http://www.w3.org/2000/svg",xhtml:ul,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),uc.hasOwnProperty(t)?{space:uc[t],local:e}:e}function s_(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ul&&t.documentElement.namespaceURI===ul?t.createElement(e):t.createElementNS(n,e)}}function u_(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function sg(e){var t=Cr(e);return(t.local?u_:s_)(t)}function l_(){}function Cl(e){return e==null?l_:function(){return this.querySelector(e)}}function c_(e){typeof e!="function"&&(e=Cl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),u,l,c=0;c<a;++c)(u=o[c])&&(l=e.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new Le(r,this._parents)}function d_(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function f_(){return[]}function ug(e){return e==null?f_:function(){return this.querySelectorAll(e)}}function h_(e){return function(){return d_(e.apply(this,arguments))}}function v_(e){typeof e=="function"?e=h_(e):e=ug(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&(r.push(e.call(u,u.__data__,l,a)),i.push(u));return new Le(r,i)}function lg(e){return function(){return this.matches(e)}}function cg(e){return function(t){return t.matches(e)}}var p_=Array.prototype.find;function g_(e){return function(){return p_.call(this.children,e)}}function m_(){return this.firstElementChild}function y_(e){return this.select(e==null?m_:g_(typeof e=="function"?e:cg(e)))}var __=Array.prototype.filter;function b_(){return Array.from(this.children)}function w_(e){return function(){return __.call(this.children,e)}}function E_(e){return this.selectAll(e==null?b_:w_(typeof e=="function"?e:cg(e)))}function x_(e){typeof e!="function"&&(e=lg(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&s.push(u);return new Le(r,this._parents)}function dg(e){return new Array(e.length)}function S_(){return new Le(this._enter||this._groups.map(dg),this._parents)}function lr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}lr.prototype={constructor:lr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function C_(e){return function(){return e}}function N_(e,t,n,r,i,o){for(var a=0,s,u=t.length,l=o.length;a<l;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new lr(e,o[a]);for(;a<u;++a)(s=t[a])&&(i[a]=s)}function I_(e,t,n,r,i,o,a){var s,u,l=new Map,c=t.length,d=o.length,f=new Array(c),h;for(s=0;s<c;++s)(u=t[s])&&(f[s]=h=a.call(u,u.__data__,s,t)+"",l.has(h)?i[s]=u:l.set(h,u));for(s=0;s<d;++s)h=a.call(e,o[s],s,o)+"",(u=l.get(h))?(r[s]=u,u.__data__=o[s],l.delete(h)):n[s]=new lr(e,o[s]);for(s=0;s<c;++s)(u=t[s])&&l.get(f[s])===u&&(i[s]=u)}function T_(e){return e.__data__}function A_(e,t){if(!arguments.length)return Array.from(this,T_);var n=t?I_:N_,r=this._parents,i=this._groups;typeof e!="function"&&(e=C_(e));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],d=i[l],f=d.length,h=M_(e.call(c,c&&c.__data__,l,r)),p=h.length,v=s[l]=new Array(p),g=a[l]=new Array(p),b=u[l]=new Array(f);n(c,d,v,g,b,h,t);for(var w=0,y=0,C,k;w<p;++w)if(C=v[w]){for(w>=y&&(y=w+1);!(k=g[y])&&++y<p;);C._next=k||null}}return a=new Le(a,r),a._enter=s,a._exit=u,a}function M_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function R_(){return new Le(this._exit||this._groups.map(dg),this._parents)}function q_(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function P_(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l=n[u],c=r[u],d=l.length,f=s[u]=new Array(d),h,p=0;p<d;++p)(h=l[p]||c[p])&&(f[p]=h);for(;u<i;++u)s[u]=n[u];return new Le(s,this._parents)}function k_(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function O_(e){e||(e=$_);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,u=i[o]=new Array(s),l,c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(t)}return new Le(i,this._parents).order()}function $_(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function D_(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function B_(){return Array.from(this)}function L_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function z_(){let e=0;for(const t of this)++e;return e}function F_(){return!this.node()}function V_(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function G_(e){return function(){this.removeAttribute(e)}}function H_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function U_(e,t){return function(){this.setAttribute(e,t)}}function j_(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Y_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function K_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function X_(e,t){var n=Cr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?H_:G_:typeof t=="function"?n.local?K_:Y_:n.local?j_:U_)(n,t))}function fg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function W_(e){return function(){this.style.removeProperty(e)}}function Z_(e,t,n){return function(){this.style.setProperty(e,t,n)}}function J_(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Q_(e,t,n){return arguments.length>1?this.each((t==null?W_:typeof t=="function"?J_:Z_)(e,t,n??"")):Qt(this.node(),e)}function Qt(e,t){return e.style.getPropertyValue(t)||fg(e).getComputedStyle(e,null).getPropertyValue(t)}function e0(e){return function(){delete this[e]}}function t0(e,t){return function(){this[e]=t}}function n0(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function r0(e,t){return arguments.length>1?this.each((t==null?e0:typeof t=="function"?n0:t0)(e,t)):this.node()[e]}function hg(e){return e.trim().split(/^|\s+/)}function Nl(e){return e.classList||new vg(e)}function vg(e){this._node=e,this._names=hg(e.getAttribute("class")||"")}vg.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function pg(e,t){for(var n=Nl(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function gg(e,t){for(var n=Nl(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function i0(e){return function(){pg(this,e)}}function o0(e){return function(){gg(this,e)}}function a0(e,t){return function(){(t.apply(this,arguments)?pg:gg)(this,e)}}function s0(e,t){var n=hg(e+"");if(arguments.length<2){for(var r=Nl(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?a0:t?i0:o0)(n,t))}function u0(){this.textContent=""}function l0(e){return function(){this.textContent=e}}function c0(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function d0(e){return arguments.length?this.each(e==null?u0:(typeof e=="function"?c0:l0)(e)):this.node().textContent}function f0(){this.innerHTML=""}function h0(e){return function(){this.innerHTML=e}}function v0(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function p0(e){return arguments.length?this.each(e==null?f0:(typeof e=="function"?v0:h0)(e)):this.node().innerHTML}function g0(){this.nextSibling&&this.parentNode.appendChild(this)}function m0(){return this.each(g0)}function y0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _0(){return this.each(y0)}function b0(e){var t=typeof e=="function"?e:sg(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function w0(){return null}function E0(e,t){var n=typeof e=="function"?e:sg(e),r=t==null?w0:typeof t=="function"?t:Cl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function x0(){var e=this.parentNode;e&&e.removeChild(this)}function S0(){return this.each(x0)}function C0(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function N0(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function I0(e){return this.select(e?N0:C0)}function T0(e){return arguments.length?this.property("__data__",e):this.node().__data__}function A0(e){return function(t){e.call(this,t,this.__data__)}}function M0(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function R0(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function q0(e,t,n){return function(){var r=this.__on,i,o=A0(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function P0(e,t,n){var r=M0(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?q0:R0,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function mg(e,t,n){var r=fg(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function k0(e,t){return function(){return mg(this,e,t)}}function O0(e,t){return function(){return mg(this,e,t.apply(this,arguments))}}function $0(e,t){return this.each((typeof t=="function"?O0:k0)(e,t))}function*D0(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var yg=[null];function Le(e,t){this._groups=e,this._parents=t}function Pn(){return new Le([[document.documentElement]],yg)}function B0(){return this}Le.prototype=Pn.prototype={constructor:Le,select:c_,selectAll:v_,selectChild:y_,selectChildren:E_,filter:x_,data:A_,enter:S_,exit:R_,join:q_,merge:P_,selection:B0,order:k_,sort:O_,call:D_,nodes:B_,node:L_,size:z_,empty:F_,each:V_,attr:X_,style:Q_,property:r0,classed:s0,text:d0,html:p0,raise:m0,lower:_0,append:b0,insert:E0,remove:S0,clone:I0,datum:T0,on:P0,dispatch:$0,[Symbol.iterator]:D0};function Ge(e){return typeof e=="string"?new Le([[document.querySelector(e)]],[document.documentElement]):new Le([[e]],yg)}function L0(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Xe(e,t){if(e=L0(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const z0={passive:!1},Nn={capture:!0,passive:!1};function ni(e){e.stopImmediatePropagation()}function Xt(e){e.preventDefault(),e.stopImmediatePropagation()}function _g(e){var t=e.document.documentElement,n=Ge(e).on("dragstart.drag",Xt,Nn);"onselectstart"in t?n.on("selectstart.drag",Xt,Nn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function bg(e,t){var n=e.document.documentElement,r=Ge(e).on("dragstart.drag",null);t&&(r.on("click.drag",Xt,Nn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Gn=e=>()=>e;function ll(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}ll.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function F0(e){return!e.ctrlKey&&!e.button}function V0(){return this.parentNode}function G0(e,t){return t??{x:e.x,y:e.y}}function H0(){return navigator.maxTouchPoints||"ontouchstart"in this}function U0(){var e=F0,t=V0,n=G0,r=H0,i={},o=Sr("start","drag","end"),a=0,s,u,l,c,d=0;function f(C){C.on("mousedown.drag",h).filter(r).on("touchstart.drag",g).on("touchmove.drag",b,z0).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(C,k){if(!(c||!e.call(this,C,k))){var q=y(this,t.call(this,C,k),C,k,"mouse");q&&(Ge(C.view).on("mousemove.drag",p,Nn).on("mouseup.drag",v,Nn),_g(C.view),ni(C),l=!1,s=C.clientX,u=C.clientY,q("start",C))}}function p(C){if(Xt(C),!l){var k=C.clientX-s,q=C.clientY-u;l=k*k+q*q>d}i.mouse("drag",C)}function v(C){Ge(C.view).on("mousemove.drag mouseup.drag",null),bg(C.view,l),Xt(C),i.mouse("end",C)}function g(C,k){if(e.call(this,C,k)){var q=C.changedTouches,M=t.call(this,C,k),A=q.length,D,O;for(D=0;D<A;++D)(O=y(this,M,C,k,q[D].identifier,q[D]))&&(ni(C),O("start",C,q[D]))}}function b(C){var k=C.changedTouches,q=k.length,M,A;for(M=0;M<q;++M)(A=i[k[M].identifier])&&(Xt(C),A("drag",C,k[M]))}function w(C){var k=C.changedTouches,q=k.length,M,A;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),M=0;M<q;++M)(A=i[k[M].identifier])&&(ni(C),A("end",C,k[M]))}function y(C,k,q,M,A,D){var O=o.copy(),T=Xe(D||q,k),N,L,S;if((S=n.call(C,new ll("beforestart",{sourceEvent:q,target:f,identifier:A,active:a,x:T[0],y:T[1],dx:0,dy:0,dispatch:O}),M))!=null)return N=S.x-T[0]||0,L=S.y-T[1]||0,function P(I,$,B){var z=T,F;switch(I){case"start":i[A]=P,F=a++;break;case"end":delete i[A],--a;case"drag":T=Xe(B||$,k),F=a;break}O.call(I,C,new ll(I,{sourceEvent:$,subject:S,target:f,identifier:A,active:F,x:T[0]+N,y:T[1]+L,dx:T[0]-z[0],dy:T[1]-z[1],dispatch:O}),M)}}return f.filter=function(C){return arguments.length?(e=typeof C=="function"?C:Gn(!!C),f):e},f.container=function(C){return arguments.length?(t=typeof C=="function"?C:Gn(C),f):t},f.subject=function(C){return arguments.length?(n=typeof C=="function"?C:Gn(C),f):n},f.touchable=function(C){return arguments.length?(r=typeof C=="function"?C:Gn(!!C),f):r},f.on=function(){var C=o.on.apply(o,arguments);return C===o?f:C},f.clickDistance=function(C){return arguments.length?(d=(C=+C)*C,f):Math.sqrt(d)},f}function Il(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wg(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function kn(){}var In=.7,cr=1/In,Wt="\\s*([+-]?\\d+)\\s*",Tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",j0=/^#([0-9a-f]{3,8})$/,Y0=new RegExp(`^rgb\\(${Wt},${Wt},${Wt}\\)$`),K0=new RegExp(`^rgb\\(${et},${et},${et}\\)$`),X0=new RegExp(`^rgba\\(${Wt},${Wt},${Wt},${Tn}\\)$`),W0=new RegExp(`^rgba\\(${et},${et},${et},${Tn}\\)$`),Z0=new RegExp(`^hsl\\(${Tn},${et},${et}\\)$`),J0=new RegExp(`^hsla\\(${Tn},${et},${et},${Tn}\\)$`),lc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Il(kn,Bt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cc,formatHex:cc,formatHex8:Q0,formatHsl:eb,formatRgb:dc,toString:dc});function cc(){return this.rgb().formatHex()}function Q0(){return this.rgb().formatHex8()}function eb(){return Eg(this).formatHsl()}function dc(){return this.rgb().formatRgb()}function Bt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=j0.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fc(t):n===3?new $e(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Hn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Hn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Y0.exec(e))?new $e(t[1],t[2],t[3],1):(t=K0.exec(e))?new $e(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=X0.exec(e))?Hn(t[1],t[2],t[3],t[4]):(t=W0.exec(e))?Hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Z0.exec(e))?pc(t[1],t[2]/100,t[3]/100,1):(t=J0.exec(e))?pc(t[1],t[2]/100,t[3]/100,t[4]):lc.hasOwnProperty(e)?fc(lc[e]):e==="transparent"?new $e(NaN,NaN,NaN,0):null}function fc(e){return new $e(e>>16&255,e>>8&255,e&255,1)}function Hn(e,t,n,r){return r<=0&&(e=t=n=NaN),new $e(e,t,n,r)}function tb(e){return e instanceof kn||(e=Bt(e)),e?(e=e.rgb(),new $e(e.r,e.g,e.b,e.opacity)):new $e}function cl(e,t,n,r){return arguments.length===1?tb(e):new $e(e,t,n,r??1)}function $e(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Il($e,cl,wg(kn,{brighter(e){return e=e==null?cr:Math.pow(cr,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?In:Math.pow(In,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $e(Ot(this.r),Ot(this.g),Ot(this.b),dr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hc,formatHex:hc,formatHex8:nb,formatRgb:vc,toString:vc}));function hc(){return`#${Pt(this.r)}${Pt(this.g)}${Pt(this.b)}`}function nb(){return`#${Pt(this.r)}${Pt(this.g)}${Pt(this.b)}${Pt((isNaN(this.opacity)?1:this.opacity)*255)}`}function vc(){const e=dr(this.opacity);return`${e===1?"rgb(":"rgba("}${Ot(this.r)}, ${Ot(this.g)}, ${Ot(this.b)}${e===1?")":`, ${e})`}`}function dr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ot(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pt(e){return e=Ot(e),(e<16?"0":"")+e.toString(16)}function pc(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new He(e,t,n,r)}function Eg(e){if(e instanceof He)return new He(e.h,e.s,e.l,e.opacity);if(e instanceof kn||(e=Bt(e)),!e)return new He;if(e instanceof He)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new He(a,s,u,e.opacity)}function rb(e,t,n,r){return arguments.length===1?Eg(e):new He(e,t,n,r??1)}function He(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Il(He,rb,wg(kn,{brighter(e){return e=e==null?cr:Math.pow(cr,e),new He(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?In:Math.pow(In,e),new He(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new $e(ri(e>=240?e-240:e+120,i,r),ri(e,i,r),ri(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new He(gc(this.h),Un(this.s),Un(this.l),dr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dr(this.opacity);return`${e===1?"hsl(":"hsla("}${gc(this.h)}, ${Un(this.s)*100}%, ${Un(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gc(e){return e=(e||0)%360,e<0?e+360:e}function Un(e){return Math.max(0,Math.min(1,e||0))}function ri(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Tl=e=>()=>e;function ib(e,t){return function(n){return e+n*t}}function ob(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ab(e){return(e=+e)==1?xg:function(t,n){return n-t?ob(t,n,e):Tl(isNaN(t)?n:t)}}function xg(e,t){var n=t-e;return n?ib(e,n):Tl(isNaN(e)?t:e)}const fr=function e(t){var n=ab(t);function r(i,o){var a=n((i=cl(i)).r,(o=cl(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),l=xg(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function sb(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function ub(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lb(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=En(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function cb(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function We(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function db(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=En(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var dl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ii=new RegExp(dl.source,"g");function fb(e){return function(){return e}}function hb(e){return function(t){return e(t)+""}}function Sg(e,t){var n=dl.lastIndex=ii.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(e=e+"",t=t+"";(r=dl.exec(e))&&(i=ii.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:We(r,i)})),n=ii.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?hb(u[0].x):fb(t):(t=u.length,function(l){for(var c=0,d;c<t;++c)s[(d=u[c]).i]=d.x(l);return s.join("")})}function En(e,t){var n=typeof t,r;return t==null||n==="boolean"?Tl(t):(n==="number"?We:n==="string"?(r=Bt(t))?(t=r,fr):Sg:t instanceof Bt?fr:t instanceof Date?cb:ub(t)?sb:Array.isArray(t)?lb:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?db:We)(e,t)}var mc=180/Math.PI,fl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Cg(e,t,n,r,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*mc,skewX:Math.atan(u)*mc,scaleX:a,scaleY:s}}var jn;function vb(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?fl:Cg(t.a,t.b,t.c,t.d,t.e,t.f)}function pb(e){return e==null||(jn||(jn=document.createElementNS("http://www.w3.org/2000/svg","g")),jn.setAttribute("transform",e),!(e=jn.transform.baseVal.consolidate()))?fl:(e=e.matrix,Cg(e.a,e.b,e.c,e.d,e.e,e.f))}function Ng(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,d,f,h,p){if(l!==d||c!==f){var v=h.push("translate(",null,t,null,n);p.push({i:v-4,x:We(l,d)},{i:v-2,x:We(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function a(l,c,d,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:We(l,c)})):c&&d.push(i(d)+"rotate("+c+r)}function s(l,c,d,f){l!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:We(l,c)}):c&&d.push(i(d)+"skewX("+c+r)}function u(l,c,d,f,h,p){if(l!==d||c!==f){var v=h.push(i(h)+"scale(",null,",",null,")");p.push({i:v-4,x:We(l,d)},{i:v-2,x:We(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(l,c){var d=[],f=[];return l=e(l),c=e(c),o(l.translateX,l.translateY,c.translateX,c.translateY,d,f),a(l.rotate,c.rotate,d,f),s(l.skewX,c.skewX,d,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,f),l=c=null,function(h){for(var p=-1,v=f.length,g;++p<v;)d[(g=f[p]).i]=g.x(h);return d.join("")}}}var gb=Ng(vb,"px, ","px)","deg)"),mb=Ng(pb,", ",")",")"),yb=1e-12;function yc(e){return((e=Math.exp(e))+1/e)/2}function _b(e){return((e=Math.exp(e))-1/e)/2}function bb(e){return((e=Math.exp(2*e))-1)/(e+1)}const ir=function e(t,n,r){function i(o,a){var s=o[0],u=o[1],l=o[2],c=a[0],d=a[1],f=a[2],h=c-s,p=d-u,v=h*h+p*p,g,b;if(v<yb)b=Math.log(f/l)/t,g=function(M){return[s+M*h,u+M*p,l*Math.exp(t*M*b)]};else{var w=Math.sqrt(v),y=(f*f-l*l+r*v)/(2*l*n*w),C=(f*f-l*l-r*v)/(2*f*n*w),k=Math.log(Math.sqrt(y*y+1)-y),q=Math.log(Math.sqrt(C*C+1)-C);b=(q-k)/t,g=function(M){var A=M*b,D=yc(k),O=l/(n*w)*(D*bb(t*A+k)-_b(k));return[s+O*h,u+O*p,l*D/yc(t*A+k)]}}return g.duration=b*1e3*t/Math.SQRT2,g}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,u=s*s;return e(a,s,u)},i}(Math.SQRT2,2,4);var en=0,hn=0,dn=0,Ig=1e3,hr,vn,vr=0,Lt=0,Nr=0,An=typeof performance=="object"&&performance.now?performance:Date,Tg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Al(){return Lt||(Tg(wb),Lt=An.now()+Nr)}function wb(){Lt=0}function pr(){this._call=this._time=this._next=null}pr.prototype=Ag.prototype={constructor:pr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Al():+n)+(t==null?0:+t),!this._next&&vn!==this&&(vn?vn._next=this:hr=this,vn=this),this._call=e,this._time=n,hl()},stop:function(){this._call&&(this._call=null,this._time=1/0,hl())}};function Ag(e,t,n){var r=new pr;return r.restart(e,t,n),r}function Eb(){Al(),++en;for(var e=hr,t;e;)(t=Lt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--en}function _c(){Lt=(vr=An.now())+Nr,en=hn=0;try{Eb()}finally{en=0,Sb(),Lt=0}}function xb(){var e=An.now(),t=e-vr;t>Ig&&(Nr-=t,vr=e)}function Sb(){for(var e,t=hr,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:hr=n);vn=e,hl(r)}function hl(e){if(!en){hn&&(hn=clearTimeout(hn));var t=e-Lt;t>24?(e<1/0&&(hn=setTimeout(_c,e-An.now()-Nr)),dn&&(dn=clearInterval(dn))):(dn||(vr=An.now(),dn=setInterval(xb,Ig)),en=1,Tg(_c))}}function bc(e,t,n){var r=new pr;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Cb=Sr("start","end","cancel","interrupt"),Nb=[],Mg=0,wc=1,vl=2,or=3,Ec=4,pl=5,ar=6;function Ir(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Ib(e,n,{name:t,index:r,group:i,on:Cb,tween:Nb,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Mg})}function Ml(e,t){var n=je(e,t);if(n.state>Mg)throw new Error("too late; already scheduled");return n}function tt(e,t){var n=je(e,t);if(n.state>or)throw new Error("too late; already running");return n}function je(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ib(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Ag(o,0,n.time);function o(l){n.state=wc,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var c,d,f,h;if(n.state!==wc)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===or)return bc(a);h.state===Ec?(h.state=ar,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=ar,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(bc(function(){n.state===or&&(n.state=Ec,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=vl,n.on.call("start",e,e.__data__,n.index,n.group),n.state===vl){for(n.state=or,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=pl,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===pl&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=ar,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function sr(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>vl&&r.state<pl,r.state=ar,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function Tb(e){return this.each(function(){sr(this,e)})}function Ab(e,t){var n,r;return function(){var i=tt(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Mb(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=tt(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function Rb(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=je(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?Ab:Mb)(n,e,t))}function Rl(e,t,n){var r=e._id;return e.each(function(){var i=tt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return je(i,r).value[t]}}function Rg(e,t){var n;return(typeof t=="number"?We:t instanceof Bt?fr:(n=Bt(t))?(t=n,fr):Sg)(e,t)}function qb(e){return function(){this.removeAttribute(e)}}function Pb(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kb(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function Ob(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function $b(e,t,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s)))}}function Db(e,t,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s)))}}function Bb(e,t){var n=Cr(e),r=n==="transform"?mb:Rg;return this.attrTween(e,typeof t=="function"?(n.local?Db:$b)(n,r,Rl(this,"attr."+e,t)):t==null?(n.local?Pb:qb)(n):(n.local?Ob:kb)(n,r,t))}function Lb(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function zb(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Fb(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&zb(e,o)),n}return i._value=t,i}function Vb(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Lb(e,o)),n}return i._value=t,i}function Gb(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Cr(e);return this.tween(n,(r.local?Fb:Vb)(r,t))}function Hb(e,t){return function(){Ml(this,e).delay=+t.apply(this,arguments)}}function Ub(e,t){return t=+t,function(){Ml(this,e).delay=t}}function jb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Hb:Ub)(t,e)):je(this.node(),t).delay}function Yb(e,t){return function(){tt(this,e).duration=+t.apply(this,arguments)}}function Kb(e,t){return t=+t,function(){tt(this,e).duration=t}}function Xb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Yb:Kb)(t,e)):je(this.node(),t).duration}function Wb(e,t){if(typeof t!="function")throw new Error;return function(){tt(this,e).ease=t}}function Zb(e){var t=this._id;return arguments.length?this.each(Wb(t,e)):je(this.node(),t).ease}function Jb(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;tt(this,e).ease=n}}function Qb(e){if(typeof e!="function")throw new Error;return this.each(Jb(this._id,e))}function e1(e){typeof e!="function"&&(e=lg(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&s.push(u);return new dt(r,this._parents,this._name,this._id)}function t1(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=t[s],l=n[s],c=u.length,d=a[s]=new Array(c),f,h=0;h<c;++h)(f=u[h]||l[h])&&(d[h]=f);for(;s<r;++s)a[s]=t[s];return new dt(a,this._parents,this._name,this._id)}function n1(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function r1(e,t,n){var r,i,o=n1(t)?Ml:tt;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function i1(e,t){var n=this._id;return arguments.length<2?je(this.node(),n).on.on(e):this.each(r1(n,e,t))}function o1(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function a1(){return this.on("end.remove",o1(this._id))}function s1(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Cl(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,l=o[a]=new Array(u),c,d,f=0;f<u;++f)(c=s[f])&&(d=e.call(c,c.__data__,f,s))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d,Ir(l[f],t,n,f,l,je(c,n)));return new dt(o,this._parents,t,n)}function u1(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ug(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,d=0;d<l;++d)if(c=u[d]){for(var f=e.call(c,c.__data__,d,u),h,p=je(c,n),v=0,g=f.length;v<g;++v)(h=f[v])&&Ir(h,t,n,v,f,p);o.push(f),a.push(c)}return new dt(o,a,t,n)}var l1=Pn.prototype.constructor;function c1(){return new l1(this._groups,this._parents)}function d1(e,t){var n,r,i;return function(){var o=Qt(this,e),a=(this.style.removeProperty(e),Qt(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function qg(e){return function(){this.style.removeProperty(e)}}function f1(e,t,n){var r,i=n+"",o;return function(){var a=Qt(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function h1(e,t,n){var r,i,o;return function(){var a=Qt(this,e),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),Qt(this,e))),a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s))}}function v1(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var u=tt(this,e),l=u.on,c=u.value[o]==null?s||(s=qg(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(a,i=c),u.on=r}}function p1(e,t,n){var r=(e+="")=="transform"?gb:Rg;return t==null?this.styleTween(e,d1(e,r)).on("end.style."+e,qg(e)):typeof t=="function"?this.styleTween(e,h1(e,r,Rl(this,"style."+e,t))).each(v1(this._id,e)):this.styleTween(e,f1(e,r,t),n).on("end.style."+e,null)}function g1(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function m1(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&g1(e,a,n)),r}return o._value=t,o}function y1(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,m1(e,t,n??""))}function _1(e){return function(){this.textContent=e}}function b1(e){return function(){var t=e(this);this.textContent=t??""}}function w1(e){return this.tween("text",typeof e=="function"?b1(Rl(this,"text",e)):_1(e==null?"":e+""))}function E1(e){return function(t){this.textContent=e.call(this,t)}}function x1(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&E1(i)),t}return r._value=e,r}function S1(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,x1(e))}function C1(){for(var e=this._name,t=this._id,n=Pg(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=je(u,t);Ir(u,e,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new dt(r,this._parents,e,n)}function N1(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var l=tt(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),l.on=t}),i===0&&o()})}var I1=0;function dt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Pg(){return++I1}var rt=Pn.prototype;dt.prototype={constructor:dt,select:s1,selectAll:u1,selectChild:rt.selectChild,selectChildren:rt.selectChildren,filter:e1,merge:t1,selection:c1,transition:C1,call:rt.call,nodes:rt.nodes,node:rt.node,size:rt.size,empty:rt.empty,each:rt.each,on:i1,attr:Bb,attrTween:Gb,style:p1,styleTween:y1,text:w1,textTween:S1,remove:a1,tween:Rb,delay:jb,duration:Xb,ease:Zb,easeVarying:Qb,end:N1,[Symbol.iterator]:rt[Symbol.iterator]};function T1(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var A1={time:null,delay:0,duration:250,ease:T1};function M1(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function R1(e){var t,n;e instanceof dt?(t=e._id,e=e._name):(t=Pg(),(n=A1).time=Al(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&Ir(u,e,t,l,a,n||M1(u,t));return new dt(r,this._parents,e,t)}Pn.prototype.interrupt=Tb;Pn.prototype.transition=R1;const Yn=e=>()=>e;function q1(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function st(e,t,n){this.k=e,this.x=t,this.y=n}st.prototype={constructor:st,scale:function(e){return e===1?this:new st(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new st(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tn=new st(1,0,0);st.prototype;function oi(e){e.stopImmediatePropagation()}function fn(e){e.preventDefault(),e.stopImmediatePropagation()}function P1(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function k1(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function xc(){return this.__zoom||tn}function O1(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function $1(){return navigator.maxTouchPoints||"ontouchstart"in this}function D1(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function B1(){var e=P1,t=k1,n=D1,r=O1,i=$1,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=ir,l=Sr("start","zoom","end"),c,d,f,h=500,p=150,v=0,g=10;function b(S){S.property("__zoom",xc).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",T).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(S,P,I,$){var B=S.selection?S.selection():S;B.property("__zoom",xc),S!==B?k(S,P,I,$):B.interrupt().each(function(){q(this,arguments).event($).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},b.scaleBy=function(S,P,I,$){b.scaleTo(S,function(){var B=this.__zoom.k,z=typeof P=="function"?P.apply(this,arguments):P;return B*z},I,$)},b.scaleTo=function(S,P,I,$){b.transform(S,function(){var B=t.apply(this,arguments),z=this.__zoom,F=I==null?C(B):typeof I=="function"?I.apply(this,arguments):I,X=z.invert(F),te=typeof P=="function"?P.apply(this,arguments):P;return n(y(w(z,te),F,X),B,a)},I,$)},b.translateBy=function(S,P,I,$){b.transform(S,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),a)},null,$)},b.translateTo=function(S,P,I,$,B){b.transform(S,function(){var z=t.apply(this,arguments),F=this.__zoom,X=$==null?C(z):typeof $=="function"?$.apply(this,arguments):$;return n(tn.translate(X[0],X[1]).scale(F.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof I=="function"?-I.apply(this,arguments):-I),z,a)},$,B)};function w(S,P){return P=Math.max(o[0],Math.min(o[1],P)),P===S.k?S:new st(P,S.x,S.y)}function y(S,P,I){var $=P[0]-I[0]*S.k,B=P[1]-I[1]*S.k;return $===S.x&&B===S.y?S:new st(S.k,$,B)}function C(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function k(S,P,I,$){S.on("start.zoom",function(){q(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){q(this,arguments).event($).end()}).tween("zoom",function(){var B=this,z=arguments,F=q(B,z).event($),X=t.apply(B,z),te=I==null?C(X):typeof I=="function"?I.apply(B,z):I,oe=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),V=B.__zoom,Z=typeof P=="function"?P.apply(B,z):P,W=u(V.invert(te).concat(oe/V.k),Z.invert(te).concat(oe/Z.k));return function(de){if(de===1)de=Z;else{var he=W(de),se=oe/he[2];de=new st(se,te[0]-he[0]*se,te[1]-he[1]*se)}F.zoom(null,de)}})}function q(S,P,I){return!I&&S.__zooming||new M(S,P)}function M(S,P){this.that=S,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,P),this.taps=0}M.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,P){return this.mouse&&S!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var P=Ge(this.that).datum();l.call(S,this.that,new q1(S,{sourceEvent:this.sourceEvent,target:b,type:S,transform:this.that.__zoom,dispatch:l}),P)}};function A(S,...P){if(!e.apply(this,arguments))return;var I=q(this,P).event(S),$=this.__zoom,B=Math.max(o[0],Math.min(o[1],$.k*Math.pow(2,r.apply(this,arguments)))),z=Xe(S);if(I.wheel)(I.mouse[0][0]!==z[0]||I.mouse[0][1]!==z[1])&&(I.mouse[1]=$.invert(I.mouse[0]=z)),clearTimeout(I.wheel);else{if($.k===B)return;I.mouse=[z,$.invert(z)],sr(this),I.start()}fn(S),I.wheel=setTimeout(F,p),I.zoom("mouse",n(y(w($,B),I.mouse[0],I.mouse[1]),I.extent,a));function F(){I.wheel=null,I.end()}}function D(S,...P){if(f||!e.apply(this,arguments))return;var I=S.currentTarget,$=q(this,P,!0).event(S),B=Ge(S.view).on("mousemove.zoom",te,!0).on("mouseup.zoom",oe,!0),z=Xe(S,I),F=S.clientX,X=S.clientY;_g(S.view),oi(S),$.mouse=[z,this.__zoom.invert(z)],sr(this),$.start();function te(V){if(fn(V),!$.moved){var Z=V.clientX-F,W=V.clientY-X;$.moved=Z*Z+W*W>v}$.event(V).zoom("mouse",n(y($.that.__zoom,$.mouse[0]=Xe(V,I),$.mouse[1]),$.extent,a))}function oe(V){B.on("mousemove.zoom mouseup.zoom",null),bg(V.view,$.moved),fn(V),$.event(V).end()}}function O(S,...P){if(e.apply(this,arguments)){var I=this.__zoom,$=Xe(S.changedTouches?S.changedTouches[0]:S,this),B=I.invert($),z=I.k*(S.shiftKey?.5:2),F=n(y(w(I,z),$,B),t.apply(this,P),a);fn(S),s>0?Ge(this).transition().duration(s).call(k,F,$,S):Ge(this).call(b.transform,F,$,S)}}function T(S,...P){if(e.apply(this,arguments)){var I=S.touches,$=I.length,B=q(this,P,S.changedTouches.length===$).event(S),z,F,X,te;for(oi(S),F=0;F<$;++F)X=I[F],te=Xe(X,this),te=[te,this.__zoom.invert(te),X.identifier],B.touch0?!B.touch1&&B.touch0[2]!==te[2]&&(B.touch1=te,B.taps=0):(B.touch0=te,z=!0,B.taps=1+!!c);c&&(c=clearTimeout(c)),z&&(B.taps<2&&(d=te[0],c=setTimeout(function(){c=null},h)),sr(this),B.start())}}function N(S,...P){if(this.__zooming){var I=q(this,P).event(S),$=S.changedTouches,B=$.length,z,F,X,te;for(fn(S),z=0;z<B;++z)F=$[z],X=Xe(F,this),I.touch0&&I.touch0[2]===F.identifier?I.touch0[0]=X:I.touch1&&I.touch1[2]===F.identifier&&(I.touch1[0]=X);if(F=I.that.__zoom,I.touch1){var oe=I.touch0[0],V=I.touch0[1],Z=I.touch1[0],W=I.touch1[1],de=(de=Z[0]-oe[0])*de+(de=Z[1]-oe[1])*de,he=(he=W[0]-V[0])*he+(he=W[1]-V[1])*he;F=w(F,Math.sqrt(de/he)),X=[(oe[0]+Z[0])/2,(oe[1]+Z[1])/2],te=[(V[0]+W[0])/2,(V[1]+W[1])/2]}else if(I.touch0)X=I.touch0[0],te=I.touch0[1];else return;I.zoom("touch",n(y(F,X,te),I.extent,a))}}function L(S,...P){if(this.__zooming){var I=q(this,P).event(S),$=S.changedTouches,B=$.length,z,F;for(oi(S),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),z=0;z<B;++z)F=$[z],I.touch0&&I.touch0[2]===F.identifier?delete I.touch0:I.touch1&&I.touch1[2]===F.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(F=Xe(F,this),Math.hypot(d[0]-F[0],d[1]-F[1])<g)){var X=Ge(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return b.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:Yn(+S),b):r},b.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Yn(!!S),b):e},b.touchable=function(S){return arguments.length?(i=typeof S=="function"?S:Yn(!!S),b):i},b.extent=function(S){return arguments.length?(t=typeof S=="function"?S:Yn([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),b):t},b.scaleExtent=function(S){return arguments.length?(o[0]=+S[0],o[1]=+S[1],b):[o[0],o[1]]},b.translateExtent=function(S){return arguments.length?(a[0][0]=+S[0][0],a[1][0]=+S[1][0],a[0][1]=+S[0][1],a[1][1]=+S[1][1],b):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},b.constrain=function(S){return arguments.length?(n=S,b):n},b.duration=function(S){return arguments.length?(s=+S,b):s},b.interpolate=function(S){return arguments.length?(u=S,b):u},b.on=function(){var S=l.on.apply(l,arguments);return S===l?b:S},b.clickDistance=function(S){return arguments.length?(v=(S=+S)*S,b):Math.sqrt(v)},b.tapDistance=function(S){return arguments.length?(g=+S,b):g},b}var Q=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(Q||{}),ql=(e=>(e.Partial="partial",e.Full="full",e))(ql||{}),Rt=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(Rt||{}),Nt=(e=>(e.Strict="strict",e.Loose="loose",e))(Nt||{}),gl=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(gl||{}),xn=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(xn||{}),kg=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(kg||{});const L1=["INPUT","SELECT","TEXTAREA"],z1=typeof document<"u"?document:null;function ml(e){var t,n;const r=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,i=typeof(r==null?void 0:r.hasAttribute)=="function"?r.hasAttribute("contenteditable"):!1,o=typeof(r==null?void 0:r.closest)=="function"?r.closest(".nokey"):null;return L1.includes(r==null?void 0:r.nodeName)||i||!!o}function F1(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function Sc(e,t,n,r){const i=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(a=>a.trim().toLowerCase());if(i.length===1)return e.toLowerCase()===t.toLowerCase();r||n.add(e.toLowerCase());const o=i.every((a,s)=>n.has(a)&&Array.from(n.values())[s]===i[s]);return r&&n.delete(e.toLowerCase()),o}function V1(e,t){return n=>{if(!n.code&&!n.key)return!1;const r=G1(n.code,e);return Array.isArray(e)?e.some(i=>Sc(n[r],i,t,n.type==="keyup")):Sc(n[r],e,t,n.type==="keyup")}}function G1(e,t){return t.includes(e)?"code":"key"}function Sn(e,t){const n=ue(()=>ve(t==null?void 0:t.target)??z1),r=ur(ve(e)===!0);let i=!1;const o=new Set;let a=u(ve(e));_e(()=>ve(e),(l,c)=>{typeof c=="boolean"&&typeof l!="boolean"&&s(),a=u(l)},{immediate:!0}),ag(["blur","contextmenu"],s),ac((...l)=>a(...l),l=>{var c,d;const f=ve(t==null?void 0:t.actInsideInputWithModifier)??!0,h=ve(t==null?void 0:t.preventDefault)??!1;if(i=F1(l),(!i||i&&!f)&&ml(l))return;const v=((d=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:d[0])||l.target,g=(v==null?void 0:v.nodeName)==="BUTTON"||(v==null?void 0:v.nodeName)==="A";!h&&(i||!g)&&l.preventDefault(),r.value=!0},{eventName:"keydown",target:n}),ac((...l)=>a(...l),l=>{const c=ve(t==null?void 0:t.actInsideInputWithModifier)??!0;if(r.value){if((!i||i&&!c)&&ml(l))return;i=!1,r.value=!1}},{eventName:"keyup",target:n});function s(){i=!1,o.clear(),r.value=ve(e)===!0}function u(l){return l===null?(s(),()=>!1):typeof l=="boolean"?(s(),r.value=l,()=>!1):Array.isArray(l)||typeof l=="string"?V1(l,o):l}return r}const Og="vue-flow__node-desc",$g="vue-flow__edge-desc",H1="vue-flow__aria-live",Dg=["Enter"," ","Escape"],Zt={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function gr(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function mr(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)}function Tr(e){return{width:e.offsetWidth,height:e.offsetHeight}}function zt(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Bg(e,t){return{x:zt(e.x,t[0][0],t[1][0]),y:zt(e.y,t[0][1],t[1][1])}}function Cc(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function It(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function $t(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!It(e)}function pn(e){return $t(e)&&"computedPosition"in e}function Kn(e){return!Number.isNaN(e)&&Number.isFinite(e)}function U1(e){return Kn(e.width)&&Kn(e.height)&&Kn(e.x)&&Kn(e.y)}function j1(e,t,n){const r={id:e.id.toString(),type:e.type??"default",dimensions:nr({width:0,height:0}),computedPosition:nr({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Te(e.data)?e.data:{},events:nr(Te(e.events)?e.events:{})};return Object.assign(t??r,e,{id:e.id.toString(),parentNode:n})}function Lg(e,t,n){var r,i;const o={id:e.id.toString(),type:e.type??(t==null?void 0:t.type)??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(r=e.sourceHandle)==null?void 0:r.toString(),targetHandle:(i=e.targetHandle)==null?void 0:i.toString(),updatable:e.updatable??(n==null?void 0:n.updatable),selectable:e.selectable??(n==null?void 0:n.selectable),focusable:e.focusable??(n==null?void 0:n.focusable),data:Te(e.data)?e.data:{},events:nr(Te(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??(n==null?void 0:n.interactionWidth),...n??{}};return Object.assign(t??o,e,{id:e.id.toString()})}function zg(e,t,n,r){const i=typeof e=="string"?e:e.id,o=new Set,a=r==="source"?"target":"source";for(const s of n)s[a]===i&&o.add(s[r]);return t.filter(s=>o.has(s.id))}function Y1(...e){if(e.length===3){const[o,a,s]=e;return zg(o,a,s,"target")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(o=>It(o)&&o.source===r).map(o=>n.find(a=>$t(a)&&a.id===o.target))}function K1(...e){if(e.length===3){const[o,a,s]=e;return zg(o,a,s,"source")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(o=>It(o)&&o.target===r).map(o=>n.find(a=>$t(a)&&a.id===o.source))}function Fg({source:e,sourceHandle:t,target:n,targetHandle:r}){return`vueflow__edge-${e}${t??""}-${n}${r??""}`}function X1(e,t){return t.some(n=>It(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Mn({x:e,y:t},{x:n,y:r,zoom:i}){return{x:e*i+n,y:t*i+r}}function Rn({x:e,y:t},{x:n,y:r,zoom:i},o=!1,a=[1,1]){const s={x:(e-n)/i,y:(t-r)/i};return o?Ar(s,a):s}function W1(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function Vg({x:e,y:t,width:n,height:r}){return{x:e,y:t,x2:e+n,y2:t+r}}function Z1({x:e,y:t,x2:n,y2:r}){return{x:e,y:t,width:n-e,height:r-t}}function Gg(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const r=e[n];t=W1(t,Vg({...r.computedPosition,...r.dimensions}))}return Z1(t)}function Hg(e,t,n={x:0,y:0,zoom:1},r=!1,i=!1){const o={...Rn(t,n),width:t.width/n.zoom,height:t.height/n.zoom},a=[];for(const s of e){const{dimensions:u,selectable:l=!0,hidden:c=!1}=s,d=u.width??s.width??null,f=u.height??s.height??null;if(i&&!l||c)continue;const h=mr(o,gr(s)),p=d===null||f===null,v=r&&h>0,g=(d??0)*(f??0);(p||v||h>=g||s.dragging)&&a.push(s)}return a}function Ug(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const r of e)n.add(r.id);return t.filter(r=>n.has(r.source)||n.has(r.target))}function Yt(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return On(`The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function J1(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Yt(e,n),i=Yt(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Yt(e.top??e.y??0,n),i=Yt(e.bottom??e.y??0,n),o=Yt(e.left??e.x??0,t),a=Yt(e.right??e.x??0,t);return{top:r,right:a,bottom:i,left:o,x:o+a,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Q1(e,t,n,r,i,o){const{x:a,y:s}=Mn(e,{x:t,y:n,zoom:r}),{x:u,y:l}=Mn({x:e.x+e.width,y:e.y+e.height},{x:t,y:n,zoom:r}),c=i-u,d=o-l;return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(c),bottom:Math.floor(d)}}function Nc(e,t,n,r,i,o=.1){const a=J1(o,t,n),s=(t-a.x)/e.width,u=(n-a.y)/e.height,l=Math.min(s,u),c=zt(l,r,i),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*c,p=n/2-f*c,v=Q1(e,h,p,c,t,n),g={left:Math.min(v.left-a.left,0),top:Math.min(v.top-a.top,0),right:Math.min(v.right-a.right,0),bottom:Math.min(v.bottom-a.bottom,0)};return{x:h-g.left+g.right,y:p-g.top+g.bottom,zoom:c}}function ew(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function jg(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:jg(n,t):!1}function qn(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`}function Ic(e){const t=e.ctrlKey&&yr()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t}function Tc(e,t,n){return e<t?zt(Math.abs(e-t),1,t)/t:e>n?-zt(Math.abs(e-n),1,t)/t:0}function Yg(e,t,n=15,r=40){const i=Tc(e.x,r,t.width-r)*n,o=Tc(e.y,r,t.height-r)*n;return[i,o]}function ai(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,r=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||r>0||e.position.x<0||e.position.y<0){let i={};if(typeof t.style=="function"?i={...t.style(t)}:t.style&&(i={...t.style}),i.width=i.width??`${t.dimensions.width}px`,i.height=i.height??`${t.dimensions.height}px`,n>0)if(typeof i.width=="string"){const o=Number(i.width.replace("px",""));i.width=`${o+n}px`}else i.width+=n;if(r>0)if(typeof i.height=="string"){const o=Number(i.height.replace("px",""));i.height=`${o+r}px`}else i.height+=r;if(e.position.x<0){const o=Math.abs(e.position.x);if(t.position.x=t.position.x-o,typeof i.width=="string"){const a=Number(i.width.replace("px",""));i.width=`${a+o}px`}else i.width+=o;e.position.x=0}if(e.position.y<0){const o=Math.abs(e.position.y);if(t.position.y=t.position.y-o,typeof i.height=="string"){const a=Number(i.height.replace("px",""));i.height=`${a+o}px`}else i.height+=o;e.position.y=0}t.dimensions.width=Number(i.width.toString().replace("px","")),t.dimensions.height=Number(i.height.toString().replace("px","")),typeof t.style=="function"?t.style=o=>{const a=t.style;return{...a(o),...i}}:t.style={...t.style,...i}}}}function Ac(e,t){var n,r;const i=e.filter(a=>a.type==="add"||a.type==="remove");for(const a of i)if(a.type==="add")t.findIndex(u=>u.id===a.item.id)===-1&&t.push(a.item);else if(a.type==="remove"){const s=t.findIndex(u=>u.id===a.id);s!==-1&&t.splice(s,1)}const o=t.map(a=>a.id);for(const a of t)for(const s of e)if(s.id===a.id)switch(s.type){case"select":a.selected=s.selected;break;case"position":if(pn(a)&&(typeof s.position<"u"&&(a.position=s.position),typeof s.dragging<"u"&&(a.dragging=s.dragging),a.expandParent&&a.parentNode)){const u=t[o.indexOf(a.parentNode)];u&&pn(u)&&ai(a,u)}break;case"dimensions":if(pn(a)&&(typeof s.dimensions<"u"&&(a.dimensions=s.dimensions),typeof s.updateStyle<"u"&&s.updateStyle&&(a.style={...a.style||{},width:`${(n=s.dimensions)==null?void 0:n.width}px`,height:`${(r=s.dimensions)==null?void 0:r.height}px`}),typeof s.resizing<"u"&&(a.resizing=s.resizing),a.expandParent&&a.parentNode)){const u=t[o.indexOf(a.parentNode)];u&&pn(u)&&(!!u.dimensions.width&&!!u.dimensions.height?ai(a,u):ct(()=>{ai(a,u)}))}break}return t}function wt(e,t){return{id:e,type:"select",selected:t}}function Mc(e){return{item:e,type:"add"}}function Rc(e){return{id:e,type:"remove"}}function qc(e,t,n,r,i){return{id:e,source:t,target:n,sourceHandle:r||null,targetHandle:i||null,type:"remove"}}function Et(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const a=t.has(i);!(o.selected===void 0&&!a)&&o.selected!==a&&(n&&(o.selected=a),r.push(wt(o.id,a)))}return r}const Pc=()=>{};function H(e){const t=new Set;let n=Pc,r=()=>!1;const i=()=>t.size>0||r(),o=f=>{n=f},a=()=>{n=Pc},s=f=>{r=f},u=()=>{r=()=>!1},l=f=>{t.delete(f)};return{on:f=>{t.add(f);const h=()=>l(f);return Cn(h),{off:h}},off:l,trigger:f=>{const h=[n];return i()?h.push(...t):e&&h.push(e),Promise.allSettled(h.map(p=>p(f)))},hasListeners:i,listeners:t,setEmitter:o,removeEmitter:a,setHasEmitListeners:s,removeHasEmitListeners:u}}function kc(e,t,n){let r=e;do{if(r&&r.matches(t))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function tw(e,t,n,r){var i,o;const a=new Map;for(const[s,u]of e)(u.selected||u.id===r)&&(!u.parentNode||!jg(u,e))&&(u.draggable||t&&typeof u.draggable>"u")&&e.get(s)&&a.set(s,{id:u.id,position:u.position||{x:0,y:0},distance:{x:n.x-((i=u.computedPosition)==null?void 0:i.x)||0,y:n.y-((o=u.computedPosition)==null?void 0:o.y)||0},from:{x:u.computedPosition.x,y:u.computedPosition.y},extent:u.extent,parentNode:u.parentNode,dimensions:{...u.dimensions},expandParent:u.expandParent});return Array.from(a.values())}function si({id:e,dragItems:t,findNode:n}){const r=[];for(const i of t){const o=n(i.id);o&&r.push(o)}return[e?r.find(i=>i.id===e):r[0],r]}function Kg(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function nw(e,t,n){const[r,i,o,a]=typeof e!="string"?Kg(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+a,n.computedPosition.y+r],[n.computedPosition.x+n.dimensions.width-i,n.computedPosition.y+n.dimensions.height-o]]:!1}function rw(e,t,n,r){let i=e.extent||n;if((i==="parent"||!Array.isArray(i)&&(i==null?void 0:i.range)==="parent")&&!e.expandParent)if(e.parentNode&&r&&e.dimensions.width&&e.dimensions.height){const o=nw(i,e,r);o&&(i=o)}else t(new qe(Ae.NODE_EXTENT_INVALID,e.id)),i=n;else if(Array.isArray(i)){const o=(r==null?void 0:r.computedPosition.x)||0,a=(r==null?void 0:r.computedPosition.y)||0;i=[[i[0][0]+o,i[0][1]+a],[i[1][0]+o,i[1][1]+a]]}else if(i!=="parent"&&(i!=null&&i.range)&&Array.isArray(i.range)){const[o,a,s,u]=Kg(i.padding),l=(r==null?void 0:r.computedPosition.x)||0,c=(r==null?void 0:r.computedPosition.y)||0;i=[[i.range[0][0]+l+u,i.range[0][1]+c+o],[i.range[1][0]+l-a,i.range[1][1]+c-s]]}return i==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:i}function iw({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function Pl(e,t,n,r,i){const o=iw(e.dimensions,rw(e,n,r,i)),a=Bg(t,o);return{position:{x:a.x-((i==null?void 0:i.computedPosition.x)||0),y:a.y-((i==null?void 0:i.computedPosition.y)||0)},computedPosition:a}}function nn(e,t,n=Q.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.computedPosition.x,o=((t==null?void 0:t.y)??0)+e.computedPosition.y,{width:a,height:s}=t??uw(e);if(r)return{x:i+a/2,y:o+s/2};switch((t==null?void 0:t.position)??n){case Q.Top:return{x:i+a/2,y:o};case Q.Right:return{x:i+a,y:o+s/2};case Q.Bottom:return{x:i+a/2,y:o+s};case Q.Left:return{x:i,y:o+s/2}}}function Oc(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function ow({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:a,height:s,viewport:u}){const l={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const c=Vg({x:(0-u.x)/u.zoom,y:(0-u.y)/u.zoom,width:a/u.zoom,height:s/u.zoom}),d=Math.max(0,Math.min(c.x2,l.x2)-Math.max(c.x,l.x)),f=Math.max(0,Math.min(c.y2,l.y2)-Math.max(c.y,l.y));return Math.ceil(d*f)>0}function aw(e,t,n=!1){const r=typeof e.zIndex=="number";let i=r?e.zIndex:0;const o=t(e.source),a=t(e.target);return!o||!a?0:(n&&(i=r?e.zIndex:Math.max(o.computedPosition.z||0,a.computedPosition.z||0)),i)}var Ae=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(Ae||{});const $c={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class qe extends Error{constructor(t,...n){var r;super((r=$c[t])==null?void 0:r.call($c,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function kl(e){return"clientX"in e}function sw(e){return"sourceEvent"in e}function Je(e,t){const n=kl(e);let r,i;return n?(r=e.clientX,i=e.clientY):"touches"in e&&e.touches.length>0?(r=e.touches[0].clientX,i=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(r=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY):(r=0,i=0),{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}}const yr=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function uw(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function Ar(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const lw=()=>!0;function ui(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function cw(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())mr(i,gr(o))>0&&r.push(o);return r}const dw=250;function fw(e,t,n,r){var i,o;let a=[],s=Number.POSITIVE_INFINITY;const u=cw(e,n,t+dw);for(const l of u){const c=[...((i=l.handleBounds)==null?void 0:i.source)??[],...((o=l.handleBounds)==null?void 0:o.target)??[]];for(const d of c){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:f,y:h}=nn(l,d,d.position,!0),p=Math.sqrt((f-e.x)**2+(h-e.y)**2);p>t||(p<s?(a=[{...d,x:f,y:h}],s=p):p===s&&a.push({...d,x:f,y:h}))}}if(!a.length)return null;if(a.length>1){const l=r.type==="source"?"target":"source";return a.find(c=>c.type===l)??a[0]}return a[0]}function Dc(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:a,lib:s,flowId:u,isValidConnection:l=lw},c,d,f,h){const p=o==="target",v=t?a.querySelector(`.${s}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y:b}=Je(e),w=a.elementFromPoint(g,b),y=w!=null&&w.classList.contains(`${s}-flow__handle`)?w:v,C={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const k=Xg(void 0,y),q=y.getAttribute("data-nodeid"),M=y.getAttribute("data-handleid"),A=y.classList.contains("connectable"),D=y.classList.contains("connectableend");if(!q||!k)return C;const O={source:p?q:r,sourceHandle:p?M:i,target:p?r:q,targetHandle:p?i:M};C.connection=O;const N=A&&D&&(n===Nt.Strict?p&&k==="source"||!p&&k==="target":q!==r||M!==i);C.isValid=N&&l(O,{nodes:d,edges:c,sourceNode:f(O.source),targetNode:f(O.target)}),C.toHandle=Wg(q,k,M,h,n,!0)}return C}function Xg(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function hw(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function vw(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function Wg(e,t,n,r,i,o=!1){var a,s,u;const l=r.get(e);if(!l)return null;const c=i===Nt.Strict?(a=l.handleBounds)==null?void 0:a[t]:[...((s=l.handleBounds)==null?void 0:s.source)??[],...((u=l.handleBounds)==null?void 0:u.target)??[]],d=(n?c==null?void 0:c.find(f=>f.id===n):c==null?void 0:c[0])??null;return d&&o?{...d,...nn(l,d,d.position,!0)}:d}const yl={[Q.Left]:Q.Right,[Q.Right]:Q.Left,[Q.Top]:Q.Bottom,[Q.Bottom]:Q.Top},pw=["production","prod"];function On(e,...t){Zg()&&console.warn(`[Vue Flow]: ${e}`,...t)}function Zg(){return!pw.includes("production")}function Bc(e,t,n,r,i){const o=t.querySelectorAll(`.vue-flow__handle.${e}`);return o!=null&&o.length?Array.from(o).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:i,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...Tr(a)}}):null}function _l(e,t,n,r,i,o=!1,a){i.value=!1,e.selected?(o||e.selected&&t)&&(r([e]),ct(()=>{a.blur()})):n([e])}function Te(e){return typeof J(e)<"u"}function gw(e,t,n,r){if(!e||!e.source||!e.target)return n(new qe(Ae.EDGE_INVALID,(e==null?void 0:e.id)??"[ID UNKNOWN]")),!1;let i;return It(e)?i=e:i={...e,id:Fg(e)},i=Lg(i,void 0,r),X1(i,t)?!1:i}function mw(e,t,n,r,i){if(!t.source||!t.target)return i(new qe(Ae.EDGE_INVALID,e.id)),!1;if(!n)return i(new qe(Ae.EDGE_NOT_FOUND,e.id)),!1;const{id:o,...a}=e;return{...a,id:r?Fg(t):o,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function Lc(e,t,n){const r={},i=[];for(let o=0;o<e.length;++o){const a=e[o];if(!$t(a)){n(new qe(Ae.NODE_INVALID,a==null?void 0:a.id)||`[ID UNKNOWN|INDEX ${o}]`);continue}const s=j1(a,t(a.id),a.parentNode);a.parentNode&&(r[a.parentNode]=!0),i[o]=s}for(const o of i){const a=t(o.parentNode)||i.find(s=>s.id===o.parentNode);o.parentNode&&!a&&n(new qe(Ae.NODE_MISSING_PARENT,o.id,o.parentNode)),(o.parentNode||r[o.id])&&(r[o.id]&&(o.isParent=!0),a&&(a.isParent=!0))}return i}function zc(e,t,n,r,i,o){let a=i;const s=r.get(a)||new Map;r.set(a,s.set(n,t)),a=`${i}-${e}`;const u=r.get(a)||new Map;if(r.set(a,u.set(n,t)),o){a=`${i}-${e}-${o}`;const l=r.get(a)||new Map;r.set(a,l.set(n,t))}}function li(e,t,n){e.clear();for(const r of n){const{source:i,target:o,sourceHandle:a=null,targetHandle:s=null}=r,u={edgeId:r.id,source:i,target:o,sourceHandle:a,targetHandle:s},l=`${i}-${a}--${o}-${s}`,c=`${o}-${s}--${i}-${a}`;zc("source",u,c,e,i,a),zc("target",u,l,e,o,s)}}function Fc(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function ci(e,t,n,r,i,o,a,s){const u=[];for(const l of e){const c=It(l)?l:gw(l,s,i,o);if(!c)continue;const d=n(c.source),f=n(c.target);if(!d||!f){i(new qe(Ae.EDGE_SOURCE_TARGET_MISSING,c.id,c.source,c.target));continue}if(!d){i(new qe(Ae.EDGE_SOURCE_MISSING,c.id,c.source));continue}if(!f){i(new qe(Ae.EDGE_TARGET_MISSING,c.id,c.target));continue}if(t&&!t(c,{edges:s,nodes:a,sourceNode:d,targetNode:f})){i(new qe(Ae.EDGE_INVALID,c.id));continue}const h=r(c.id);u.push({...Lg(c,h,o),sourceNode:d,targetNode:f})}return u}const Vc=Symbol("vueFlow"),Jg=Symbol("nodeId"),Qg=Symbol("nodeRef"),yw=Symbol("edgeId"),_w=Symbol("edgeRef"),Mr=Symbol("slots");function em(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:r,noDragClassName:i,nodeLookup:o,nodeExtent:a,nodeDragThreshold:s,viewport:u,autoPanOnNodeDrag:l,autoPanSpeed:c,nodesDraggable:d,panBy:f,findNode:h,multiSelectionActive:p,nodesSelectionActive:v,selectNodesOnDrag:g,removeSelectedElements:b,addSelectedNodes:w,updateNodePositions:y,emits:C}=xe(),{onStart:k,onDrag:q,onStop:M,onClick:A,el:D,disabled:O,id:T,selectable:N,dragHandle:L}=e,S=ur(!1);let P=[],I,$=null,B={x:void 0,y:void 0},z={x:0,y:0},F=null,X=!1,te=!1,oe=0,V=!1;const Z=Ew(),W=({x:ie,y:le})=>{B={x:ie,y:le};let E=!1;if(P=P.map(m=>{const x={x:ie-m.distance.x,y:le-m.distance.y},{computedPosition:_}=Pl(m,n.value?Ar(x,r.value):x,C.error,a.value,m.parentNode?h(m.parentNode):void 0);return E=E||m.position.x!==_.x||m.position.y!==_.y,m.position=_,m}),te=te||E,!!E&&(y(P,!0,!0),S.value=!0,F)){const[m,x]=si({id:T,dragItems:P,findNode:h});q({event:F,node:m,nodes:x})}},de=()=>{if(!$)return;const[ie,le]=Yg(z,$,c.value);if(ie!==0||le!==0){const E={x:(B.x??0)-ie/u.value.zoom,y:(B.y??0)-le/u.value.zoom};f({x:ie,y:le})&&W(E)}oe=requestAnimationFrame(de)},he=(ie,le)=>{X=!0;const E=h(T);!g.value&&!p.value&&E&&(E.selected||b()),E&&ve(N)&&g.value&&_l(E,p.value,w,b,v,!1,le);const m=Z(ie.sourceEvent);if(B=m,P=tw(o.value,d.value,m,T),P.length){const[x,_]=si({id:T,dragItems:P,findNode:h});k({event:ie.sourceEvent,node:x,nodes:_})}},se=(ie,le)=>{var E;ie.sourceEvent.type==="touchmove"&&ie.sourceEvent.touches.length>1||(te=!1,s.value===0&&he(ie,le),B=Z(ie.sourceEvent),$=((E=t.value)==null?void 0:E.getBoundingClientRect())||null,z=Je(ie.sourceEvent,$))},ge=(ie,le)=>{const E=Z(ie.sourceEvent);if(!V&&X&&l.value&&(V=!0,de()),!X){const m=E.xSnapped-(B.x??0),x=E.ySnapped-(B.y??0);Math.sqrt(m*m+x*x)>s.value&&he(ie,le)}(B.x!==E.xSnapped||B.y!==E.ySnapped)&&P.length&&X&&(F=ie.sourceEvent,z=Je(ie.sourceEvent,$),W(E))},ye=ie=>{let le=!1;if(!X&&!S.value&&!p.value){const E=ie.sourceEvent,m=Z(E),x=m.xSnapped-(B.x??0),_=m.ySnapped-(B.y??0),R=Math.sqrt(x*x+_*_);R!==0&&R<=s.value&&(A==null||A(E),le=!0)}if(P.length&&!le){te&&(y(P,!1,!1),te=!1);const[E,m]=si({id:T,dragItems:P,findNode:h});M({event:ie.sourceEvent,node:E,nodes:m})}P=[],S.value=!1,V=!1,X=!1,B={x:void 0,y:void 0},cancelAnimationFrame(oe)};return _e([()=>ve(O),D],([ie,le],E,m)=>{if(le){const x=Ge(le);ie||(I=U0().on("start",_=>se(_,le)).on("drag",_=>ge(_,le)).on("end",_=>ye(_)).filter(_=>{const R=_.target,G=ve(L);return!_.button&&(!i.value||!kc(R,`.${i.value}`,le)&&(!G||kc(R,G,le)))}),x.call(I)),m(()=>{x.on(".drag",null),I&&(I.on("start",null),I.on("drag",null),I.on("end",null))})}}),S}function bw(){return{doubleClick:H(),click:H(),mouseEnter:H(),mouseMove:H(),mouseLeave:H(),contextMenu:H(),updateStart:H(),update:H(),updateEnd:H()}}function ww(e,t){const n=bw();return n.doubleClick.on(r=>{var i,o;t.edgeDoubleClick(r),(o=(i=e.events)==null?void 0:i.doubleClick)==null||o.call(i,r)}),n.click.on(r=>{var i,o;t.edgeClick(r),(o=(i=e.events)==null?void 0:i.click)==null||o.call(i,r)}),n.mouseEnter.on(r=>{var i,o;t.edgeMouseEnter(r),(o=(i=e.events)==null?void 0:i.mouseEnter)==null||o.call(i,r)}),n.mouseMove.on(r=>{var i,o;t.edgeMouseMove(r),(o=(i=e.events)==null?void 0:i.mouseMove)==null||o.call(i,r)}),n.mouseLeave.on(r=>{var i,o;t.edgeMouseLeave(r),(o=(i=e.events)==null?void 0:i.mouseLeave)==null||o.call(i,r)}),n.contextMenu.on(r=>{var i,o;t.edgeContextMenu(r),(o=(i=e.events)==null?void 0:i.contextMenu)==null||o.call(i,r)}),n.updateStart.on(r=>{var i,o;t.edgeUpdateStart(r),(o=(i=e.events)==null?void 0:i.updateStart)==null||o.call(i,r)}),n.update.on(r=>{var i,o;t.edgeUpdate(r),(o=(i=e.events)==null?void 0:i.update)==null||o.call(i,r)}),n.updateEnd.on(r=>{var i,o;t.edgeUpdateEnd(r),(o=(i=e.events)==null?void 0:i.updateEnd)==null||o.call(i,r)}),Object.entries(n).reduce((r,[i,o])=>(r.emit[i]=o.trigger,r.on[i]=o.on,r),{emit:{},on:{}})}function Ew(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:r}=xe();return i=>{var o;const a=((o=r.value)==null?void 0:o.getBoundingClientRect())??{left:0,top:0},s=sw(i)?i.sourceEvent:i,{x:u,y:l}=Je(s,a),c=Rn({x:u,y:l},e.value),{x:d,y:f}=n.value?Ar(c,t.value):c;return{xSnapped:d,ySnapped:f,...c}}}function Xn(){return!0}function tm({handleId:e,nodeId:t,type:n,isValidConnection:r,edgeUpdaterType:i,onEdgeUpdate:o,onEdgeUpdateEnd:a}){const{id:s,vueFlowRef:u,connectionMode:l,connectionRadius:c,connectOnClick:d,connectionClickStartHandle:f,nodesConnectable:h,autoPanOnConnect:p,autoPanSpeed:v,findNode:g,panBy:b,startConnection:w,updateConnection:y,endConnection:C,emits:k,viewport:q,edges:M,nodes:A,isValidConnection:D,nodeLookup:O}=xe();let T=null,N=!1,L=null;function S(I){var $;const B=ve(n)==="target",z=kl(I),F=Cc(I.target),X=I.currentTarget;if(X&&(z&&I.button===0||!z)){let te=function(j){E=Je(j,ye),W=fw(Rn(E,q.value,!1,[1,1]),c.value,O.value,_),m||(x(),m=!0);const ee=Dc(j,{handle:W,connectionMode:l.value,fromNodeId:ve(t),fromHandleId:ve(e),fromType:B?"target":"source",isValidConnection:Z,doc:F,lib:"vue",flowId:s,nodeLookup:O.value},M.value,A.value,g,O.value);L=ee.handleDomNode,T=ee.connection,N=vw(!!W,ee.isValid);const ce={...U,isValid:N,to:ee.toHandle&&N?Mn({x:ee.toHandle.x,y:ee.toHandle.y},q.value):E,toHandle:ee.toHandle,toPosition:N&&ee.toHandle?ee.toHandle.position:yl[_.position],toNode:ee.toHandle?O.value.get(ee.toHandle.nodeId):null};if(N&&W&&(U!=null&&U.toHandle)&&ce.toHandle&&U.toHandle.type===ce.toHandle.type&&U.toHandle.nodeId===ce.toHandle.nodeId&&U.toHandle.id===ce.toHandle.id&&U.to.x===ce.to.x&&U.to.y===ce.to.y)return;const pe=W??ee.toHandle;if(y(pe&&N?Mn({x:pe.x,y:pe.y},q.value):E,ee.toHandle,hw(!!pe,N)),U=ce,!W&&!N&&!L)return ui(le);T&&T.source!==T.target&&L&&(ui(le),le=L,L.classList.add("connecting","vue-flow__handle-connecting"),L.classList.toggle("valid",!!N),L.classList.toggle("vue-flow__handle-valid",!!N))},oe=function(j){"touches"in j&&j.touches.length>0||((W||L)&&T&&N&&(o?o(j,T):k.connect(T)),k.connectEnd(j),i&&(a==null||a(j)),ui(le),cancelAnimationFrame(de),C(j),m=!1,N=!1,T=null,L=null,F.removeEventListener("mousemove",te),F.removeEventListener("mouseup",oe),F.removeEventListener("touchmove",te),F.removeEventListener("touchend",oe))};const V=g(ve(t));let Z=ve(r)||D.value||Xn;!Z&&V&&(Z=(B?V.isValidSourcePos:V.isValidTargetPos)||Xn);let W,de=0;const{x:he,y:se}=Je(I),ge=Xg(ve(i),X),ye=($=u.value)==null?void 0:$.getBoundingClientRect();if(!ye||!ge)return;const ie=Wg(ve(t),ge,ve(e),O.value,l.value);if(!ie)return;let le,E=Je(I,ye),m=!1;const x=()=>{if(!p.value)return;const[j,ee]=Yg(E,ye,v.value);b({x:j,y:ee}),de=requestAnimationFrame(x)},_={...ie,nodeId:ve(t),type:ge,position:ie.position},R=O.value.get(ve(t)),K={inProgress:!0,isValid:null,from:nn(R,_,Q.Left,!0),fromHandle:_,fromPosition:_.position,fromNode:R,to:E,toHandle:null,toPosition:yl[_.position],toNode:null};w({nodeId:ve(t),id:ve(e),type:ge,position:(X==null?void 0:X.getAttribute("data-handlepos"))||Q.Top,...E},{x:he-ye.left,y:se-ye.top}),k.connectStart({event:I,nodeId:ve(t),handleId:ve(e),handleType:ge});let U=K;F.addEventListener("mousemove",te),F.addEventListener("mouseup",oe),F.addEventListener("touchmove",te),F.addEventListener("touchend",oe)}}function P(I){var $,B;if(!d.value)return;const z=ve(n)==="target";if(!f.value){k.clickConnectStart({event:I,nodeId:ve(t),handleId:ve(e)}),w({nodeId:ve(t),type:ve(n),id:ve(e),position:Q.Top,...Je(I)},void 0,!0);return}let F=ve(r)||D.value||Xn;const X=g(ve(t));if(!F&&X&&(F=(z?X.isValidSourcePos:X.isValidTargetPos)||Xn),X&&(typeof X.connectable>"u"?h.value:X.connectable)===!1)return;const te=Cc(I.target),oe=Dc(I,{handle:{nodeId:ve(t),id:ve(e),type:ve(n),position:Q.Top,...Je(I)},connectionMode:l.value,fromNodeId:f.value.nodeId,fromHandleId:f.value.id??null,fromType:f.value.type,isValidConnection:F,doc:te,lib:"vue",flowId:s,nodeLookup:O.value},M.value,A.value,g,O.value),V=(($=oe.connection)==null?void 0:$.source)===((B=oe.connection)==null?void 0:B.target);oe.isValid&&oe.connection&&!V&&k.connect(oe.connection),k.clickConnectEnd(I),C(I,!0)}return{handlePointerDown:S,handleClick:P}}function xw(){return on(Jg,"")}function nm(e){const t=e??xw()??"",n=on(Qg,be(null)),{findNode:r,edges:i,emits:o}=xe(),a=r(t);return a||o.error(new qe(Ae.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:a,parentNode:ue(()=>r(a.parentNode)),connectedEdges:ue(()=>Ug([a],i.value))}}function Sw(){return{doubleClick:H(),click:H(),mouseEnter:H(),mouseMove:H(),mouseLeave:H(),contextMenu:H(),dragStart:H(),drag:H(),dragStop:H()}}function Cw(e,t){const n=Sw();return n.doubleClick.on(r=>{var i,o;t.nodeDoubleClick(r),(o=(i=e.events)==null?void 0:i.doubleClick)==null||o.call(i,r)}),n.click.on(r=>{var i,o;t.nodeClick(r),(o=(i=e.events)==null?void 0:i.click)==null||o.call(i,r)}),n.mouseEnter.on(r=>{var i,o;t.nodeMouseEnter(r),(o=(i=e.events)==null?void 0:i.mouseEnter)==null||o.call(i,r)}),n.mouseMove.on(r=>{var i,o;t.nodeMouseMove(r),(o=(i=e.events)==null?void 0:i.mouseMove)==null||o.call(i,r)}),n.mouseLeave.on(r=>{var i,o;t.nodeMouseLeave(r),(o=(i=e.events)==null?void 0:i.mouseLeave)==null||o.call(i,r)}),n.contextMenu.on(r=>{var i,o;t.nodeContextMenu(r),(o=(i=e.events)==null?void 0:i.contextMenu)==null||o.call(i,r)}),n.dragStart.on(r=>{var i,o;t.nodeDragStart(r),(o=(i=e.events)==null?void 0:i.dragStart)==null||o.call(i,r)}),n.drag.on(r=>{var i,o;t.nodeDrag(r),(o=(i=e.events)==null?void 0:i.drag)==null||o.call(i,r)}),n.dragStop.on(r=>{var i,o;t.nodeDragStop(r),(o=(i=e.events)==null?void 0:i.dragStop)==null||o.call(i,r)}),Object.entries(n).reduce((r,[i,o])=>(r.emit[i]=o.trigger,r.on[i]=o.on,r),{emit:{},on:{}})}function rm(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:r,snapGrid:i,snapToGrid:o,nodesDraggable:a,emits:s}=xe();return(u,l=!1)=>{const c=o.value?i.value[0]:5,d=o.value?i.value[1]:5,f=l?4:1,h=u.x*c*f,p=u.y*d*f,v=[];for(const g of e.value)if(g.draggable||a&&typeof g.draggable>"u"){const b={x:g.computedPosition.x+h,y:g.computedPosition.y+p},{computedPosition:w}=Pl(g,b,s.error,t.value,g.parentNode?r(g.parentNode):void 0);v.push({id:g.id,position:w,from:g.position,distance:{x:u.x,y:u.y},dimensions:g.dimensions})}n(v,!0,!1)}}const Wn=.1,Nw=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function _t(){return On("Viewport not initialized yet."),Promise.resolve(!1)}const Iw={zoomIn:_t,zoomOut:_t,zoomTo:_t,fitView:_t,setCenter:_t,fitBounds:_t,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:_t,setTransform:_t,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function Tw(e){function t(r,i){return new Promise(o=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((i==null?void 0:i.interpolate)==="linear"?En:ir).scaleBy(di(e.d3Selection,i==null?void 0:i.duration,i==null?void 0:i.ease,()=>{o(!0)}),r):o(!1)})}function n(r,i,o,a){return new Promise(s=>{var u;const{x:l,y:c}=Bg({x:-r,y:-i},e.translateExtent),d=tn.translate(-l,-c).scale(o);e.d3Selection&&e.d3Zoom?(u=e.d3Zoom)==null||u.interpolate((a==null?void 0:a.interpolate)==="linear"?En:ir).transform(di(e.d3Selection,a==null?void 0:a.duration,a==null?void 0:a.ease,()=>{s(!0)}),d):s(!1)})}return ue(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:i=>t(1.2,i),zoomOut:i=>t(1/1.2,i),zoomTo:(i,o)=>new Promise(a=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((o==null?void 0:o.interpolate)==="linear"?En:ir).scaleTo(di(e.d3Selection,o==null?void 0:o.duration,o==null?void 0:o.ease,()=>{a(!0)}),i):a(!1)}),setViewport:(i,o)=>n(i.x,i.y,i.zoom,o),setTransform:(i,o)=>n(i.x,i.y,i.zoom,o),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(i={padding:Wn,includeHiddenNodes:!1,duration:0})=>{var o,a;const s=[];for(const f of e.nodes)f.dimensions.width&&f.dimensions.height&&((i==null?void 0:i.includeHiddenNodes)||!f.hidden)&&(!((o=i.nodes)!=null&&o.length)||(a=i.nodes)!=null&&a.length&&i.nodes.includes(f.id))&&s.push(f);if(!s.length)return Promise.resolve(!1);const u=Gg(s),{x:l,y:c,zoom:d}=Nc(u,e.dimensions.width,e.dimensions.height,i.minZoom??e.minZoom,i.maxZoom??e.maxZoom,i.padding??Wn);return n(l,c,d,i)},setCenter:(i,o,a)=>{const s=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:e.maxZoom,u=e.dimensions.width/2-i*s,l=e.dimensions.height/2-o*s;return n(u,l,s,a)},fitBounds:(i,o={padding:Wn})=>{const{x:a,y:s,zoom:u}=Nc(i,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,o.padding??Wn);return n(a,s,u,o)},project:i=>Rn(i,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:i=>{if(e.vueFlowRef){const{x:o,y:a}=e.vueFlowRef.getBoundingClientRect(),s={x:i.x-o,y:i.y-a};return Rn(s,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:i=>{if(e.vueFlowRef){const{x:o,y:a}=e.vueFlowRef.getBoundingClientRect(),s={x:i.x+o,y:i.y+a};return Mn(s,e.viewport)}return{x:0,y:0}}}:Iw)}function di(e,t=0,n=Nw,r=()=>{}){const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e}function Aw(e,t,n){const r=Qp(!0);return r.run(()=>{const i=()=>{r.run(()=>{let v,g,b=!!(n.nodes.value.length||n.edges.value.length);v=jt([e.modelValue,()=>{var w,y;return(y=(w=e.modelValue)==null?void 0:w.value)==null?void 0:y.length}],([w])=>{w&&Array.isArray(w)&&(g==null||g.pause(),n.setElements(w),!g&&!b&&w.length?b=!0:g==null||g.resume())}),g=jt([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([w,y])=>{var C;(C=e.modelValue)!=null&&C.value&&Array.isArray(e.modelValue.value)&&(v==null||v.pause(),e.modelValue.value=[...w,...y],ct(()=>{v==null||v.resume()}))},{immediate:b}),tr(()=>{v==null||v.stop(),g==null||g.stop()})})},o=()=>{r.run(()=>{let v,g,b=!!n.nodes.value.length;v=jt([e.nodes,()=>{var w,y;return(y=(w=e.nodes)==null?void 0:w.value)==null?void 0:y.length}],([w])=>{w&&Array.isArray(w)&&(g==null||g.pause(),n.setNodes(w),!g&&!b&&w.length?b=!0:g==null||g.resume())}),g=jt([n.nodes,()=>n.nodes.value.length],([w])=>{var y;(y=e.nodes)!=null&&y.value&&Array.isArray(e.nodes.value)&&(v==null||v.pause(),e.nodes.value=[...w],ct(()=>{v==null||v.resume()}))},{immediate:b}),tr(()=>{v==null||v.stop(),g==null||g.stop()})})},a=()=>{r.run(()=>{let v,g,b=!!n.edges.value.length;v=jt([e.edges,()=>{var w,y;return(y=(w=e.edges)==null?void 0:w.value)==null?void 0:y.length}],([w])=>{w&&Array.isArray(w)&&(g==null||g.pause(),n.setEdges(w),!g&&!b&&w.length?b=!0:g==null||g.resume())}),g=jt([n.edges,()=>n.edges.value.length],([w])=>{var y;(y=e.edges)!=null&&y.value&&Array.isArray(e.edges.value)&&(v==null||v.pause(),e.edges.value=[...w],ct(()=>{v==null||v.resume()}))},{immediate:b}),tr(()=>{v==null||v.stop(),g==null||g.stop()})})},s=()=>{r.run(()=>{_e(()=>t.maxZoom,()=>{t.maxZoom&&Te(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},u=()=>{r.run(()=>{_e(()=>t.minZoom,()=>{t.minZoom&&Te(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},l=()=>{r.run(()=>{_e(()=>t.translateExtent,()=>{t.translateExtent&&Te(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},c=()=>{r.run(()=>{_e(()=>t.nodeExtent,()=>{t.nodeExtent&&Te(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},d=()=>{r.run(()=>{_e(()=>t.applyDefault,()=>{Te(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},f=()=>{r.run(()=>{const v=async g=>{let b=g;typeof t.autoConnect=="function"&&(b=await t.autoConnect(g)),b!==!1&&n.addEdges([b])};_e(()=>t.autoConnect,()=>{Te(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),_e(n.autoConnect,(g,b,w)=>{g?n.onConnect(v):n.hooks.value.connect.off(v),w(()=>{n.hooks.value.connect.off(v)})},{immediate:!0})})},h=()=>{const v=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const g of Object.keys(t)){const b=g;if(!v.includes(b)){const w=Ee(()=>t[b]),y=n[b];Sl(y)&&r.run(()=>{_e(w,C=>{Te(C)&&(y.value=C)},{immediate:!0})})}}};(()=>{i(),o(),a(),u(),s(),l(),c(),d(),f(),h()})()}),()=>r.stop()}function Mw(){return{edgesChange:H(),nodesChange:H(),nodeDoubleClick:H(),nodeClick:H(),nodeMouseEnter:H(),nodeMouseMove:H(),nodeMouseLeave:H(),nodeContextMenu:H(),nodeDragStart:H(),nodeDrag:H(),nodeDragStop:H(),nodesInitialized:H(),miniMapNodeClick:H(),miniMapNodeDoubleClick:H(),miniMapNodeMouseEnter:H(),miniMapNodeMouseMove:H(),miniMapNodeMouseLeave:H(),connect:H(),connectStart:H(),connectEnd:H(),clickConnectStart:H(),clickConnectEnd:H(),paneReady:H(),init:H(),move:H(),moveStart:H(),moveEnd:H(),selectionDragStart:H(),selectionDrag:H(),selectionDragStop:H(),selectionContextMenu:H(),selectionStart:H(),selectionEnd:H(),viewportChangeStart:H(),viewportChange:H(),viewportChangeEnd:H(),paneScroll:H(),paneClick:H(),paneContextMenu:H(),paneMouseEnter:H(),paneMouseMove:H(),paneMouseLeave:H(),edgeContextMenu:H(),edgeMouseEnter:H(),edgeMouseMove:H(),edgeMouseLeave:H(),edgeDoubleClick:H(),edgeClick:H(),edgeUpdateStart:H(),edgeUpdate:H(),edgeUpdateEnd:H(),updateNodeInternals:H(),error:H(e=>On(e.message))}}function Rw(e,t){const n=rn();By(()=>{for(const[i,o]of Object.entries(t.value)){const a=s=>{e(i,s)};o.setEmitter(a),Cn(o.removeEmitter),o.setHasEmitListeners(()=>r(i)),Cn(o.removeHasEmitListeners)}});function r(i){var o;const a=qw(i);return!!((o=n==null?void 0:n.vnode.props)==null?void 0:o[a])}}function qw(e){const[t,...n]=e.split(":");return`on${t.replace(/(?:^|-)(\w)/g,(i,o)=>o.toUpperCase())}${n.length?`:${n.join(":")}`:""}`}function im(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:ql.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:xn.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:Rt.Bezier,style:{}},connectionMode:Nt.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:yr()?"Meta":"Control",zoomActivationKeyCode:yr()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:Mw(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const Pw=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function kw(e,t,n){const r=Tw(e),i=E=>{const m=E??[];e.hooks.updateNodeInternals.trigger(m)},o=E=>K1(E,e.nodes,e.edges),a=E=>Y1(E,e.nodes,e.edges),s=E=>Ug(E,e.edges),u=({id:E,type:m,nodeId:x})=>{var _;const R=E?`-${m}-${E}`:`-${m}`;return Array.from(((_=e.connectionLookup.get(`${x}${R}`))==null?void 0:_.values())??[])},l=E=>{if(E)return t.value.get(E)},c=E=>{if(E)return n.value.get(E)},d=(E,m,x)=>{var _,R;const G=[];for(const K of E){const U={id:K.id,type:"position",dragging:x,from:K.from};if(m&&(U.position=K.position,K.parentNode)){const j=l(K.parentNode);U.position={x:U.position.x-(((_=j==null?void 0:j.computedPosition)==null?void 0:_.x)??0),y:U.position.y-(((R=j==null?void 0:j.computedPosition)==null?void 0:R.y)??0)}}G.push(U)}G!=null&&G.length&&e.hooks.nodesChange.trigger(G)},f=E=>{if(!e.vueFlowRef)return;const m=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!m)return;const x=window.getComputedStyle(m),{m22:_}=new window.DOMMatrixReadOnly(x.transform),R=[];for(const G of E){const K=G,U=l(K.id);if(U){const j=Tr(K.nodeElement);if(!!(j.width&&j.height&&(U.dimensions.width!==j.width||U.dimensions.height!==j.height||K.forceUpdate))){const ce=K.nodeElement.getBoundingClientRect();U.dimensions=j,U.handleBounds.source=Bc("source",K.nodeElement,ce,_,U.id),U.handleBounds.target=Bc("target",K.nodeElement,ce,_,U.id),R.push({id:U.id,type:"dimensions",dimensions:j})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&r.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),R.length&&e.hooks.nodesChange.trigger(R)},h=(E,m)=>{const x=new Set,_=new Set;for(const K of E)$t(K)?x.add(K.id):It(K)&&_.add(K.id);const R=Et(t.value,x,!0),G=Et(n.value,_);if(e.multiSelectionActive){for(const K of x)R.push(wt(K,m));for(const K of _)G.push(wt(K,m))}R.length&&e.hooks.nodesChange.trigger(R),G.length&&e.hooks.edgesChange.trigger(G)},p=E=>{if(e.multiSelectionActive){const m=E.map(x=>wt(x.id,!0));e.hooks.nodesChange.trigger(m);return}e.hooks.nodesChange.trigger(Et(t.value,new Set(E.map(m=>m.id)),!0)),e.hooks.edgesChange.trigger(Et(n.value))},v=E=>{if(e.multiSelectionActive){const m=E.map(x=>wt(x.id,!0));e.hooks.edgesChange.trigger(m);return}e.hooks.edgesChange.trigger(Et(n.value,new Set(E.map(m=>m.id)))),e.hooks.nodesChange.trigger(Et(t.value,new Set,!0))},g=E=>{h(E,!0)},b=E=>{const x=(E||e.nodes).map(_=>(_.selected=!1,wt(_.id,!1)));e.hooks.nodesChange.trigger(x)},w=E=>{const x=(E||e.edges).map(_=>(_.selected=!1,wt(_.id,!1)));e.hooks.edgesChange.trigger(x)},y=E=>{if(!E||!E.length)return h([],!1);const m=E.reduce((x,_)=>{const R=wt(_.id,!1);return $t(_)?x.nodes.push(R):x.edges.push(R),x},{nodes:[],edges:[]});m.nodes.length&&e.hooks.nodesChange.trigger(m.nodes),m.edges.length&&e.hooks.edgesChange.trigger(m.edges)},C=E=>{var m;(m=e.d3Zoom)==null||m.scaleExtent([E,e.maxZoom]),e.minZoom=E},k=E=>{var m;(m=e.d3Zoom)==null||m.scaleExtent([e.minZoom,E]),e.maxZoom=E},q=E=>{var m;(m=e.d3Zoom)==null||m.translateExtent(E),e.translateExtent=E},M=E=>{e.nodeExtent=E,i()},A=E=>{var m;(m=e.d3Zoom)==null||m.clickDistance(E)},D=E=>{e.nodesDraggable=E,e.nodesConnectable=E,e.elementsSelectable=E},O=E=>{const m=E instanceof Function?E(e.nodes):E;!e.initialized&&!m.length||(e.nodes=Lc(m,l,e.hooks.error.trigger))},T=E=>{const m=E instanceof Function?E(e.edges):E;if(!e.initialized&&!m.length)return;const x=ci(m,e.isValidConnection,l,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);li(e.connectionLookup,n.value,x),e.edges=x},N=E=>{const m=E instanceof Function?E([...e.nodes,...e.edges]):E;!e.initialized&&!m.length||(O(m.filter($t)),T(m.filter(It)))},L=E=>{let m=E instanceof Function?E(e.nodes):E;m=Array.isArray(m)?m:[m];const x=Lc(m,l,e.hooks.error.trigger),_=[];for(const R of x)_.push(Mc(R));_.length&&e.hooks.nodesChange.trigger(_)},S=E=>{let m=E instanceof Function?E(e.edges):E;m=Array.isArray(m)?m:[m];const x=ci(m,e.isValidConnection,l,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),_=[];for(const R of x)_.push(Mc(R));_.length&&e.hooks.edgesChange.trigger(_)},P=(E,m=!0,x=!1)=>{const _=E instanceof Function?E(e.nodes):E,R=Array.isArray(_)?_:[_],G=[],K=[];function U(ee){const ce=s(ee);for(const pe of ce)(!Te(pe.deletable)||pe.deletable)&&K.push(qc(pe.id,pe.source,pe.target,pe.sourceHandle,pe.targetHandle))}function j(ee){const ce=[];for(const pe of e.nodes)pe.parentNode===ee&&ce.push(pe);if(ce.length){for(const pe of ce)G.push(Rc(pe.id));m&&U(ce);for(const pe of ce)j(pe.id)}}for(const ee of R){const ce=typeof ee=="string"?l(ee):ee;ce&&(Te(ce.deletable)&&!ce.deletable||(G.push(Rc(ce.id)),m&&U([ce]),x&&j(ce.id)))}K.length&&e.hooks.edgesChange.trigger(K),G.length&&e.hooks.nodesChange.trigger(G)},I=E=>{const m=E instanceof Function?E(e.edges):E,x=Array.isArray(m)?m:[m],_=[];for(const R of x){const G=typeof R=="string"?c(R):R;G&&(Te(G.deletable)&&!G.deletable||_.push(qc(typeof R=="string"?R:R.id,G.source,G.target,G.sourceHandle,G.targetHandle)))}e.hooks.edgesChange.trigger(_)},$=(E,m,x=!0)=>{const _=c(E.id);if(!_)return!1;const R=e.edges.indexOf(_),G=mw(E,m,_,x,e.hooks.error.trigger);if(G){const[K]=ci([G],e.isValidConnection,l,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((U,j)=>j===R?K:U),li(e.connectionLookup,n.value,[K]),K}return!1},B=(E,m,x={replace:!1})=>{const _=c(E);if(!_)return;const R=typeof m=="function"?m(_):m;_.data=x.replace?R:{..._.data,...R}},z=E=>Ac(E,e.nodes),F=E=>{const m=Ac(E,e.edges);return li(e.connectionLookup,n.value,m),m},X=(E,m,x={replace:!1})=>{const _=l(E);if(!_)return;const R=typeof m=="function"?m(_):m;x.replace?e.nodes.splice(e.nodes.indexOf(_),1,R):Object.assign(_,R)},te=(E,m,x={replace:!1})=>{const _=l(E);if(!_)return;const R=typeof m=="function"?m(_):m;_.data=x.replace?R:{..._.data,...R}},oe=(E,m,x=!1)=>{x?e.connectionClickStartHandle=E:e.connectionStartHandle=E,e.connectionEndHandle=null,e.connectionStatus=null,m&&(e.connectionPosition=m)},V=(E,m=null,x=null)=>{e.connectionStartHandle&&(e.connectionPosition=E,e.connectionEndHandle=m,e.connectionStatus=x)},Z=(E,m)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,m?e.connectionClickStartHandle=null:e.connectionStartHandle=null},W=E=>{const m=U1(E),x=m?null:pn(E)?E:l(E.id);return!m&&!x?[null,null,m]:[m?E:gr(x),x,m]},de=(E,m=!0,x=e.nodes)=>{const[_,R,G]=W(E);if(!_)return[];const K=[];for(const U of x||e.nodes){if(!G&&(U.id===R.id||!U.computedPosition))continue;const j=gr(U),ee=mr(j,_);(m&&ee>0||ee>=j.width*j.height||ee>=Number(_.width)*Number(_.height))&&K.push(U)}return K},he=(E,m,x=!0)=>{const[_]=W(E);if(!_)return!1;const R=mr(_,m);return x&&R>0||R>=Number(_.width)*Number(_.height)},se=E=>{const{viewport:m,dimensions:x,d3Zoom:_,d3Selection:R,translateExtent:G}=e;if(!_||!R||!E.x&&!E.y)return!1;const K=tn.translate(m.x+E.x,m.y+E.y).scale(m.zoom),U=[[0,0],[x.width,x.height]],j=_.constrain()(K,U,G),ee=e.viewport.x!==j.x||e.viewport.y!==j.y||e.viewport.zoom!==j.k;return _.transform(R,j),ee},ge=E=>{const m=E instanceof Function?E(e):E,x=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Te(m.defaultEdgeOptions)&&(e.defaultEdgeOptions=m.defaultEdgeOptions);const _=m.modelValue||m.nodes||m.edges?[]:void 0;_&&(m.modelValue&&_.push(...m.modelValue),m.nodes&&_.push(...m.nodes),m.edges&&_.push(...m.edges),N(_));const R=()=>{Te(m.maxZoom)&&k(m.maxZoom),Te(m.minZoom)&&C(m.minZoom),Te(m.translateExtent)&&q(m.translateExtent)};for(const G of Object.keys(m)){const K=G,U=m[K];![...Pw,...x].includes(K)&&Te(U)&&(e[K]=U)}sl(()=>e.d3Zoom).not.toBeNull().then(R),e.initialized||(e.initialized=!0)};return{updateNodePositions:d,updateNodeDimensions:f,setElements:N,setNodes:O,setEdges:T,addNodes:L,addEdges:S,removeNodes:P,removeEdges:I,findNode:l,findEdge:c,updateEdge:$,updateEdgeData:B,updateNode:X,updateNodeData:te,applyEdgeChanges:F,applyNodeChanges:z,addSelectedElements:g,addSelectedNodes:p,addSelectedEdges:v,setMinZoom:C,setMaxZoom:k,setTranslateExtent:q,setNodeExtent:M,setPaneClickDistance:A,removeSelectedElements:y,removeSelectedNodes:b,removeSelectedEdges:w,startConnection:oe,updateConnection:V,endConnection:Z,setInteractive:D,setState:ge,getIntersectingNodes:de,getIncomers:o,getOutgoers:a,getConnectedEdges:s,getHandleConnections:u,isNodeIntersecting:he,panBy:se,fitView:E=>r.value.fitView(E),zoomIn:E=>r.value.zoomIn(E),zoomOut:E=>r.value.zoomOut(E),zoomTo:(E,m)=>r.value.zoomTo(E,m),setViewport:(E,m)=>r.value.setViewport(E,m),setTransform:(E,m)=>r.value.setTransform(E,m),getViewport:()=>r.value.getViewport(),getTransform:()=>r.value.getTransform(),setCenter:(E,m,x)=>r.value.setCenter(E,m,x),fitBounds:(E,m)=>r.value.fitBounds(E,m),project:E=>r.value.project(E),screenToFlowCoordinate:E=>r.value.screenToFlowCoordinate(E),flowToScreenCoordinate:E=>r.value.flowToScreenCoordinate(E),toObject:()=>{const E=[],m=[];for(const x of e.nodes){const{computedPosition:_,handleBounds:R,selected:G,dimensions:K,isParent:U,resizing:j,dragging:ee,events:ce,...pe}=x;E.push(pe)}for(const x of e.edges){const{selected:_,sourceNode:R,targetNode:G,events:K,...U}=x;m.push(U)}return JSON.parse(JSON.stringify({nodes:E,edges:m,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:E=>new Promise(m=>{const{nodes:x,edges:_,position:R,zoom:G,viewport:K}=E;if(x&&O(x),_&&T(_),K!=null&&K.x&&(K!=null&&K.y)||R){const U=(K==null?void 0:K.x)||R[0],j=(K==null?void 0:K.y)||R[1],ee=(K==null?void 0:K.zoom)||G||e.viewport.zoom;return sl(()=>r.value.viewportInitialized).toBe(!0).then(()=>{r.value.setViewport({x:U,y:j,zoom:ee}).then(()=>{m(!0)})})}else m(!0)}),updateNodeInternals:i,viewportHelper:r,$reset:()=>{const E=im();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const m=tn.translate(E.defaultViewport.x??0,E.defaultViewport.y??0).scale(zt(E.defaultViewport.zoom??1,E.minZoom,E.maxZoom)),x=e.viewportRef.getBoundingClientRect(),_=[[0,0],[x.width,x.height]],R=e.d3Zoom.constrain()(m,_,E.translateExtent);e.d3Zoom.transform(e.d3Selection,R)}ge(E)},$destroy:()=>{}}}const Ow=["data-id","data-handleid","data-nodeid","data-handlepos"],$w={name:"Handle",compatConfig:{MODE:3}},_r=Se({...$w,props:{id:{default:null},type:{},position:{default:()=>Q.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=zy(e,["position","connectable","connectableStart","connectableEnd","id"]),r=Ee(()=>n.type??"source"),i=Ee(()=>n.isValidConnection??null),{id:o,connectionStartHandle:a,connectionClickStartHandle:s,connectionEndHandle:u,vueFlowRef:l,nodesConnectable:c,noDragClassName:d,noPanClassName:f}=xe(),{id:h,node:p,nodeEl:v,connectedEdges:g}=nm(),b=be(),w=Ee(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),y=Ee(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),C=Ee(()=>{var T,N,L,S,P,I;return((T=a.value)==null?void 0:T.nodeId)===h&&((N=a.value)==null?void 0:N.id)===e.id&&((L=a.value)==null?void 0:L.type)===r.value||((S=u.value)==null?void 0:S.nodeId)===h&&((P=u.value)==null?void 0:P.id)===e.id&&((I=u.value)==null?void 0:I.type)===r.value}),k=Ee(()=>{var T,N,L;return((T=s.value)==null?void 0:T.nodeId)===h&&((N=s.value)==null?void 0:N.id)===e.id&&((L=s.value)==null?void 0:L.type)===r.value}),{handlePointerDown:q,handleClick:M}=tm({nodeId:h,handleId:e.id,isValidConnection:i,type:r}),A=ue(()=>typeof e.connectable=="string"&&e.connectable==="single"?!g.value.some(T=>{const N=T[`${r.value}Handle`];return T[r.value]!==h?!1:N?N===e.id:!0}):typeof e.connectable=="number"?g.value.filter(T=>{const N=T[`${r.value}Handle`];return T[r.value]!==h?!1:N?N===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(p,g.value):Te(e.connectable)?e.connectable:c.value);ht(()=>{var T;if(!p.dimensions.width||!p.dimensions.height)return;const N=(T=p.handleBounds[r.value])==null?void 0:T.find(z=>z.id===e.id);if(!l.value||N)return;const L=l.value.querySelector(".vue-flow__transformationpane");if(!v.value||!b.value||!L||!e.id)return;const S=v.value.getBoundingClientRect(),P=b.value.getBoundingClientRect(),I=window.getComputedStyle(L),{m22:$}=new window.DOMMatrixReadOnly(I.transform),B={id:e.id,position:e.position,x:(P.left-S.left)/$,y:(P.top-S.top)/$,type:r.value,nodeId:h,...Tr(b.value)};p.handleBounds[r.value]=[...p.handleBounds[r.value]??[],B]});function D(T){const N=kl(T);A.value&&w.value&&(N&&T.button===0||!N)&&q(T)}function O(T){!h||!s.value&&!w.value||A.value&&M(T)}return t({handleClick:M,handlePointerDown:q,onClick:O,onPointerDown:D}),(T,N)=>(Y(),re("div",{ref_key:"handle",ref:b,"data-id":`${J(o)}-${J(h)}-${e.id}-${r.value}`,"data-handleid":e.id,"data-nodeid":J(h),"data-handlepos":T.position,class:Dt(["vue-flow__handle",[`vue-flow__handle-${T.position}`,`vue-flow__handle-${e.id}`,J(d),J(f),r.value,{connectable:A.value,connecting:k.value,connectablestart:w.value,connectableend:y.value,connectionindicator:A.value&&(w.value&&!C.value||y.value&&C.value)}]]),onMousedown:D,onTouchstartPassive:D,onClick:O},[Ie(T.$slots,"default",{id:T.id})],42,Ow))}}),Rr=function({sourcePosition:e=Q.Bottom,targetPosition:t=Q.Top,label:n,connectable:r=!0,isValidTargetPos:i,isValidSourcePos:o,data:a}){const s=a.label??n;return[we(_r,{type:"target",position:t,connectable:r,isValidConnection:i}),typeof s!="string"&&s?we(s):we(Re,[s]),we(_r,{type:"source",position:e,connectable:r,isValidConnection:o})]};Rr.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Rr.inheritAttrs=!1;Rr.compatConfig={MODE:3};const Dw=Rr,qr=function({targetPosition:e=Q.Top,label:t,connectable:n=!0,isValidTargetPos:r,data:i}){const o=i.label??t;return[we(_r,{type:"target",position:e,connectable:n,isValidConnection:r}),typeof o!="string"&&o?we(o):we(Re,[o])]};qr.props=["targetPosition","label","isValidTargetPos","connectable","data"];qr.inheritAttrs=!1;qr.compatConfig={MODE:3};const Bw=qr,Pr=function({sourcePosition:e=Q.Bottom,label:t,connectable:n=!0,isValidSourcePos:r,data:i}){const o=i.label??t;return[typeof o!="string"&&o?we(o):we(Re,[o]),we(_r,{type:"source",position:e,connectable:n,isValidConnection:r})]};Pr.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Pr.inheritAttrs=!1;Pr.compatConfig={MODE:3};const Lw=Pr,zw=["transform"],Fw=["width","height","x","y","rx","ry"],Vw=["y"],Gw={name:"EdgeText",compatConfig:{MODE:3}},Hw=Se({...Gw,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=be({x:0,y:0,width:0,height:0}),n=be(null),r=ue(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);ht(i),_e([()=>e.x,()=>e.y,n,()=>e.label],i);function i(){if(!n.value)return;const o=n.value.getBBox();(o.width!==t.value.width||o.height!==t.value.height)&&(t.value=o)}return(o,a)=>(Y(),re("g",{transform:r.value,class:"vue-flow__edge-textwrapper"},[o.labelShowBg?(Y(),re("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*o.labelBgPadding[0]}px`,height:`${t.value.height+2*o.labelBgPadding[1]}px`,x:-o.labelBgPadding[0],y:-o.labelBgPadding[1],style:Ue(o.labelBgStyle),rx:o.labelBgBorderRadius,ry:o.labelBgBorderRadius},null,12,Fw)):Ne("",!0),ne("text",rg(o.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:o.labelStyle}),[Ie(o.$slots,"default",{},()=>[typeof o.label!="string"?(Y(),ke(Kt(o.label),{key:0})):(Y(),re(Re,{key:1},[ot(Pe(o.label),1)],64))])],16,Vw)],8,zw))}}),Uw=["id","d","marker-end","marker-start"],jw=["d","stroke-width"],Yw={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},kr=Se({...Yw,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=be(null),r=be(null),i=be(null),o=Vy();return t({pathEl:n,interactionEl:r,labelEl:i}),(a,s)=>(Y(),re(Re,null,[ne("path",rg(J(o),{id:a.id,ref_key:"pathEl",ref:n,d:a.path,class:"vue-flow__edge-path","marker-end":a.markerEnd,"marker-start":a.markerStart}),null,16,Uw),a.interactionWidth?(Y(),re("path",{key:0,ref_key:"interactionEl",ref:r,fill:"none",d:a.path,"stroke-width":a.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,jw)):Ne("",!0),a.label&&a.labelX&&a.labelY?(Y(),ke(Hw,{key:1,ref_key:"labelEl",ref:i,x:a.labelX,y:a.labelY,label:a.label,"label-show-bg":a.labelShowBg,"label-bg-style":a.labelBgStyle,"label-bg-padding":a.labelBgPadding,"label-bg-border-radius":a.labelBgBorderRadius,"label-style":a.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):Ne("",!0)],64))}});function om({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[o,s,i,a]}function am({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const u=e*.125+i*.375+a*.375+n*.125,l=t*.125+o*.375+s*.375+r*.125,c=Math.abs(u-e),d=Math.abs(l-t);return[u,l,c,d]}function Zn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Gc({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){let a,s;switch(e){case Q.Left:a=t-Zn(t-r,o),s=n;break;case Q.Right:a=t+Zn(r-t,o),s=n;break;case Q.Top:a=t,s=n-Zn(n-i,o);break;case Q.Bottom:a=t,s=n+Zn(i-n,o);break}return[a,s]}function sm(e){const{sourceX:t,sourceY:n,sourcePosition:r=Q.Bottom,targetX:i,targetY:o,targetPosition:a=Q.Top,curvature:s=.25}=e,[u,l]=Gc({pos:r,x1:t,y1:n,x2:i,y2:o,c:s}),[c,d]=Gc({pos:a,x1:i,y1:o,x2:t,y2:n,c:s}),[f,h,p,v]=am({sourceX:t,sourceY:n,targetX:i,targetY:o,sourceControlX:u,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${t},${n} C${u},${l} ${c},${d} ${i},${o}`,f,h,p,v]}function Hc({pos:e,x1:t,y1:n,x2:r,y2:i}){let o,a;switch(e){case Q.Left:case Q.Right:o=.5*(t+r),a=n;break;case Q.Top:case Q.Bottom:o=t,a=.5*(n+i);break}return[o,a]}function um(e){const{sourceX:t,sourceY:n,sourcePosition:r=Q.Bottom,targetX:i,targetY:o,targetPosition:a=Q.Top}=e,[s,u]=Hc({pos:r,x1:t,y1:n,x2:i,y2:o}),[l,c]=Hc({pos:a,x1:i,y1:o,x2:t,y2:n}),[d,f,h,p]=am({sourceX:t,sourceY:n,targetX:i,targetY:o,sourceControlX:s,sourceControlY:u,targetControlX:l,targetControlY:c});return[`M${t},${n} C${s},${u} ${l},${c} ${i},${o}`,d,f,h,p]}const Uc={[Q.Left]:{x:-1,y:0},[Q.Right]:{x:1,y:0},[Q.Top]:{x:0,y:-1},[Q.Bottom]:{x:0,y:1}};function Kw({source:e,sourcePosition:t=Q.Bottom,target:n}){return t===Q.Left||t===Q.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function jc(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function Xw({source:e,sourcePosition:t=Q.Bottom,target:n,targetPosition:r=Q.Top,center:i,offset:o}){const a=Uc[t],s=Uc[r],u={x:e.x+a.x*o,y:e.y+a.y*o},l={x:n.x+s.x*o,y:n.y+s.y*o},c=Kw({source:u,sourcePosition:t,target:l}),d=c.x!==0?"x":"y",f=c[d];let h,p,v;const g={x:0,y:0},b={x:0,y:0},[w,y,C,k]=om({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[d]*s[d]===-1){p=i.x??w,v=i.y??y;const M=[{x:p,y:u.y},{x:p,y:l.y}],A=[{x:u.x,y:v},{x:l.x,y:v}];a[d]===f?h=d==="x"?M:A:h=d==="x"?A:M}else{const M=[{x:u.x,y:l.y}],A=[{x:l.x,y:u.y}];if(d==="x"?h=a.x===f?A:M:h=a.y===f?M:A,t===r){const L=Math.abs(e[d]-n[d]);if(L<=o){const S=Math.min(o-1,o-L);a[d]===f?g[d]=(u[d]>e[d]?-1:1)*S:b[d]=(l[d]>n[d]?-1:1)*S}}if(t!==r){const L=d==="x"?"y":"x",S=a[d]===s[L],P=u[L]>l[L],I=u[L]<l[L];(a[d]===1&&(!S&&P||S&&I)||a[d]!==1&&(!S&&I||S&&P))&&(h=d==="x"?M:A)}const D={x:u.x+g.x,y:u.y+g.y},O={x:l.x+b.x,y:l.y+b.y},T=Math.max(Math.abs(D.x-h[0].x),Math.abs(O.x-h[0].x)),N=Math.max(Math.abs(D.y-h[0].y),Math.abs(O.y-h[0].y));T>=N?(p=(D.x+O.x)/2,v=h[0].y):(p=h[0].x,v=(D.y+O.y)/2)}return[[e,{x:u.x+g.x,y:u.y+g.y},...h,{x:l.x+b.x,y:l.y+b.y},n],p,v,C,k]}function Ww(e,t,n,r){const i=Math.min(jc(e,t)/2,jc(t,n)/2,r),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){const l=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*l},${a}Q ${o},${a} ${o},${a+i*c}`}const s=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${o},${a+i*u}Q ${o},${a} ${o+i*s},${a}`}function bl(e){const{sourceX:t,sourceY:n,sourcePosition:r=Q.Bottom,targetX:i,targetY:o,targetPosition:a=Q.Top,borderRadius:s=5,centerX:u,centerY:l,offset:c=20}=e,[d,f,h,p,v]=Xw({source:{x:t,y:n},sourcePosition:r,target:{x:i,y:o},targetPosition:a,center:{x:u,y:l},offset:c});return[d.reduce((b,w,y)=>{let C;return y>0&&y<d.length-1?C=Ww(d[y-1],w,d[y+1],s):C=`${y===0?"M":"L"}${w.x} ${w.y}`,b+=C,b},""),f,h,p,v]}function Zw(e){const{sourceX:t,sourceY:n,targetX:r,targetY:i}=e,[o,a,s,u]=om({sourceX:t,sourceY:n,targetX:r,targetY:i});return[`M ${t},${n}L ${r},${i}`,o,a,s,u]}const Jw=Se({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,i]=Zw(e);return we(kr,{path:n,labelX:r,labelY:i,...t,...e})}}}),Qw=Jw,eE=Se({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,i]=bl({...e,sourcePosition:e.sourcePosition??Q.Bottom,targetPosition:e.targetPosition??Q.Top});return we(kr,{path:n,labelX:r,labelY:i,...t,...e})}}}),lm=eE,tE=Se({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>we(lm,{...e,...t,borderRadius:0})}}),nE=tE,rE=Se({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,i]=sm({...e,sourcePosition:e.sourcePosition??Q.Bottom,targetPosition:e.targetPosition??Q.Top});return we(kr,{path:n,labelX:r,labelY:i,...t,...e})}}}),iE=rE,oE=Se({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,i]=um({...e,sourcePosition:e.sourcePosition??Q.Bottom,targetPosition:e.targetPosition??Q.Top});return we(kr,{path:n,labelX:r,labelY:i,...t,...e})}}}),aE=oE,sE={input:Lw,default:Dw,output:Bw},uE={default:iE,straight:Qw,step:nE,smoothstep:lm,simplebezier:aE};function lE(e,t,n){const r=ue(()=>v=>t.value.get(v)),i=ue(()=>v=>n.value.get(v)),o=ue(()=>{const v={...uE,...e.edgeTypes},g=Object.keys(v);for(const b of e.edges)b.type&&!g.includes(b.type)&&(v[b.type]=b.type);return v}),a=ue(()=>{const v={...sE,...e.nodeTypes},g=Object.keys(v);for(const b of e.nodes)b.type&&!g.includes(b.type)&&(v[b.type]=b.type);return v}),s=ue(()=>e.onlyRenderVisibleElements?Hg(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),u=ue(()=>{if(e.onlyRenderVisibleElements){const v=[];for(const g of e.edges){const b=t.value.get(g.source),w=t.value.get(g.target);ow({sourcePos:b.computedPosition||{x:0,y:0},targetPos:w.computedPosition||{x:0,y:0},sourceWidth:b.dimensions.width,sourceHeight:b.dimensions.height,targetWidth:w.dimensions.width,targetHeight:w.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&v.push(g)}return v}return e.edges}),l=ue(()=>[...s.value,...u.value]),c=ue(()=>{const v=[];for(const g of e.nodes)g.selected&&v.push(g);return v}),d=ue(()=>{const v=[];for(const g of e.edges)g.selected&&v.push(g);return v}),f=ue(()=>[...c.value,...d.value]),h=ue(()=>{const v=[];for(const g of e.nodes)g.dimensions.width&&g.dimensions.height&&g.handleBounds!==void 0&&v.push(g);return v}),p=ue(()=>s.value.length>0&&h.value.length===s.value.length);return{getNode:r,getEdge:i,getElements:l,getEdgeTypes:o,getNodeTypes:a,getEdges:u,getNodes:s,getSelectedElements:f,getSelectedNodes:c,getSelectedEdges:d,getNodesInitialized:h,areNodesInitialized:p}}class qt{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=rn())==null?void 0:t.appContext.app,r=(n==null?void 0:n.config.globalProperties.$vueFlowStorage)??qt.instance;return qt.instance=r??new qt,n&&(n.config.globalProperties.$vueFlowStorage=qt.instance),qt.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const r=im(),i=Py(r),o={};for(const[f,h]of Object.entries(i.hooks)){const p=`on${f.charAt(0).toUpperCase()+f.slice(1)}`;o[p]=h.on}const a={};for(const[f,h]of Object.entries(i.hooks))a[f]=h.trigger;const s=ue(()=>{const f=new Map;for(const h of i.nodes)f.set(h.id,h);return f}),u=ue(()=>{const f=new Map;for(const h of i.edges)f.set(h.id,h);return f}),l=lE(i,s,u),c=kw(i,s,u);c.setState({...i,...n});const d={...o,...l,...c,...e_(i),nodeLookup:s,edgeLookup:u,emits:a,id:t,vueFlowVersion:"1.47.0",$destroy:()=>{this.remove(t)}};return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}}function xe(e){const t=qt.getInstance(),n=tg(),r=typeof e=="object",i=r?e:{id:e},o=i.id,a=o??(n==null?void 0:n.vueFlowId);let s;if(n){const u=on(Vc,null);typeof u<"u"&&u!==null&&(!a||u.id===a)&&(s=u)}if(s||a&&(s=t.get(a)),!s||a&&s.id!==a){const u=o??t.getId(),l=t.create(u,i);s=l,(n??Qp(!0)).run(()=>{_e(l.applyDefault,(d,f,h)=>{const p=g=>{l.applyNodeChanges(g)},v=g=>{l.applyEdgeChanges(g)};d?(l.onNodesChange(p),l.onEdgesChange(v)):(l.hooks.value.nodesChange.off(p),l.hooks.value.edgesChange.off(v)),h(()=>{l.hooks.value.nodesChange.off(p),l.hooks.value.edgesChange.off(v)})},{immediate:!0}),Cn(()=>{if(s){const d=t.get(s.id);d?d.$destroy():On(`No store instance found for id ${s.id} in storage.`)}})})}else r&&s.setState(i);if(n&&(Jt(Vc,s),n.vueFlowId=s.id),r){const u=rn();(u==null?void 0:u.type.name)!=="VueFlow"&&s.emits.error(new qe(Ae.USEVUEFLOW_OPTIONS))}return s}function cE(e){const{emits:t,dimensions:n}=xe();let r;ht(()=>{const i=()=>{var o,a;if(!e.value||!(((a=(o=e.value).checkVisibility)==null?void 0:a.call(o))??!0))return;const s=Tr(e.value);(s.width===0||s.height===0)&&t.error(new qe(Ae.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:s.width||500,height:s.height||500}};i(),window.addEventListener("resize",i),e.value&&(r=new ResizeObserver(()=>i()),r.observe(e.value)),eg(()=>{window.removeEventListener("resize",i),r&&e.value&&r.unobserve(e.value)})})}const dE={name:"UserSelection",compatConfig:{MODE:3}},fE=Se({...dE,props:{userSelectionRect:{}},setup(e){return(t,n)=>(Y(),re("div",{class:"vue-flow__selection vue-flow__container",style:Ue({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),hE=["tabIndex"],vE={name:"NodesSelection",compatConfig:{MODE:3}},pE=Se({...vE,setup(e){const{emits:t,viewport:n,getSelectedNodes:r,noPanClassName:i,disableKeyboardA11y:o,userSelectionActive:a}=xe(),s=rm(),u=be(null),l=em({el:u,onStart(p){t.selectionDragStart(p),t.nodeDragStart(p)},onDrag(p){t.selectionDrag(p),t.nodeDrag(p)},onStop(p){t.selectionDragStop(p),t.nodeDragStop(p)}});ht(()=>{var p;o.value||(p=u.value)==null||p.focus({preventScroll:!0})});const c=ue(()=>Gg(r.value)),d=ue(()=>({width:`${c.value.width}px`,height:`${c.value.height}px`,top:`${c.value.y}px`,left:`${c.value.x}px`}));function f(p){t.selectionContextMenu({event:p,nodes:r.value})}function h(p){o||Zt[p.key]&&(p.preventDefault(),s({x:Zt[p.key].x,y:Zt[p.key].y},p.shiftKey))}return(p,v)=>!J(a)&&c.value.width&&c.value.height?(Y(),re("div",{key:0,class:Dt(["vue-flow__nodesselection vue-flow__container",J(i)]),style:Ue({transform:`translate(${J(n).x}px,${J(n).y}px) scale(${J(n).zoom})`})},[ne("div",{ref_key:"el",ref:u,class:Dt([{dragging:J(l)},"vue-flow__nodesselection-rect"]),style:Ue(d.value),tabIndex:J(o)?void 0:-1,onContextmenu:f,onKeydown:h},null,46,hE)],6)):Ne("",!0)}});function gE(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const mE={name:"Pane",compatConfig:{MODE:3}},yE=Se({...mE,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:r,emits:i,userSelectionActive:o,removeSelectedElements:a,userSelectionRect:s,elementsSelectable:u,nodesSelectionActive:l,getSelectedEdges:c,getSelectedNodes:d,removeNodes:f,removeEdges:h,selectionMode:p,deleteKeyCode:v,multiSelectionKeyCode:g,multiSelectionActive:b,edgeLookup:w,nodeLookup:y,connectionLookup:C,defaultEdgeOptions:k,connectionStartHandle:q}=xe(),M=be(null),A=be(new Set),D=be(new Set),O=be(),T=Ee(()=>u.value&&(e.isSelecting||o.value)),N=Ee(()=>q.value!==null);let L=!1,S=!1;const P=Sn(v,{actInsideInputWithModifier:!1}),I=Sn(g);_e(P,V=>{V&&(f(d.value),h(c.value),l.value=!1)}),_e(I,V=>{b.value=V});function $(V,Z){return W=>{W.target===Z&&(V==null||V(W))}}function B(V){if(L||N.value){L=!1;return}i.paneClick(V),a(),l.value=!1}function z(V){V.preventDefault(),V.stopPropagation(),i.paneContextMenu(V)}function F(V){i.paneScroll(V)}function X(V){var Z,W,de;if(O.value=(Z=t.value)==null?void 0:Z.getBoundingClientRect(),!u.value||!e.isSelecting||V.button!==0||V.target!==M.value||!O.value)return;(de=(W=V.target)==null?void 0:W.setPointerCapture)==null||de.call(W,V.pointerId);const{x:he,y:se}=gE(V,O.value);S=!0,L=!1,a(),s.value={width:0,height:0,startX:he,startY:se,x:he,y:se},i.selectionStart(V)}function te(V){var Z;if(!O.value||!s.value)return;L=!0;const{x:W,y:de}=Je(V,O.value),{startX:he=0,startY:se=0}=s.value,ge={startX:he,startY:se,x:W<he?W:he,y:de<se?de:se,width:Math.abs(W-he),height:Math.abs(de-se)},ye=A.value,ie=D.value;A.value=new Set(Hg(n.value,ge,r.value,p.value===ql.Partial,!0).map(E=>E.id)),D.value=new Set;const le=((Z=k.value)==null?void 0:Z.selectable)??!0;for(const E of A.value){const m=C.value.get(E);if(m)for(const{edgeId:x}of m.values()){const _=w.value.get(x);_&&(_.selectable??le)&&D.value.add(x)}}if(!Fc(ye,A.value)){const E=Et(y.value,A.value,!0);i.nodesChange(E)}if(!Fc(ie,D.value)){const E=Et(w.value,D.value);i.edgesChange(E)}s.value=ge,o.value=!0,l.value=!1}function oe(V){var Z;V.button!==0||!S||((Z=V.target)==null||Z.releasePointerCapture(V.pointerId),!o.value&&s.value&&V.target===M.value&&B(V),o.value=!1,s.value=null,l.value=A.value.size>0,i.selectionEnd(V),e.selectionKeyPressed&&(L=!1),S=!1)}return(V,Z)=>(Y(),re("div",{ref_key:"container",ref:M,class:Dt(["vue-flow__pane vue-flow__container",{selection:V.isSelecting}]),onClick:Z[0]||(Z[0]=W=>T.value?void 0:$(B,M.value)(W)),onContextmenu:Z[1]||(Z[1]=W=>$(z,M.value)(W)),onWheelPassive:Z[2]||(Z[2]=W=>$(F,M.value)(W)),onPointerenter:Z[3]||(Z[3]=W=>T.value?void 0:J(i).paneMouseEnter(W)),onPointerdown:Z[4]||(Z[4]=W=>T.value?X(W):J(i).paneMouseMove(W)),onPointermove:Z[5]||(Z[5]=W=>T.value?te(W):J(i).paneMouseMove(W)),onPointerup:Z[6]||(Z[6]=W=>T.value?oe(W):void 0),onPointerleave:Z[7]||(Z[7]=W=>J(i).paneMouseLeave(W))},[Ie(V.$slots,"default"),J(o)&&J(s)?(Y(),ke(fE,{key:0,"user-selection-rect":J(s)},null,8,["user-selection-rect"])):Ne("",!0),J(l)&&J(d).length?(Y(),ke(pE,{key:1})):Ne("",!0)],34))}}),_E={name:"Transform",compatConfig:{MODE:3}},bE=Se({..._E,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:r}=xe(),i=ue(()=>n.value?!r.value:!1),o=ue(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(a,s)=>(Y(),re("div",{class:"vue-flow__transformationpane vue-flow__container",style:Ue({transform:o.value,opacity:i.value?0:void 0})},[Ie(a.$slots,"default")],4))}}),wE={name:"Viewport",compatConfig:{MODE:3}},EE=Se({...wE,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:r,translateExtent:i,zoomActivationKeyCode:o,selectionKeyCode:a,panActivationKeyCode:s,panOnScroll:u,panOnScrollMode:l,panOnScrollSpeed:c,panOnDrag:d,zoomOnDoubleClick:f,zoomOnPinch:h,zoomOnScroll:p,preventScrolling:v,noWheelClassName:g,noPanClassName:b,emits:w,connectionStartHandle:y,userSelectionActive:C,paneDragging:k,d3Zoom:q,d3Selection:M,d3ZoomHandler:A,viewport:D,viewportRef:O,paneClickDistance:T}=xe();cE(O);const N=ur(!1),L=ur(!1);let S=null,P=!1,I=0,$={x:0,y:0,zoom:0};const B=Sn(s),z=Sn(a),F=Sn(o),X=Ee(()=>(!z.value||z.value&&a.value===!0)&&(B.value||d.value)),te=Ee(()=>B.value||u.value),oe=Ee(()=>z.value||a.value===!0&&X.value!==!0),V=Ee(()=>y.value!==null);ht(()=>{if(!O.value){On("Viewport element is missing");return}const se=O.value,ge=se.getBoundingClientRect(),ye=B1().clickDistance(T.value).scaleExtent([t.value,n.value]).translateExtent(i.value),ie=Ge(se).call(ye),le=ie.on("wheel.zoom"),E=tn.translate(r.value.x??0,r.value.y??0).scale(zt(r.value.zoom??1,t.value,n.value)),m=[[0,0],[ge.width,ge.height]],x=ye.constrain()(E,m,i.value);ye.transform(ie,x),ye.wheelDelta(Ic),q.value=ye,M.value=ie,A.value=le,D.value={x:x.x,y:x.y,zoom:x.k},ye.on("start",_=>{var R;if(!_.sourceEvent)return null;I=_.sourceEvent.button,N.value=!0;const G=de(_.transform);((R=_.sourceEvent)==null?void 0:R.type)==="mousedown"&&(k.value=!0),$=G,w.viewportChangeStart(G),w.moveStart({event:_,flowTransform:G})}),ye.on("end",_=>{if(!_.sourceEvent)return null;if(N.value=!1,k.value=!1,Z(X.value,I??0)&&!P&&w.paneContextMenu(_.sourceEvent),P=!1,W($,_.transform)){const R=de(_.transform);$=R,w.viewportChangeEnd(R),w.moveEnd({event:_,flowTransform:R})}}),ye.filter(_=>{var R;const G=F.value||p.value,K=h.value&&_.ctrlKey,U=_.button,j=_.type==="wheel";if(U===1&&_.type==="mousedown"&&(he(_,"vue-flow__node")||he(_,"vue-flow__edge")))return!0;if(!X.value&&!G&&!te.value&&!f.value&&!h.value||C.value||V.value&&!j||!f.value&&_.type==="dblclick"||he(_,g.value)&&j||he(_,b.value)&&(!j||te.value&&j&&!F.value)||!h.value&&_.ctrlKey&&j||!G&&!te.value&&!K&&j)return!1;if(!h&&_.type==="touchstart"&&((R=_.touches)==null?void 0:R.length)>1)return _.preventDefault(),!1;if(!X.value&&(_.type==="mousedown"||_.type==="touchstart")||a.value===!0&&Array.isArray(d.value)&&d.value.includes(0)&&U===0||Array.isArray(d.value)&&!d.value.includes(U)&&(_.type==="mousedown"||_.type==="touchstart"))return!1;const ee=Array.isArray(d.value)&&d.value.includes(U)||a.value===!0&&Array.isArray(d.value)&&!d.value.includes(0)||!U||U<=1;return(!_.ctrlKey||B.value||j)&&ee}),_e([C,X],()=>{C.value&&!N.value?ye.on("zoom",null):C.value||ye.on("zoom",_=>{D.value={x:_.transform.x,y:_.transform.y,zoom:_.transform.k};const R=de(_.transform);P=Z(X.value,I??0),w.viewportChange(R),w.move({event:_,flowTransform:R})})},{immediate:!0}),_e([C,te,l,F,h,v,g],()=>{te.value&&!F.value&&!C.value?ie.on("wheel.zoom",_=>{if(he(_,g.value))return!1;const R=F.value||p.value,G=h.value&&_.ctrlKey;if(!(!v.value||te.value||R||G))return!1;_.preventDefault(),_.stopImmediatePropagation();const U=ie.property("__zoom").k||1,j=yr();if(!B.value&&_.ctrlKey&&h.value&&j){const gt=Xe(_),mt=Ic(_),Fn=U*2**mt;ye.scaleTo(ie,Fn,gt,_);return}const ee=_.deltaMode===1?20:1;let ce=l.value===xn.Vertical?0:_.deltaX*ee,pe=l.value===xn.Horizontal?0:_.deltaY*ee;!j&&_.shiftKey&&l.value!==xn.Vertical&&!ce&&pe&&(ce=pe,pe=0),ye.translateBy(ie,-(ce/U)*c.value,-(pe/U)*c.value);const ze=de(ie.property("__zoom"));S&&clearTimeout(S),L.value?(w.move({event:_,flowTransform:ze}),w.viewportChange(ze),S=setTimeout(()=>{w.moveEnd({event:_,flowTransform:ze}),w.viewportChangeEnd(ze),L.value=!1},150)):(L.value=!0,w.moveStart({event:_,flowTransform:ze}),w.viewportChangeStart(ze))},{passive:!1}):typeof le<"u"&&ie.on("wheel.zoom",function(_,R){const G=!v.value&&_.type==="wheel"&&!_.ctrlKey,K=F.value||p.value,U=h.value&&_.ctrlKey;if(!K&&!u.value&&!U&&_.type==="wheel"||G||he(_,g.value))return null;_.preventDefault(),le.call(this,_,R)},{passive:!1})},{immediate:!0})});function Z(se,ge){return ge===2&&Array.isArray(se)&&se.includes(2)}function W(se,ge){return se.x!==ge.x&&!Number.isNaN(ge.x)||se.y!==ge.y&&!Number.isNaN(ge.y)||se.zoom!==ge.k&&!Number.isNaN(ge.k)}function de(se){return{x:se.x,y:se.y,zoom:se.k}}function he(se,ge){return se.target.closest(`.${ge}`)}return(se,ge)=>(Y(),re("div",{ref_key:"viewportRef",ref:O,class:"vue-flow__viewport vue-flow__container"},[Oe(yE,{"is-selecting":oe.value,"selection-key-pressed":J(z),class:Dt({connecting:V.value,dragging:J(k),draggable:J(d)===!0||Array.isArray(J(d))&&J(d).includes(0)})},{default:Ze(()=>[Oe(bE,null,{default:Ze(()=>[Ie(se.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),xE=["id"],SE=["id"],CE=["id"],NE={name:"A11yDescriptions",compatConfig:{MODE:3}},IE=Se({...NE,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:r}=xe();return(i,o)=>(Y(),re(Re,null,[ne("div",{id:`${J(Og)}-${J(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Pe(J(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,xE),ne("div",{id:`${J($g)}-${J(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,SE),J(n)?Ne("",!0):(Y(),re("div",{key:0,id:`${J(H1)}-${J(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},Pe(J(r)),9,CE))],64))}});function TE(){const e=xe();_e(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function AE(e,t,n){return n===Q.Left?e-t:n===Q.Right?e+t:e}function ME(e,t,n){return n===Q.Top?e-t:n===Q.Bottom?e+t:e}const Ol=function({radius:e=10,centerX:t=0,centerY:n=0,position:r=Q.Top,type:i}){return we("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${i}`,cx:AE(t,e,r),cy:ME(n,e,r),r:e,stroke:"transparent",fill:"transparent"})};Ol.props=["radius","centerX","centerY","position","type"];Ol.compatConfig={MODE:3};const Yc=Ol,RE=Se({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:r,edgeUpdaterRadius:i,emits:o,nodesSelectionActive:a,noPanClassName:s,getEdgeTypes:u,removeSelectedEdges:l,findEdge:c,findNode:d,isValidConnection:f,multiSelectionActive:h,disableKeyboardA11y:p,elementsSelectable:v,edgesUpdatable:g,edgesFocusable:b,hooks:w}=xe(),y=ue(()=>c(e.id)),{emit:C,on:k}=ww(y.value,o),q=on(Mr),M=rn(),A=be(!1),D=be(!1),O=be(""),T=be(null),N=be("source"),L=be(null),S=Ee(()=>typeof y.value.selectable>"u"?v.value:y.value.selectable),P=Ee(()=>typeof y.value.updatable>"u"?g.value:y.value.updatable),I=Ee(()=>typeof y.value.focusable>"u"?b.value:y.value.focusable);Jt(yw,e.id),Jt(_w,L);const $=ue(()=>y.value.class instanceof Function?y.value.class(y.value):y.value.class),B=ue(()=>y.value.style instanceof Function?y.value.style(y.value):y.value.style),z=ue(()=>{const m=y.value.type||"default",x=q==null?void 0:q[`edge-${m}`];if(x)return x;let _=y.value.template??u.value[m];if(typeof _=="string"&&M){const R=Object.keys(M.appContext.components);R&&R.includes(m)&&(_=ng(m,!1))}return _&&typeof _!="string"?_:(o.error(new qe(Ae.EDGE_TYPE_MISSING,_)),!1)}),{handlePointerDown:F}=tm({nodeId:O,handleId:T,type:N,isValidConnection:f,edgeUpdaterType:N,onEdgeUpdate:oe,onEdgeUpdateEnd:V});return()=>{const m=d(y.value.source),x=d(y.value.target),_="pathOptions"in y.value?y.value.pathOptions:{};if(!m&&!x)return o.error(new qe(Ae.EDGE_SOURCE_TARGET_MISSING,y.value.id,y.value.source,y.value.target)),null;if(!m)return o.error(new qe(Ae.EDGE_SOURCE_MISSING,y.value.id,y.value.source)),null;if(!x)return o.error(new qe(Ae.EDGE_TARGET_MISSING,y.value.id,y.value.target)),null;if(!y.value||y.value.hidden||m.hidden||x.hidden)return null;let R;r.value===Nt.Strict?R=m.handleBounds.source:R=[...m.handleBounds.source||[],...m.handleBounds.target||[]];const G=Oc(R,y.value.sourceHandle);let K;r.value===Nt.Strict?K=x.handleBounds.target:K=[...x.handleBounds.target||[],...x.handleBounds.source||[]];const U=Oc(K,y.value.targetHandle),j=(G==null?void 0:G.position)||Q.Bottom,ee=(U==null?void 0:U.position)||Q.Top,{x:ce,y:pe}=nn(m,G,j),{x:ze,y:gt}=nn(x,U,ee);return y.value.sourceX=ce,y.value.sourceY=pe,y.value.targetX=ze,y.value.targetY=gt,we("g",{ref:L,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${z.value===!1?"default":y.value.type||"default"}`,s.value,$.value,{updating:A.value,selected:y.value.selected,animated:y.value.animated,inactive:!S.value&&!w.value.edgeClick.hasListeners()}],tabIndex:I.value?0:void 0,"aria-label":y.value.ariaLabel===null?void 0:y.value.ariaLabel??`Edge from ${y.value.source} to ${y.value.target}`,"aria-describedby":I.value?`${$g}-${t}`:void 0,"aria-roledescription":"edge",role:I.value?"group":"img",...y.value.domAttributes,onClick:W,onContextmenu:de,onDblclick:he,onMouseenter:se,onMousemove:ge,onMouseleave:ye,onKeyDown:I.value?E:void 0},[D.value?null:we(z.value===!1?u.value.default:z.value,{id:e.id,sourceNode:m,targetNode:x,source:y.value.source,target:y.value.target,type:y.value.type,updatable:P.value,selected:y.value.selected,animated:y.value.animated,label:y.value.label,labelStyle:y.value.labelStyle,labelShowBg:y.value.labelShowBg,labelBgStyle:y.value.labelBgStyle,labelBgPadding:y.value.labelBgPadding,labelBgBorderRadius:y.value.labelBgBorderRadius,data:y.value.data,events:{...y.value.events,...k},style:B.value,markerStart:`url('#${qn(y.value.markerStart,t)}')`,markerEnd:`url('#${qn(y.value.markerEnd,t)}')`,sourcePosition:j,targetPosition:ee,sourceX:ce,sourceY:pe,targetX:ze,targetY:gt,sourceHandleId:y.value.sourceHandle,targetHandleId:y.value.targetHandle,interactionWidth:y.value.interactionWidth,..._}),[P.value==="source"||P.value===!0?[we("g",{onMousedown:ie,onMouseenter:X,onMouseout:te},we(Yc,{position:j,centerX:ce,centerY:pe,radius:i.value,type:"source","data-type":"source"}))]:null,P.value==="target"||P.value===!0?[we("g",{onMousedown:le,onMouseenter:X,onMouseout:te},we(Yc,{position:ee,centerX:ze,centerY:gt,radius:i.value,type:"target","data-type":"target"}))]:null]])};function X(){A.value=!0}function te(){A.value=!1}function oe(m,x){C.update({event:m,edge:y.value,connection:x})}function V(m){C.updateEnd({event:m,edge:y.value}),D.value=!1}function Z(m,x){m.button===0&&(D.value=!0,O.value=x?y.value.target:y.value.source,T.value=(x?y.value.targetHandle:y.value.sourceHandle)??null,N.value=x?"target":"source",C.updateStart({event:m,edge:y.value}),F(m))}function W(m){var x;const _={event:m,edge:y.value};S.value&&(a.value=!1,y.value.selected&&h.value?(l([y.value]),(x=L.value)==null||x.blur()):n([y.value])),C.click(_)}function de(m){C.contextMenu({event:m,edge:y.value})}function he(m){C.doubleClick({event:m,edge:y.value})}function se(m){C.mouseEnter({event:m,edge:y.value})}function ge(m){C.mouseMove({event:m,edge:y.value})}function ye(m){C.mouseLeave({event:m,edge:y.value})}function ie(m){Z(m,!0)}function le(m){Z(m,!1)}function E(m){var x;!p.value&&Dg.includes(m.key)&&S.value&&(m.key==="Escape"?((x=L.value)==null||x.blur(),l([c(e.id)])):n([c(e.id)]))}}}),qE=RE,PE=Se({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:r,connectionEndHandle:i,connectionPosition:o,connectionLineType:a,connectionLineStyle:s,connectionLineOptions:u,connectionStatus:l,viewport:c,findNode:d}=xe(),f=(e=on(Mr))==null?void 0:e["connection-line"],h=ue(()=>{var w;return d((w=r.value)==null?void 0:w.nodeId)}),p=ue(()=>{var w;return d((w=i.value)==null?void 0:w.nodeId)??null}),v=ue(()=>({x:(o.value.x-c.value.x)/c.value.zoom,y:(o.value.y-c.value.y)/c.value.zoom})),g=ue(()=>u.value.markerStart?`url(#${qn(u.value.markerStart,t)})`:""),b=ue(()=>u.value.markerEnd?`url(#${qn(u.value.markerEnd,t)})`:"");return()=>{var w,y,C;if(!h.value||!r.value)return null;const k=r.value.id,q=r.value.type,M=h.value.handleBounds;let A=(M==null?void 0:M[q])??[];if(n.value===Nt.Loose){const B=(M==null?void 0:M[q==="source"?"target":"source"])??[];A=[...A,...B]}if(!A)return null;const D=(k?A.find(B=>B.id===k):A[0])??null,O=(D==null?void 0:D.position)??Q.Top,{x:T,y:N}=nn(h.value,D,O);let L=null;p.value&&(n.value===Nt.Strict?L=((w=p.value.handleBounds[q==="source"?"target":"source"])==null?void 0:w.find(B=>{var z;return B.id===((z=i.value)==null?void 0:z.id)}))||null:L=((y=[...p.value.handleBounds.source??[],...p.value.handleBounds.target??[]])==null?void 0:y.find(B=>{var z;return B.id===((z=i.value)==null?void 0:z.id)}))||null);const S=((C=i.value)==null?void 0:C.position)??(O?yl[O]:null);if(!O||!S)return null;const P=a.value??u.value.type??Rt.Bezier;let I="";const $={sourceX:T,sourceY:N,sourcePosition:O,targetX:v.value.x,targetY:v.value.y,targetPosition:S};return P===Rt.Bezier?[I]=sm($):P===Rt.Step?[I]=bl({...$,borderRadius:0}):P===Rt.SmoothStep?[I]=bl($):P===Rt.SimpleBezier?[I]=um($):I=`M${T},${N} ${v.value.x},${v.value.y}`,we("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},we("g",{class:"vue-flow__connection"},f?we(f,{sourceX:T,sourceY:N,sourcePosition:O,targetX:v.value.x,targetY:v.value.y,targetPosition:S,sourceNode:h.value,sourceHandle:D,targetNode:p.value,targetHandle:L,markerEnd:b.value,markerStart:g.value,connectionStatus:l.value}):we("path",{d:I,class:[u.value.class,l.value,"vue-flow__connection-path"],style:{...s.value,...u.value.style},"marker-end":b.value,"marker-start":g.value})))}}}),kE=PE,OE=["id","markerWidth","markerHeight","markerUnits","orient"],$E={name:"MarkerType",compatConfig:{MODE:3}},DE=Se({...$E,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(Y(),re("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===J(gl).ArrowClosed?(Y(),re("polyline",{key:0,style:Ue({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):Ne("",!0),t.type===J(gl).Arrow?(Y(),re("polyline",{key:1,style:Ue({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):Ne("",!0)],8,OE))}}),BE={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},LE={name:"MarkerDefinitions",compatConfig:{MODE:3}},zE=Se({...LE,setup(e){const{id:t,edges:n,connectionLineOptions:r,defaultMarkerColor:i}=xe(),o=ue(()=>{const a=new Set,s=[],u=l=>{if(l){const c=qn(l,t);a.has(c)||(typeof l=="object"?s.push({...l,id:c,color:l.color||i.value}):s.push({id:c,color:i.value,type:l}),a.add(c))}};for(const l of[r.value.markerEnd,r.value.markerStart])u(l);for(const l of n.value)for(const c of[l.markerStart,l.markerEnd])u(c);return s.sort((l,c)=>l.id.localeCompare(c.id))});return(a,s)=>(Y(),re("svg",BE,[ne("defs",null,[(Y(!0),re(Re,null,xt(o.value,u=>(Y(),ke(DE,{id:u.id,key:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,"stroke-width":u.strokeWidth,orient:u.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),FE={name:"Edges",compatConfig:{MODE:3}},VE=Se({...FE,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:r}=xe();return(i,o)=>(Y(),re(Re,null,[Oe(zE),(Y(!0),re(Re,null,xt(J(n),a=>(Y(),re("svg",{key:a.id,class:"vue-flow__edges vue-flow__container",style:Ue({zIndex:J(aw)(a,J(t),J(r))})},[Oe(J(qE),{id:a.id},null,8,["id"])],4))),128)),Oe(J(kE))],64))}}),GE=Se({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:r,nodesSelectionActive:i,multiSelectionActive:o,emits:a,removeSelectedNodes:s,addSelectedNodes:u,updateNodeDimensions:l,onUpdateNodeInternals:c,getNodeTypes:d,nodeExtent:f,elevateNodesOnSelect:h,disableKeyboardA11y:p,ariaLiveMessage:v,snapToGrid:g,snapGrid:b,nodeDragThreshold:w,nodesDraggable:y,elementsSelectable:C,nodesConnectable:k,nodesFocusable:q,hooks:M}=xe(),A=be(null);Jt(Qg,A),Jt(Jg,e.id);const D=on(Mr),O=rn(),T=rm(),{node:N,parentNode:L}=nm(e.id),{emit:S,on:P}=Cw(N,a),I=Ee(()=>typeof N.draggable>"u"?y.value:N.draggable),$=Ee(()=>typeof N.selectable>"u"?C.value:N.selectable),B=Ee(()=>typeof N.connectable>"u"?k.value:N.connectable),z=Ee(()=>typeof N.focusable>"u"?q.value:N.focusable),F=ue(()=>$.value||I.value||M.value.nodeClick.hasListeners()||M.value.nodeDoubleClick.hasListeners()||M.value.nodeMouseEnter.hasListeners()||M.value.nodeMouseMove.hasListeners()||M.value.nodeMouseLeave.hasListeners()),X=Ee(()=>!!N.dimensions.width&&!!N.dimensions.height),te=ue(()=>{const x=N.type||"default",_=D==null?void 0:D[`node-${x}`];if(_)return _;let R=N.template||d.value[x];if(typeof R=="string"&&O){const G=Object.keys(O.appContext.components);G&&G.includes(x)&&(R=ng(x,!1))}return R&&typeof R!="string"?R:(a.error(new qe(Ae.NODE_TYPE_MISSING,R)),!1)}),oe=em({id:e.id,el:A,disabled:()=>!I.value,selectable:$,dragHandle:()=>N.dragHandle,onStart(x){S.dragStart(x)},onDrag(x){S.drag(x)},onStop(x){S.dragStop(x)},onClick(x){E(x)}}),V=ue(()=>N.class instanceof Function?N.class(N):N.class),Z=ue(()=>{const x=(N.style instanceof Function?N.style(N):N.style)||{},_=N.width instanceof Function?N.width(N):N.width,R=N.height instanceof Function?N.height(N):N.height;return!x.width&&_&&(x.width=typeof _=="string"?_:`${_}px`),!x.height&&R&&(x.height=typeof R=="string"?R:`${R}px`),x}),W=Ee(()=>Number(N.zIndex??Z.value.zIndex??0));return c(x=>{(x.includes(e.id)||!x.length)&&he()}),ht(()=>{_e(()=>N.hidden,(x=!1,_,R)=>{!x&&A.value&&(e.resizeObserver.observe(A.value),R(()=>{A.value&&e.resizeObserver.unobserve(A.value)}))},{immediate:!0,flush:"post"})}),_e([()=>N.type,()=>N.sourcePosition,()=>N.targetPosition],()=>{ct(()=>{l([{id:e.id,nodeElement:A.value,forceUpdate:!0}])})}),_e([()=>N.position.x,()=>N.position.y,()=>{var x;return(x=L.value)==null?void 0:x.computedPosition.x},()=>{var x;return(x=L.value)==null?void 0:x.computedPosition.y},()=>{var x;return(x=L.value)==null?void 0:x.computedPosition.z},W,()=>N.selected,()=>N.dimensions.height,()=>N.dimensions.width,()=>{var x;return(x=L.value)==null?void 0:x.dimensions.height},()=>{var x;return(x=L.value)==null?void 0:x.dimensions.width}],([x,_,R,G,K,U])=>{const j={x,y:_,z:U+(h.value&&N.selected?1e3:0)};typeof R<"u"&&typeof G<"u"?N.computedPosition=ew({x:R,y:G,z:K},j):N.computedPosition=j},{flush:"post",immediate:!0}),_e([()=>N.extent,f],([x,_],[R,G])=>{(x!==R||_!==G)&&de()}),N.extent==="parent"||typeof N.extent=="object"&&"range"in N.extent&&N.extent.range==="parent"?sl(()=>X).toBe(!0).then(de):de(),()=>N.hidden?null:we("div",{ref:A,"data-id":N.id,class:["vue-flow__node",`vue-flow__node-${te.value===!1?"default":N.type||"default"}`,{[n.value]:I.value,dragging:oe==null?void 0:oe.value,draggable:I.value,selected:N.selected,selectable:$.value,parent:N.isParent},V.value],style:{visibility:X.value?"visible":"hidden",zIndex:N.computedPosition.z??W.value,transform:`translate(${N.computedPosition.x}px,${N.computedPosition.y}px)`,pointerEvents:F.value?"all":"none",...Z.value},tabIndex:z.value?0:void 0,role:z.value?"group":void 0,"aria-describedby":p.value?void 0:`${Og}-${t}`,"aria-label":N.ariaLabel,"aria-roledescription":"node",...N.domAttributes,onMouseenter:se,onMousemove:ge,onMouseleave:ye,onContextmenu:ie,onClick:E,onDblclick:le,onKeydown:m},[we(te.value===!1?d.value.default:te.value,{id:N.id,type:N.type,data:N.data,events:{...N.events,...P},selected:N.selected,resizing:N.resizing,dragging:oe.value,connectable:B.value,position:N.computedPosition,dimensions:N.dimensions,isValidTargetPos:N.isValidTargetPos,isValidSourcePos:N.isValidSourcePos,parent:N.parentNode,parentNodeId:N.parentNode,zIndex:N.computedPosition.z??W.value,targetPosition:N.targetPosition,sourcePosition:N.sourcePosition,label:N.label,dragHandle:N.dragHandle,onUpdateNodeInternals:he})]);function de(){const x=N.computedPosition,{computedPosition:_,position:R}=Pl(N,g.value?Ar(x,b.value):x,a.error,f.value,L.value);(N.computedPosition.x!==_.x||N.computedPosition.y!==_.y)&&(N.computedPosition={...N.computedPosition,..._}),(N.position.x!==R.x||N.position.y!==R.y)&&(N.position=R)}function he(){A.value&&l([{id:e.id,nodeElement:A.value,forceUpdate:!0}])}function se(x){oe!=null&&oe.value||S.mouseEnter({event:x,node:N})}function ge(x){oe!=null&&oe.value||S.mouseMove({event:x,node:N})}function ye(x){oe!=null&&oe.value||S.mouseLeave({event:x,node:N})}function ie(x){return S.contextMenu({event:x,node:N})}function le(x){return S.doubleClick({event:x,node:N})}function E(x){$.value&&(!r.value||!I.value||w.value>0)&&_l(N,o.value,u,s,i,!1,A.value),S.click({event:x,node:N})}function m(x){if(!(ml(x)||p.value))if(Dg.includes(x.key)&&$.value){const _=x.key==="Escape";_l(N,o.value,u,s,i,_,A.value)}else I.value&&N.selected&&Zt[x.key]&&(x.preventDefault(),v.value=`Moved selected node ${x.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~N.position.x}, y: ${~~N.position.y}`,T({x:Zt[x.key].x,y:Zt[x.key].y},x.shiftKey))}}}),HE=GE;function UE(e={includeHiddenNodes:!1}){const{nodes:t}=xe();return ue(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const jE={class:"vue-flow__nodes vue-flow__container"},YE={name:"Nodes",compatConfig:{MODE:3}},KE=Se({...YE,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:r}=xe(),i=UE(),o=be();return _e(i,a=>{a&&ct(()=>{r.nodesInitialized(t.value)})},{immediate:!0}),ht(()=>{o.value=new ResizeObserver(a=>{const s=a.map(u=>({id:u.target.getAttribute("data-id"),nodeElement:u.target,forceUpdate:!0}));ct(()=>n(s))})}),eg(()=>{var a;return(a=o.value)==null?void 0:a.disconnect()}),(a,s)=>(Y(),re("div",jE,[o.value?(Y(!0),re(Re,{key:0},xt(J(t),(u,l,c,d)=>{const f=[u.id];if(d&&d.key===u.id&&Ly(d,f))return d;const h=(Y(),ke(J(HE),{id:u.id,key:u.id,"resize-observer":o.value},null,8,["id","resize-observer"]));return h.memo=f,h},s,0),128)):Ne("",!0)]))}});function XE(){const{emits:e}=xe();ht(()=>{if(Zg()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new qe(Ae.MISSING_STYLES))}})}const WE=ne("div",{class:"vue-flow__edge-labels"},null,-1),ZE={name:"VueFlow",compatConfig:{MODE:3}},JE=Se({...ZE,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const r=e,i=ky(),o=ti(r,"modelValue",n),a=ti(r,"nodes",n),s=ti(r,"edges",n),u=xe(r),l=Aw({modelValue:o,nodes:a,edges:s},r,u);return Rw(n,u.hooks),TE(),XE(),Jt(Mr,i),Oy(l),t(u),(c,d)=>(Y(),re("div",{ref:J(u).vueFlowRef,class:"vue-flow"},[Oe(EE,null,{default:Ze(()=>[Oe(VE),WE,Oe(KE),Ie(c.$slots,"zoom-pane")]),_:3}),Ie(c.$slots,"default"),Oe(IE)],512))}}),QE={name:"Panel",compatConfig:{MODE:3}},ex=Se({...QE,props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=xe(),r=ue(()=>`${t.position}`.split("-"));return(i,o)=>(Y(),re("div",{class:Dt(["vue-flow__panel",r.value]),style:Ue({pointerEvents:J(n)?"none":"all"})},[Ie(i.$slots,"default")],6))}}),tx={name:"ControlButton",compatConfig:{MODE:3}},nx=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},rx={type:"button",class:"vue-flow__controls-button"};function ix(e,t,n,r,i,o){return Y(),re("button",rx,[Ie(e.$slots,"default")])}const Jn=nx(tx,[["render",ix]]),ox={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ax=ne("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),sx=[ax];function ux(e,t){return Y(),re("svg",ox,sx)}const lx={render:ux},cx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},dx=ne("path",{d:"M0 0h32v4.2H0z"},null,-1),fx=[dx];function hx(e,t){return Y(),re("svg",cx,fx)}const vx={render:hx},px={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},gx=ne("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),mx=[gx];function yx(e,t){return Y(),re("svg",px,mx)}const _x={render:yx},bx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},wx=ne("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),Ex=[wx];function xx(e,t){return Y(),re("svg",bx,Ex)}const Sx={render:xx},Cx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Nx=ne("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),Ix=[Nx];function Tx(e,t){return Y(),re("svg",Cx,Ix)}const Ax={render:Tx},Mx={name:"Controls",compatConfig:{MODE:3}},Rx=Se({...Mx,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>kg.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:r,elementsSelectable:i,setInteractive:o,zoomIn:a,zoomOut:s,fitView:u,viewport:l,minZoom:c,maxZoom:d}=xe(),f=Ee(()=>n.value||r.value||i.value),h=Ee(()=>l.value.zoom<=c.value),p=Ee(()=>l.value.zoom>=d.value);function v(){a(),t("zoomIn")}function g(){s(),t("zoomOut")}function b(){u(e.fitViewParams),t("fitView")}function w(){o(!f.value),t("interactionChange",!f.value)}return(y,C)=>(Y(),ke(J(ex),{class:"vue-flow__controls",position:y.position},{default:Ze(()=>[Ie(y.$slots,"top"),y.showZoom?(Y(),re(Re,{key:0},[Ie(y.$slots,"control-zoom-in",{},()=>[Oe(Jn,{class:"vue-flow__controls-zoomin",disabled:p.value,onClick:v},{default:Ze(()=>[Ie(y.$slots,"icon-zoom-in",{},()=>[(Y(),ke(Kt(J(lx))))])]),_:3},8,["disabled"])]),Ie(y.$slots,"control-zoom-out",{},()=>[Oe(Jn,{class:"vue-flow__controls-zoomout",disabled:h.value,onClick:g},{default:Ze(()=>[Ie(y.$slots,"icon-zoom-out",{},()=>[(Y(),ke(Kt(J(vx))))])]),_:3},8,["disabled"])])],64)):Ne("",!0),y.showFitView?Ie(y.$slots,"control-fit-view",{key:1},()=>[Oe(Jn,{class:"vue-flow__controls-fitview",onClick:b},{default:Ze(()=>[Ie(y.$slots,"icon-fit-view",{},()=>[(Y(),ke(Kt(J(_x))))])]),_:3})]):Ne("",!0),y.showInteractive?Ie(y.$slots,"control-interactive",{key:2},()=>[y.showInteractive?(Y(),ke(Jn,{key:0,class:"vue-flow__controls-interactive",onClick:w},{default:Ze(()=>[f.value?Ie(y.$slots,"icon-unlock",{key:0},()=>[(Y(),ke(Kt(J(Ax))))]):Ne("",!0),f.value?Ne("",!0):Ie(y.$slots,"icon-lock",{key:1},()=>[(Y(),ke(Kt(J(Sx))))])]),_:3})):Ne("",!0)]):Ne("",!0),Ie(y.$slots,"default")]),_:3},8,["position"]))}});function $l(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fi,Kc;function qx(){if(Kc)return fi;Kc=1;function e(){this.__data__=[],this.size=0}return fi=e,fi}var hi,Xc;function an(){if(Xc)return hi;Xc=1;function e(t,n){return t===n||t!==t&&n!==n}return hi=e,hi}var vi,Wc;function Or(){if(Wc)return vi;Wc=1;var e=an();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return vi=t,vi}var pi,Zc;function Px(){if(Zc)return pi;Zc=1;var e=Or(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return pi=r,pi}var gi,Jc;function kx(){if(Jc)return gi;Jc=1;var e=Or();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return gi=t,gi}var mi,Qc;function Ox(){if(Qc)return mi;Qc=1;var e=Or();function t(n){return e(this.__data__,n)>-1}return mi=t,mi}var yi,ed;function $x(){if(ed)return yi;ed=1;var e=Or();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return yi=t,yi}var _i,td;function $r(){if(td)return _i;td=1;var e=qx(),t=Px(),n=kx(),r=Ox(),i=$x();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var l=a[s];this.set(l[0],l[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,_i=o,_i}var bi,nd;function Dx(){if(nd)return bi;nd=1;var e=$r();function t(){this.__data__=new e,this.size=0}return bi=t,bi}var wi,rd;function Bx(){if(rd)return wi;rd=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return wi=e,wi}var Ei,id;function Lx(){if(id)return Ei;id=1;function e(t){return this.__data__.get(t)}return Ei=e,Ei}var xi,od;function zx(){if(od)return xi;od=1;function e(t){return this.__data__.has(t)}return xi=e,xi}var Si,ad;function cm(){if(ad)return Si;ad=1;var e=typeof Vn=="object"&&Vn&&Vn.Object===Object&&Vn;return Si=e,Si}var Ci,sd;function Ye(){if(sd)return Ci;sd=1;var e=cm(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Ci=n,Ci}var Ni,ud;function sn(){if(ud)return Ni;ud=1;var e=Ye(),t=e.Symbol;return Ni=t,Ni}var Ii,ld;function Fx(){if(ld)return Ii;ld=1;var e=sn(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),u=a[i];try{a[i]=void 0;var l=!0}catch{}var c=r.call(a);return l&&(s?a[i]=u:delete a[i]),c}return Ii=o,Ii}var Ti,cd;function Vx(){if(cd)return Ti;cd=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Ti=n,Ti}var Ai,dd;function Ft(){if(dd)return Ai;dd=1;var e=sn(),t=Fx(),n=Vx(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return Ai=a,Ai}var Mi,fd;function Fe(){if(fd)return Mi;fd=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Mi=e,Mi}var Ri,hd;function $n(){if(hd)return Ri;hd=1;var e=Ft(),t=Fe(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var u=e(s);return u==r||u==i||u==n||u==o}return Ri=a,Ri}var qi,vd;function Gx(){if(vd)return qi;vd=1;var e=Ye(),t=e["__core-js_shared__"];return qi=t,qi}var Pi,pd;function Hx(){if(pd)return Pi;pd=1;var e=Gx(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Pi=n,Pi}var ki,gd;function dm(){if(gd)return ki;gd=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return ki=n,ki}var Oi,md;function Ux(){if(md)return Oi;md=1;var e=$n(),t=Hx(),n=Fe(),r=dm(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,u=a.toString,l=s.hasOwnProperty,c=RegExp("^"+u.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var h=e(f)?c:o;return h.test(r(f))}return Oi=d,Oi}var $i,yd;function jx(){if(yd)return $i;yd=1;function e(t,n){return t==null?void 0:t[n]}return $i=e,$i}var Di,_d;function Vt(){if(_d)return Di;_d=1;var e=Ux(),t=jx();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return Di=n,Di}var Bi,bd;function Dl(){if(bd)return Bi;bd=1;var e=Vt(),t=Ye(),n=e(t,"Map");return Bi=n,Bi}var Li,wd;function Dr(){if(wd)return Li;wd=1;var e=Vt(),t=e(Object,"create");return Li=t,Li}var zi,Ed;function Yx(){if(Ed)return zi;Ed=1;var e=Dr();function t(){this.__data__=e?e(null):{},this.size=0}return zi=t,zi}var Fi,xd;function Kx(){if(xd)return Fi;xd=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Fi=e,Fi}var Vi,Sd;function Xx(){if(Sd)return Vi;Sd=1;var e=Dr(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return Vi=i,Vi}var Gi,Cd;function Wx(){if(Cd)return Gi;Cd=1;var e=Dr(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return Gi=r,Gi}var Hi,Nd;function Zx(){if(Nd)return Hi;Nd=1;var e=Dr(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return Hi=n,Hi}var Ui,Id;function Jx(){if(Id)return Ui;Id=1;var e=Yx(),t=Kx(),n=Xx(),r=Wx(),i=Zx();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var l=a[s];this.set(l[0],l[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Ui=o,Ui}var ji,Td;function Qx(){if(Td)return ji;Td=1;var e=Jx(),t=$r(),n=Dl();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return ji=r,ji}var Yi,Ad;function eS(){if(Ad)return Yi;Ad=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Yi=e,Yi}var Ki,Md;function Br(){if(Md)return Ki;Md=1;var e=eS();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Ki=t,Ki}var Xi,Rd;function tS(){if(Rd)return Xi;Rd=1;var e=Br();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Xi=t,Xi}var Wi,qd;function nS(){if(qd)return Wi;qd=1;var e=Br();function t(n){return e(this,n).get(n)}return Wi=t,Wi}var Zi,Pd;function rS(){if(Pd)return Zi;Pd=1;var e=Br();function t(n){return e(this,n).has(n)}return Zi=t,Zi}var Ji,kd;function iS(){if(kd)return Ji;kd=1;var e=Br();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Ji=t,Ji}var Qi,Od;function Bl(){if(Od)return Qi;Od=1;var e=Qx(),t=tS(),n=nS(),r=rS(),i=iS();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var l=a[s];this.set(l[0],l[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Qi=o,Qi}var eo,$d;function oS(){if($d)return eo;$d=1;var e=$r(),t=Dl(),n=Bl(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var u=s.__data__;if(!t||u.length<r-1)return u.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(u)}return s.set(o,a),this.size=s.size,this}return eo=i,eo}var to,Dd;function Lr(){if(Dd)return to;Dd=1;var e=$r(),t=Dx(),n=Bx(),r=Lx(),i=zx(),o=oS();function a(s){var u=this.__data__=new e(s);this.size=u.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,to=a,to}var no,Bd;function Ll(){if(Bd)return no;Bd=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return no=e,no}var ro,Ld;function fm(){if(Ld)return ro;Ld=1;var e=Vt(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return ro=t,ro}var io,zd;function zr(){if(zd)return io;zd=1;var e=fm();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return io=t,io}var oo,Fd;function Fr(){if(Fd)return oo;Fd=1;var e=zr(),t=an(),n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s){var u=o[a];(!(r.call(o,a)&&t(u,s))||s===void 0&&!(a in o))&&e(o,a,s)}return oo=i,oo}var ao,Vd;function Dn(){if(Vd)return ao;Vd=1;var e=Fr(),t=zr();function n(r,i,o,a){var s=!o;o||(o={});for(var u=-1,l=i.length;++u<l;){var c=i[u],d=a?a(o[c],r[c],c,o,r):void 0;d===void 0&&(d=r[c]),s?t(o,c,d):e(o,c,d)}return o}return ao=n,ao}var so,Gd;function aS(){if(Gd)return so;Gd=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return so=e,so}var uo,Hd;function nt(){if(Hd)return uo;Hd=1;function e(t){return t!=null&&typeof t=="object"}return uo=e,uo}var lo,Ud;function sS(){if(Ud)return lo;Ud=1;var e=Ft(),t=nt(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return lo=r,lo}var co,jd;function Bn(){if(jd)return co;jd=1;var e=sS(),t=nt(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return co=o,co}var fo,Yd;function Me(){if(Yd)return fo;Yd=1;var e=Array.isArray;return fo=e,fo}var gn={exports:{}},ho,Kd;function uS(){if(Kd)return ho;Kd=1;function e(){return!1}return ho=e,ho}gn.exports;var Xd;function un(){return Xd||(Xd=1,function(e,t){var n=Ye(),r=uS(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||r;e.exports=l}(gn,gn.exports)),gn.exports}var vo,Wd;function Vr(){if(Wd)return vo;Wd=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return vo=n,vo}var po,Zd;function zl(){if(Zd)return po;Zd=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return po=t,po}var go,Jd;function lS(){if(Jd)return go;Jd=1;var e=Ft(),t=zl(),n=nt(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",u="[object Function]",l="[object Map]",c="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",p="[object String]",v="[object WeakMap]",g="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",y="[object Float64Array]",C="[object Int8Array]",k="[object Int16Array]",q="[object Int32Array]",M="[object Uint8Array]",A="[object Uint8ClampedArray]",D="[object Uint16Array]",O="[object Uint32Array]",T={};T[w]=T[y]=T[C]=T[k]=T[q]=T[M]=T[A]=T[D]=T[O]=!0,T[r]=T[i]=T[g]=T[o]=T[b]=T[a]=T[s]=T[u]=T[l]=T[c]=T[d]=T[f]=T[h]=T[p]=T[v]=!1;function N(L){return n(L)&&t(L.length)&&!!T[e(L)]}return go=N,go}var mo,Qd;function Gr(){if(Qd)return mo;Qd=1;function e(t){return function(n){return t(n)}}return mo=e,mo}var mn={exports:{}};mn.exports;var ef;function Fl(){return ef||(ef=1,function(e,t){var n=cm(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s}(mn,mn.exports)),mn.exports}var yo,tf;function Ln(){if(tf)return yo;tf=1;var e=lS(),t=Gr(),n=Fl(),r=n&&n.isTypedArray,i=r?t(r):e;return yo=i,yo}var _o,nf;function hm(){if(nf)return _o;nf=1;var e=aS(),t=Bn(),n=Me(),r=un(),i=Vr(),o=Ln(),a=Object.prototype,s=a.hasOwnProperty;function u(l,c){var d=n(l),f=!d&&t(l),h=!d&&!f&&r(l),p=!d&&!f&&!h&&o(l),v=d||f||h||p,g=v?e(l.length,String):[],b=g.length;for(var w in l)(c||s.call(l,w))&&!(v&&(w=="length"||h&&(w=="offset"||w=="parent")||p&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||i(w,b)))&&g.push(w);return g}return _o=u,_o}var bo,rf;function Hr(){if(rf)return bo;rf=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return bo=t,bo}var wo,of;function vm(){if(of)return wo;of=1;function e(t,n){return function(r){return t(n(r))}}return wo=e,wo}var Eo,af;function cS(){if(af)return Eo;af=1;var e=vm(),t=e(Object.keys,Object);return Eo=t,Eo}var xo,sf;function Vl(){if(sf)return xo;sf=1;var e=Hr(),t=cS(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return xo=i,xo}var So,uf;function vt(){if(uf)return So;uf=1;var e=$n(),t=zl();function n(r){return r!=null&&t(r.length)&&!e(r)}return So=n,So}var Co,lf;function At(){if(lf)return Co;lf=1;var e=hm(),t=Vl(),n=vt();function r(i){return n(i)?e(i):t(i)}return Co=r,Co}var No,cf;function dS(){if(cf)return No;cf=1;var e=Dn(),t=At();function n(r,i){return r&&e(i,t(i),r)}return No=n,No}var Io,df;function fS(){if(df)return Io;df=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Io=e,Io}var To,ff;function hS(){if(ff)return To;ff=1;var e=Fe(),t=Hr(),n=fS(),r=Object.prototype,i=r.hasOwnProperty;function o(a){if(!e(a))return n(a);var s=t(a),u=[];for(var l in a)l=="constructor"&&(s||!i.call(a,l))||u.push(l);return u}return To=o,To}var Ao,hf;function Gt(){if(hf)return Ao;hf=1;var e=hm(),t=hS(),n=vt();function r(i){return n(i)?e(i,!0):t(i)}return Ao=r,Ao}var Mo,vf;function vS(){if(vf)return Mo;vf=1;var e=Dn(),t=Gt();function n(r,i){return r&&e(i,t(i),r)}return Mo=n,Mo}var yn={exports:{}};yn.exports;var pf;function pm(){return pf||(pf=1,function(e,t){var n=Ye(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var d=l.length,f=s?s(d):new l.constructor(d);return l.copy(f),f}e.exports=u}(yn,yn.exports)),yn.exports}var Ro,gf;function gm(){if(gf)return Ro;gf=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Ro=e,Ro}var qo,mf;function mm(){if(mf)return qo;mf=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return qo=e,qo}var Po,yf;function ym(){if(yf)return Po;yf=1;function e(){return[]}return Po=e,Po}var ko,_f;function Gl(){if(_f)return ko;_f=1;var e=mm(),t=ym(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return ko=o,ko}var Oo,bf;function pS(){if(bf)return Oo;bf=1;var e=Dn(),t=Gl();function n(r,i){return e(r,t(r),i)}return Oo=n,Oo}var $o,wf;function Hl(){if(wf)return $o;wf=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return $o=e,$o}var Do,Ef;function Ur(){if(Ef)return Do;Ef=1;var e=vm(),t=e(Object.getPrototypeOf,Object);return Do=t,Do}var Bo,xf;function _m(){if(xf)return Bo;xf=1;var e=Hl(),t=Ur(),n=Gl(),r=ym(),i=Object.getOwnPropertySymbols,o=i?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return Bo=o,Bo}var Lo,Sf;function gS(){if(Sf)return Lo;Sf=1;var e=Dn(),t=_m();function n(r,i){return e(r,t(r),i)}return Lo=n,Lo}var zo,Cf;function bm(){if(Cf)return zo;Cf=1;var e=Hl(),t=Me();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return zo=n,zo}var Fo,Nf;function wm(){if(Nf)return Fo;Nf=1;var e=bm(),t=Gl(),n=At();function r(i){return e(i,n,t)}return Fo=r,Fo}var Vo,If;function mS(){if(If)return Vo;If=1;var e=bm(),t=_m(),n=Gt();function r(i){return e(i,n,t)}return Vo=r,Vo}var Go,Tf;function yS(){if(Tf)return Go;Tf=1;var e=Vt(),t=Ye(),n=e(t,"DataView");return Go=n,Go}var Ho,Af;function _S(){if(Af)return Ho;Af=1;var e=Vt(),t=Ye(),n=e(t,"Promise");return Ho=n,Ho}var Uo,Mf;function Em(){if(Mf)return Uo;Mf=1;var e=Vt(),t=Ye(),n=e(t,"Set");return Uo=n,Uo}var jo,Rf;function bS(){if(Rf)return jo;Rf=1;var e=Vt(),t=Ye(),n=e(t,"WeakMap");return jo=n,jo}var Yo,qf;function ln(){if(qf)return Yo;qf=1;var e=yS(),t=Dl(),n=_S(),r=Em(),i=bS(),o=Ft(),a=dm(),s="[object Map]",u="[object Object]",l="[object Promise]",c="[object Set]",d="[object WeakMap]",f="[object DataView]",h=a(e),p=a(t),v=a(n),g=a(r),b=a(i),w=o;return(e&&w(new e(new ArrayBuffer(1)))!=f||t&&w(new t)!=s||n&&w(n.resolve())!=l||r&&w(new r)!=c||i&&w(new i)!=d)&&(w=function(y){var C=o(y),k=C==u?y.constructor:void 0,q=k?a(k):"";if(q)switch(q){case h:return f;case p:return s;case v:return l;case g:return c;case b:return d}return C}),Yo=w,Yo}var Ko,Pf;function wS(){if(Pf)return Ko;Pf=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Ko=n,Ko}var Xo,kf;function xm(){if(kf)return Xo;kf=1;var e=Ye(),t=e.Uint8Array;return Xo=t,Xo}var Wo,Of;function Ul(){if(Of)return Wo;Of=1;var e=xm();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return Wo=t,Wo}var Zo,$f;function ES(){if($f)return Zo;$f=1;var e=Ul();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Zo=t,Zo}var Jo,Df;function xS(){if(Df)return Jo;Df=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Jo=t,Jo}var Qo,Bf;function SS(){if(Bf)return Qo;Bf=1;var e=sn(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Qo=r,Qo}var ea,Lf;function Sm(){if(Lf)return ea;Lf=1;var e=Ul();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return ea=t,ea}var ta,zf;function CS(){if(zf)return ta;zf=1;var e=Ul(),t=ES(),n=xS(),r=SS(),i=Sm(),o="[object Boolean]",a="[object Date]",s="[object Map]",u="[object Number]",l="[object RegExp]",c="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",p="[object DataView]",v="[object Float32Array]",g="[object Float64Array]",b="[object Int8Array]",w="[object Int16Array]",y="[object Int32Array]",C="[object Uint8Array]",k="[object Uint8ClampedArray]",q="[object Uint16Array]",M="[object Uint32Array]";function A(D,O,T){var N=D.constructor;switch(O){case h:return e(D);case o:case a:return new N(+D);case p:return t(D,T);case v:case g:case b:case w:case y:case C:case k:case q:case M:return i(D,T);case s:return new N;case u:case d:return new N(D);case l:return n(D);case c:return new N;case f:return r(D)}}return ta=A,ta}var na,Ff;function Cm(){if(Ff)return na;Ff=1;var e=Fe(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return na=n,na}var ra,Vf;function Nm(){if(Vf)return ra;Vf=1;var e=Cm(),t=Ur(),n=Hr();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return ra=r,ra}var ia,Gf;function NS(){if(Gf)return ia;Gf=1;var e=ln(),t=nt(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return ia=r,ia}var oa,Hf;function IS(){if(Hf)return oa;Hf=1;var e=NS(),t=Gr(),n=Fl(),r=n&&n.isMap,i=r?t(r):e;return oa=i,oa}var aa,Uf;function TS(){if(Uf)return aa;Uf=1;var e=ln(),t=nt(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return aa=r,aa}var sa,jf;function AS(){if(jf)return sa;jf=1;var e=TS(),t=Gr(),n=Fl(),r=n&&n.isSet,i=r?t(r):e;return sa=i,sa}var ua,Yf;function Im(){if(Yf)return ua;Yf=1;var e=Lr(),t=Ll(),n=Fr(),r=dS(),i=vS(),o=pm(),a=gm(),s=pS(),u=gS(),l=wm(),c=mS(),d=ln(),f=wS(),h=CS(),p=Nm(),v=Me(),g=un(),b=IS(),w=Fe(),y=AS(),C=At(),k=Gt(),q=1,M=2,A=4,D="[object Arguments]",O="[object Array]",T="[object Boolean]",N="[object Date]",L="[object Error]",S="[object Function]",P="[object GeneratorFunction]",I="[object Map]",$="[object Number]",B="[object Object]",z="[object RegExp]",F="[object Set]",X="[object String]",te="[object Symbol]",oe="[object WeakMap]",V="[object ArrayBuffer]",Z="[object DataView]",W="[object Float32Array]",de="[object Float64Array]",he="[object Int8Array]",se="[object Int16Array]",ge="[object Int32Array]",ye="[object Uint8Array]",ie="[object Uint8ClampedArray]",le="[object Uint16Array]",E="[object Uint32Array]",m={};m[D]=m[O]=m[V]=m[Z]=m[T]=m[N]=m[W]=m[de]=m[he]=m[se]=m[ge]=m[I]=m[$]=m[B]=m[z]=m[F]=m[X]=m[te]=m[ye]=m[ie]=m[le]=m[E]=!0,m[L]=m[S]=m[oe]=!1;function x(_,R,G,K,U,j){var ee,ce=R&q,pe=R&M,ze=R&A;if(G&&(ee=U?G(_,K,U,j):G(_)),ee!==void 0)return ee;if(!w(_))return _;var gt=v(_);if(gt){if(ee=f(_),!ce)return a(_,ee)}else{var mt=d(_),Fn=mt==S||mt==P;if(g(_))return o(_,ce);if(mt==B||mt==D||Fn&&!U){if(ee=pe||Fn?{}:p(_),!ce)return pe?u(_,i(ee,_)):s(_,r(ee,_))}else{if(!m[mt])return U?_:{};ee=h(_,mt,ce)}}j||(j=new e);var rc=j.get(_);if(rc)return rc;j.set(_,ee),y(_)?_.forEach(function(yt){ee.add(x(yt,R,G,yt,_,j))}):b(_)&&_.forEach(function(yt,Mt){ee.set(Mt,x(yt,R,G,Mt,_,j))});var qy=ze?pe?c:l:pe?k:C,ic=gt?void 0:qy(_);return t(ic||_,function(yt,Mt){ic&&(Mt=yt,yt=_[Mt]),n(ee,Mt,x(yt,R,G,Mt,_,j))}),ee}return ua=x,ua}var la,Kf;function MS(){if(Kf)return la;Kf=1;var e=Im(),t=4;function n(r){return e(r,t)}return la=n,la}var ca,Xf;function jl(){if(Xf)return ca;Xf=1;function e(t){return function(){return t}}return ca=e,ca}var da,Wf;function RS(){if(Wf)return da;Wf=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),u=s.length;u--;){var l=s[t?u:++o];if(r(a[l],l,a)===!1)break}return n}}return da=e,da}var fa,Zf;function Yl(){if(Zf)return fa;Zf=1;var e=RS(),t=e();return fa=t,fa}var ha,Jf;function Kl(){if(Jf)return ha;Jf=1;var e=Yl(),t=At();function n(r,i){return r&&e(r,i,t)}return ha=n,ha}var va,Qf;function qS(){if(Qf)return va;Qf=1;var e=vt();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,u=Object(i);(r?s--:++s<a)&&o(u[s],s,u)!==!1;);return i}}return va=t,va}var pa,eh;function jr(){if(eh)return pa;eh=1;var e=Kl(),t=qS(),n=t(e);return pa=n,pa}var ga,th;function Ht(){if(th)return ga;th=1;function e(t){return t}return ga=e,ga}var ma,nh;function Tm(){if(nh)return ma;nh=1;var e=Ht();function t(n){return typeof n=="function"?n:e}return ma=t,ma}var ya,rh;function Am(){if(rh)return ya;rh=1;var e=Ll(),t=jr(),n=Tm(),r=Me();function i(o,a){var s=r(o)?e:t;return s(o,n(a))}return ya=i,ya}var _a,ih;function Mm(){return ih||(ih=1,_a=Am()),_a}var ba,oh;function PS(){if(oh)return ba;oh=1;var e=jr();function t(n,r){var i=[];return e(n,function(o,a,s){r(o,a,s)&&i.push(o)}),i}return ba=t,ba}var wa,ah;function kS(){if(ah)return wa;ah=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return wa=t,wa}var Ea,sh;function OS(){if(sh)return Ea;sh=1;function e(t){return this.__data__.has(t)}return Ea=e,Ea}var xa,uh;function Rm(){if(uh)return xa;uh=1;var e=Bl(),t=kS(),n=OS();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,xa=r,xa}var Sa,lh;function $S(){if(lh)return Sa;lh=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Sa=e,Sa}var Ca,ch;function qm(){if(ch)return Ca;ch=1;function e(t,n){return t.has(n)}return Ca=e,Ca}var Na,dh;function Pm(){if(dh)return Na;dh=1;var e=Rm(),t=$S(),n=qm(),r=1,i=2;function o(a,s,u,l,c,d){var f=u&r,h=a.length,p=s.length;if(h!=p&&!(f&&p>h))return!1;var v=d.get(a),g=d.get(s);if(v&&g)return v==s&&g==a;var b=-1,w=!0,y=u&i?new e:void 0;for(d.set(a,s),d.set(s,a);++b<h;){var C=a[b],k=s[b];if(l)var q=f?l(k,C,b,s,a,d):l(C,k,b,a,s,d);if(q!==void 0){if(q)continue;w=!1;break}if(y){if(!t(s,function(M,A){if(!n(y,A)&&(C===M||c(C,M,u,l,d)))return y.push(A)})){w=!1;break}}else if(!(C===k||c(C,k,u,l,d))){w=!1;break}}return d.delete(a),d.delete(s),w}return Na=o,Na}var Ia,fh;function DS(){if(fh)return Ia;fh=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return Ia=e,Ia}var Ta,hh;function Xl(){if(hh)return Ta;hh=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Ta=e,Ta}var Aa,vh;function BS(){if(vh)return Aa;vh=1;var e=sn(),t=xm(),n=an(),r=Pm(),i=DS(),o=Xl(),a=1,s=2,u="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",p="[object Set]",v="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",y=e?e.prototype:void 0,C=y?y.valueOf:void 0;function k(q,M,A,D,O,T,N){switch(A){case w:if(q.byteLength!=M.byteLength||q.byteOffset!=M.byteOffset)return!1;q=q.buffer,M=M.buffer;case b:return!(q.byteLength!=M.byteLength||!T(new t(q),new t(M)));case u:case l:case f:return n(+q,+M);case c:return q.name==M.name&&q.message==M.message;case h:case v:return q==M+"";case d:var L=i;case p:var S=D&a;if(L||(L=o),q.size!=M.size&&!S)return!1;var P=N.get(q);if(P)return P==M;D|=s,N.set(q,M);var I=r(L(q),L(M),D,O,T,N);return N.delete(q),I;case g:if(C)return C.call(q)==C.call(M)}return!1}return Aa=k,Aa}var Ma,ph;function LS(){if(ph)return Ma;ph=1;var e=wm(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,u,l,c){var d=s&t,f=e(o),h=f.length,p=e(a),v=p.length;if(h!=v&&!d)return!1;for(var g=h;g--;){var b=f[g];if(!(d?b in a:r.call(a,b)))return!1}var w=c.get(o),y=c.get(a);if(w&&y)return w==a&&y==o;var C=!0;c.set(o,a),c.set(a,o);for(var k=d;++g<h;){b=f[g];var q=o[b],M=a[b];if(u)var A=d?u(M,q,b,a,o,c):u(q,M,b,o,a,c);if(!(A===void 0?q===M||l(q,M,s,u,c):A)){C=!1;break}k||(k=b=="constructor")}if(C&&!k){var D=o.constructor,O=a.constructor;D!=O&&"constructor"in o&&"constructor"in a&&!(typeof D=="function"&&D instanceof D&&typeof O=="function"&&O instanceof O)&&(C=!1)}return c.delete(o),c.delete(a),C}return Ma=i,Ma}var Ra,gh;function zS(){if(gh)return Ra;gh=1;var e=Lr(),t=Pm(),n=BS(),r=LS(),i=ln(),o=Me(),a=un(),s=Ln(),u=1,l="[object Arguments]",c="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function p(v,g,b,w,y,C){var k=o(v),q=o(g),M=k?c:i(v),A=q?c:i(g);M=M==l?d:M,A=A==l?d:A;var D=M==d,O=A==d,T=M==A;if(T&&a(v)){if(!a(g))return!1;k=!0,D=!1}if(T&&!D)return C||(C=new e),k||s(v)?t(v,g,b,w,y,C):n(v,g,M,b,w,y,C);if(!(b&u)){var N=D&&h.call(v,"__wrapped__"),L=O&&h.call(g,"__wrapped__");if(N||L){var S=N?v.value():v,P=L?g.value():g;return C||(C=new e),y(S,P,b,w,C)}}return T?(C||(C=new e),r(v,g,b,w,y,C)):!1}return Ra=p,Ra}var qa,mh;function km(){if(mh)return qa;mh=1;var e=zS(),t=nt();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return qa=n,qa}var Pa,yh;function FS(){if(yh)return Pa;yh=1;var e=Lr(),t=km(),n=1,r=2;function i(o,a,s,u){var l=s.length,c=l,d=!u;if(o==null)return!c;for(o=Object(o);l--;){var f=s[l];if(d&&f[2]?f[1]!==o[f[0]]:!(f[0]in o))return!1}for(;++l<c;){f=s[l];var h=f[0],p=o[h],v=f[1];if(d&&f[2]){if(p===void 0&&!(h in o))return!1}else{var g=new e;if(u)var b=u(p,v,h,o,a,g);if(!(b===void 0?t(v,p,n|r,u,g):b))return!1}}return!0}return Pa=i,Pa}var ka,_h;function Om(){if(_h)return ka;_h=1;var e=Fe();function t(n){return n===n&&!e(n)}return ka=t,ka}var Oa,bh;function VS(){if(bh)return Oa;bh=1;var e=Om(),t=At();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return Oa=n,Oa}var $a,wh;function $m(){if(wh)return $a;wh=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return $a=e,$a}var Da,Eh;function GS(){if(Eh)return Da;Eh=1;var e=FS(),t=VS(),n=$m();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return Da=r,Da}var Ba,xh;function cn(){if(xh)return Ba;xh=1;var e=Ft(),t=nt(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Ba=r,Ba}var La,Sh;function Wl(){if(Sh)return La;Sh=1;var e=Me(),t=cn(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return La=i,La}var za,Ch;function HS(){if(Ch)return za;Ch=1;var e=Bl(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],u=o.cache;if(u.has(s))return u.get(s);var l=r.apply(this,a);return o.cache=u.set(s,l)||u,l};return o.cache=new(n.Cache||e),o}return n.Cache=e,za=n,za}var Fa,Nh;function US(){if(Nh)return Fa;Nh=1;var e=HS(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return Fa=n,Fa}var Va,Ih;function jS(){if(Ih)return Va;Ih=1;var e=US(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,u,l){o.push(u?l.replace(n,"$1"):s||a)}),o});return Va=r,Va}var Ga,Th;function Yr(){if(Th)return Ga;Th=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return Ga=e,Ga}var Ha,Ah;function YS(){if(Ah)return Ha;Ah=1;var e=sn(),t=Yr(),n=Me(),r=cn(),i=1/0,o=e?e.prototype:void 0,a=o?o.toString:void 0;function s(u){if(typeof u=="string")return u;if(n(u))return t(u,s)+"";if(r(u))return a?a.call(u):"";var l=u+"";return l=="0"&&1/u==-i?"-0":l}return Ha=s,Ha}var Ua,Mh;function Dm(){if(Mh)return Ua;Mh=1;var e=YS();function t(n){return n==null?"":e(n)}return Ua=t,Ua}var ja,Rh;function Kr(){if(Rh)return ja;Rh=1;var e=Me(),t=Wl(),n=jS(),r=Dm();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return ja=i,ja}var Ya,qh;function zn(){if(qh)return Ya;qh=1;var e=cn(),t=1/0;function n(r){if(typeof r=="string"||e(r))return r;var i=r+"";return i=="0"&&1/r==-t?"-0":i}return Ya=n,Ya}var Ka,Ph;function Xr(){if(Ph)return Ka;Ph=1;var e=Kr(),t=zn();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return Ka=n,Ka}var Xa,kh;function KS(){if(kh)return Xa;kh=1;var e=Xr();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return Xa=t,Xa}var Wa,Oh;function XS(){if(Oh)return Wa;Oh=1;function e(t,n){return t!=null&&n in Object(t)}return Wa=e,Wa}var Za,$h;function Bm(){if($h)return Za;$h=1;var e=Kr(),t=Bn(),n=Me(),r=Vr(),i=zl(),o=zn();function a(s,u,l){u=e(u,s);for(var c=-1,d=u.length,f=!1;++c<d;){var h=o(u[c]);if(!(f=s!=null&&l(s,h)))break;s=s[h]}return f||++c!=d?f:(d=s==null?0:s.length,!!d&&i(d)&&r(h,d)&&(n(s)||t(s)))}return Za=a,Za}var Ja,Dh;function Lm(){if(Dh)return Ja;Dh=1;var e=XS(),t=Bm();function n(r,i){return r!=null&&t(r,i,e)}return Ja=n,Ja}var Qa,Bh;function WS(){if(Bh)return Qa;Bh=1;var e=km(),t=KS(),n=Lm(),r=Wl(),i=Om(),o=$m(),a=zn(),s=1,u=2;function l(c,d){return r(c)&&i(d)?o(a(c),d):function(f){var h=t(f,c);return h===void 0&&h===d?n(f,c):e(d,h,s|u)}}return Qa=l,Qa}var es,Lh;function zm(){if(Lh)return es;Lh=1;function e(t){return function(n){return n==null?void 0:n[t]}}return es=e,es}var ts,zh;function ZS(){if(zh)return ts;zh=1;var e=Xr();function t(n){return function(r){return e(r,n)}}return ts=t,ts}var ns,Fh;function JS(){if(Fh)return ns;Fh=1;var e=zm(),t=ZS(),n=Wl(),r=zn();function i(o){return n(o)?e(r(o)):t(o)}return ns=i,ns}var rs,Vh;function pt(){if(Vh)return rs;Vh=1;var e=GS(),t=WS(),n=Ht(),r=Me(),i=JS();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return rs=o,rs}var is,Gh;function Fm(){if(Gh)return is;Gh=1;var e=mm(),t=PS(),n=pt(),r=Me();function i(o,a){var s=r(o)?e:t;return s(o,n(a,3))}return is=i,is}var os,Hh;function QS(){if(Hh)return os;Hh=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return os=n,os}var as,Uh;function Vm(){if(Uh)return as;Uh=1;var e=QS(),t=Bm();function n(r,i){return r!=null&&t(r,i,e)}return as=n,as}var ss,jh;function eC(){if(jh)return ss;jh=1;var e=Vl(),t=ln(),n=Bn(),r=Me(),i=vt(),o=un(),a=Hr(),s=Ln(),u="[object Map]",l="[object Set]",c=Object.prototype,d=c.hasOwnProperty;function f(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||o(h)||s(h)||n(h)))return!h.length;var p=t(h);if(p==u||p==l)return!h.size;if(a(h))return!e(h).length;for(var v in h)if(d.call(h,v))return!1;return!0}return ss=f,ss}var us,Yh;function Gm(){if(Yh)return us;Yh=1;function e(t){return t===void 0}return us=e,us}var ls,Kh;function Hm(){if(Kh)return ls;Kh=1;var e=jr(),t=vt();function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,u,l){a[++o]=i(s,u,l)}),a}return ls=n,ls}var cs,Xh;function Um(){if(Xh)return cs;Xh=1;var e=Yr(),t=pt(),n=Hm(),r=Me();function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return cs=i,cs}var ds,Wh;function tC(){if(Wh)return ds;Wh=1;function e(t,n,r,i){var o=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++o]);++o<a;)r=n(r,t[o],o,t);return r}return ds=e,ds}var fs,Zh;function nC(){if(Zh)return fs;Zh=1;function e(t,n,r,i,o){return o(t,function(a,s,u){r=i?(i=!1,a):n(r,a,s,u)}),r}return fs=e,fs}var hs,Jh;function jm(){if(Jh)return hs;Jh=1;var e=tC(),t=jr(),n=pt(),r=nC(),i=Me();function o(a,s,u){var l=i(a)?e:r,c=arguments.length<3;return l(a,n(s,4),u,c,t)}return hs=o,hs}var vs,Qh;function rC(){if(Qh)return vs;Qh=1;var e=Ft(),t=Me(),n=nt(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return vs=i,vs}var ps,ev;function iC(){if(ev)return ps;ev=1;var e=zm(),t=e("length");return ps=t,ps}var gs,tv;function oC(){if(tv)return gs;tv=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function u(l){return s.test(l)}return gs=u,gs}var ms,nv;function aC(){if(nv)return ms;nv=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",l="(?:"+s+"|"+u+")",c="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",p=l+"?",v="["+o+"]?",g="(?:"+h+"(?:"+[c,d,f].join("|")+")"+v+p+")*",b=v+p+g,w="(?:"+[c+s+"?",s,d,f,a].join("|")+")",y=RegExp(u+"(?="+u+")|"+w+b,"g");function C(k){for(var q=y.lastIndex=0;y.test(k);)++q;return q}return ms=C,ms}var ys,rv;function sC(){if(rv)return ys;rv=1;var e=iC(),t=oC(),n=aC();function r(i){return t(i)?n(i):e(i)}return ys=r,ys}var _s,iv;function uC(){if(iv)return _s;iv=1;var e=Vl(),t=ln(),n=vt(),r=rC(),i=sC(),o="[object Map]",a="[object Set]";function s(u){if(u==null)return 0;if(n(u))return r(u)?i(u):u.length;var l=t(u);return l==o||l==a?u.size:e(u).length}return _s=s,_s}var bs,ov;function lC(){if(ov)return bs;ov=1;var e=Ll(),t=Cm(),n=Kl(),r=pt(),i=Ur(),o=Me(),a=un(),s=$n(),u=Fe(),l=Ln();function c(d,f,h){var p=o(d),v=p||a(d)||l(d);if(f=r(f,4),h==null){var g=d&&d.constructor;v?h=p?new g:[]:u(d)?h=s(g)?t(i(d)):{}:h={}}return(v?e:n)(d,function(b,w,y){return f(h,b,w,y)}),h}return bs=c,bs}var ws,av;function cC(){if(av)return ws;av=1;var e=sn(),t=Bn(),n=Me(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return ws=i,ws}var Es,sv;function Zl(){if(sv)return Es;sv=1;var e=Hl(),t=cC();function n(r,i,o,a,s){var u=-1,l=r.length;for(o||(o=t),s||(s=[]);++u<l;){var c=r[u];i>0&&o(c)?i>1?n(c,i-1,o,a,s):e(s,c):a||(s[s.length]=c)}return s}return Es=n,Es}var xs,uv;function dC(){if(uv)return xs;uv=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return xs=e,xs}var Ss,lv;function Ym(){if(lv)return Ss;lv=1;var e=dC(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,u=t(a.length-i,0),l=Array(u);++s<u;)l[s]=a[i+s];s=-1;for(var c=Array(i+1);++s<i;)c[s]=a[s];return c[i]=o(l),e(r,this,c)}}return Ss=n,Ss}var Cs,cv;function fC(){if(cv)return Cs;cv=1;var e=jl(),t=fm(),n=Ht(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return Cs=r,Cs}var Ns,dv;function hC(){if(dv)return Ns;dv=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),u=t-(s-a);if(a=s,u>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Ns=r,Ns}var Is,fv;function Km(){if(fv)return Is;fv=1;var e=fC(),t=hC(),n=t(e);return Is=n,Is}var Ts,hv;function Wr(){if(hv)return Ts;hv=1;var e=Ht(),t=Ym(),n=Km();function r(i,o){return n(t(i,o,e),i+"")}return Ts=r,Ts}var As,vv;function Xm(){if(vv)return As;vv=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return As=e,As}var Ms,pv;function vC(){if(pv)return Ms;pv=1;function e(t){return t!==t}return Ms=e,Ms}var Rs,gv;function pC(){if(gv)return Rs;gv=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return Rs=e,Rs}var qs,mv;function gC(){if(mv)return qs;mv=1;var e=Xm(),t=vC(),n=pC();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return qs=r,qs}var Ps,yv;function mC(){if(yv)return Ps;yv=1;var e=gC();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Ps=t,Ps}var ks,_v;function yC(){if(_v)return ks;_v=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return ks=e,ks}var Os,bv;function _C(){if(bv)return Os;bv=1;function e(){}return Os=e,Os}var $s,wv;function bC(){if(wv)return $s;wv=1;var e=Em(),t=_C(),n=Xl(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return $s=i,$s}var Ds,Ev;function wC(){if(Ev)return Ds;Ev=1;var e=Rm(),t=mC(),n=yC(),r=qm(),i=bC(),o=Xl(),a=200;function s(u,l,c){var d=-1,f=t,h=u.length,p=!0,v=[],g=v;if(c)p=!1,f=n;else if(h>=a){var b=l?null:i(u);if(b)return o(b);p=!1,f=r,g=new e}else g=l?[]:v;e:for(;++d<h;){var w=u[d],y=l?l(w):w;if(w=c||w!==0?w:0,p&&y===y){for(var C=g.length;C--;)if(g[C]===y)continue e;l&&g.push(y),v.push(w)}else f(g,y,c)||(g!==v&&g.push(y),v.push(w))}return v}return Ds=s,Ds}var Bs,xv;function Wm(){if(xv)return Bs;xv=1;var e=vt(),t=nt();function n(r){return t(r)&&e(r)}return Bs=n,Bs}var Ls,Sv;function EC(){if(Sv)return Ls;Sv=1;var e=Zl(),t=Wr(),n=wC(),r=Wm(),i=t(function(o){return n(e(o,1,r,!0))});return Ls=i,Ls}var zs,Cv;function xC(){if(Cv)return zs;Cv=1;var e=Yr();function t(n,r){return e(r,function(i){return n[i]})}return zs=t,zs}var Fs,Nv;function Zm(){if(Nv)return Fs;Nv=1;var e=xC(),t=At();function n(r){return r==null?[]:e(r,t(r))}return Fs=n,Fs}var Vs,Iv;function Ve(){if(Iv)return Vs;Iv=1;var e;if(typeof $l=="function")try{e={clone:MS(),constant:jl(),each:Mm(),filter:Fm(),has:Vm(),isArray:Me(),isEmpty:eC(),isFunction:$n(),isUndefined:Gm(),keys:At(),map:Um(),reduce:jm(),size:uC(),transform:lC(),union:EC(),values:Zm()}}catch{}return e||(e=window._),Vs=e,Vs}var Gs,Tv;function Jl(){if(Tv)return Gs;Tv=1;var e=Ve();Gs=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._in[d])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(d){return e.isEmpty(c._out[d])})},i.prototype.setNodes=function(c,d){var f=arguments,h=this;return e.each(c,function(p){f.length>1?h.setNode(p,d):h.setNode(p)}),this},i.prototype.setNode=function(c,d){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var d=this;if(e.has(this._nodes,c)){var f=function(h){d.removeEdge(d._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){d.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),f),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),f),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var f=d;!e.isUndefined(f);f=this.parent(f))if(f===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var d=this._parent[c];if(d!==n)return d}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var d=this._children[c];if(d)return e.keys(d)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var d=this._preds[c];if(d)return e.keys(d)},i.prototype.successors=function(c){var d=this._sucs[c];if(d)return e.keys(d)},i.prototype.neighbors=function(c){var d=this.predecessors(c);if(d)return e.union(d,this.successors(c))},i.prototype.isLeaf=function(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0},i.prototype.filterNodes=function(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;e.each(this._nodes,function(v,g){c(g)&&d.setNode(g,v)}),e.each(this._edgeObjs,function(v){d.hasNode(v.v)&&d.hasNode(v.w)&&d.setEdge(v,f.edge(v))});var h={};function p(v){var g=f.parent(v);return g===void 0||d.hasNode(g)?(h[v]=g,g):g in h?h[g]:p(g)}return this._isCompound&&e.each(d.nodes(),function(v){d.setParent(v,p(v))}),d},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,d){var f=this,h=arguments;return e.reduce(c,function(p,v){return h.length>1?f.setEdge(p,v,d):f.setEdge(p,v),v}),this},i.prototype.setEdge=function(){var c,d,f,h,p=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(c=v.v,d=v.w,f=v.name,arguments.length===2&&(h=arguments[1],p=!0)):(c=v,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],p=!0)),c=""+c,d=""+d,e.isUndefined(f)||(f=""+f);var g=s(this._isDirected,c,d,f);if(e.has(this._edgeLabels,g))return p&&(this._edgeLabels[g]=h),this;if(!e.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[g]=p?h:this._defaultEdgeLabelFn(c,d,f);var b=u(this._isDirected,c,d,f);return c=b.v,d=b.w,Object.freeze(b),this._edgeObjs[g]=b,o(this._preds[d],c),o(this._sucs[c],d),this._in[d][g]=b,this._out[c][g]=b,this._edgeCount++,this},i.prototype.edge=function(c,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,f);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,f);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,f),p=this._edgeObjs[h];return p&&(c=p.v,d=p.w,delete this._edgeLabels[h],delete this._edgeObjs[h],a(this._preds[d],c),a(this._sucs[c],d),delete this._in[d][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,d){var f=this._in[c];if(f){var h=e.values(f);return d?e.filter(h,function(p){return p.v===d}):h}},i.prototype.outEdges=function(c,d){var f=this._out[c];if(f){var h=e.values(f);return d?e.filter(h,function(p){return p.w===d}):h}},i.prototype.nodeEdges=function(c,d){var f=this.inEdges(c,d);if(f)return f.concat(this.outEdges(c,d))};function o(c,d){c[d]?c[d]++:c[d]=1}function a(c,d){--c[d]||delete c[d]}function s(c,d,f,h){var p=""+d,v=""+f;if(!c&&p>v){var g=p;p=v,v=g}return p+r+v+r+(e.isUndefined(h)?t:h)}function u(c,d,f,h){var p=""+d,v=""+f;if(!c&&p>v){var g=p;p=v,v=g}var b={v:p,w:v};return h&&(b.name=h),b}function l(c,d){return s(c,d.v,d.w,d.name)}return Gs}var Hs,Av;function SC(){return Av||(Av=1,Hs="2.1.8"),Hs}var Us,Mv;function CC(){return Mv||(Mv=1,Us={Graph:Jl(),version:SC()}),Us}var js,Rv;function NC(){if(Rv)return js;Rv=1;var e=Ve(),t=Jl();js={write:n,read:o};function n(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return e.isUndefined(a.graph())||(s.value=e.clone(a.graph())),s}function r(a){return e.map(a.nodes(),function(s){var u=a.node(s),l=a.parent(s),c={v:s};return e.isUndefined(u)||(c.value=u),e.isUndefined(l)||(c.parent=l),c})}function i(a){return e.map(a.edges(),function(s){var u=a.edge(s),l={v:s.v,w:s.w};return e.isUndefined(s.name)||(l.name=s.name),e.isUndefined(u)||(l.value=u),l})}function o(a){var s=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(u){s.setNode(u.v,u.value),u.parent&&s.setParent(u.v,u.parent)}),e.each(a.edges,function(u){s.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),s}return js}var Ys,qv;function IC(){if(qv)return Ys;qv=1;var e=Ve();Ys=t;function t(n){var r={},i=[],o;function a(s){e.has(r,s)||(r[s]=!0,o.push(s),e.each(n.successors(s),a),e.each(n.predecessors(s),a))}return e.each(n.nodes(),function(s){o=[],a(s),o.length&&i.push(o)}),i}return Ys}var Ks,Pv;function Jm(){if(Pv)return Ks;Pv=1;var e=Ve();Ks=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,a=o.length;return i[n]=a,o.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,o<r.length&&(a=r[o].priority<r[a].priority?o:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,a=i[n],s=i[r];i[n]=s,i[r]=a,o[s.key]=n,o[a.key]=r},Ks}var Xs,kv;function Qm(){if(kv)return Xs;kv=1;var e=Ve(),t=Jm();Xs=r;var n=e.constant(1);function r(o,a,s,u){return i(o,String(a),s||n,u||function(l){return o.outEdges(l)})}function i(o,a,s,u){var l={},c=new t,d,f,h=function(p){var v=p.v!==d?p.v:p.w,g=l[v],b=s(p),w=f.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+b);w<g.distance&&(g.distance=w,g.predecessor=d,c.decrease(v,w))};for(o.nodes().forEach(function(p){var v=p===a?0:Number.POSITIVE_INFINITY;l[p]={distance:v},c.add(p,v)});c.size()>0&&(d=c.removeMin(),f=l[d],f.distance!==Number.POSITIVE_INFINITY);)u(d).forEach(h);return l}return Xs}var Ws,Ov;function TC(){if(Ov)return Ws;Ov=1;var e=Qm(),t=Ve();Ws=n;function n(r,i,o){return t.transform(r.nodes(),function(a,s){a[s]=e(r,s,i,o)},{})}return Ws}var Zs,$v;function ey(){if($v)return Zs;$v=1;var e=Ve();Zs=t;function t(n){var r=0,i=[],o={},a=[];function s(u){var l=o[u]={onStack:!0,lowlink:r,index:r++};if(i.push(u),n.successors(u).forEach(function(f){e.has(o,f)?o[f].onStack&&(l.lowlink=Math.min(l.lowlink,o[f].index)):(s(f),l.lowlink=Math.min(l.lowlink,o[f].lowlink))}),l.lowlink===l.index){var c=[],d;do d=i.pop(),o[d].onStack=!1,c.push(d);while(u!==d);a.push(c)}}return n.nodes().forEach(function(u){e.has(o,u)||s(u)}),a}return Zs}var Js,Dv;function AC(){if(Dv)return Js;Dv=1;var e=Ve(),t=ey();Js=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return Js}var Qs,Bv;function MC(){if(Bv)return Qs;Bv=1;var e=Ve();Qs=n;var t=e.constant(1);function n(i,o,a){return r(i,o||t,a||function(s){return i.outEdges(s)})}function r(i,o,a){var s={},u=i.nodes();return u.forEach(function(l){s[l]={},s[l][l]={distance:0},u.forEach(function(c){l!==c&&(s[l][c]={distance:Number.POSITIVE_INFINITY})}),a(l).forEach(function(c){var d=c.v===l?c.w:c.v,f=o(c);s[l][d]={distance:f,predecessor:l}})}),u.forEach(function(l){var c=s[l];u.forEach(function(d){var f=s[d];u.forEach(function(h){var p=f[l],v=c[h],g=f[h],b=p.distance+v.distance;b<g.distance&&(g.distance=b,g.predecessor=v.predecessor)})})}),s}return Qs}var eu,Lv;function ty(){if(Lv)return eu;Lv=1;var e=Ve();eu=t,t.CycleException=n;function t(r){var i={},o={},a=[];function s(u){if(e.has(o,u))throw new n;e.has(i,u)||(o[u]=!0,i[u]=!0,e.each(r.predecessors(u),s),delete o[u],a.push(u))}if(e.each(r.sinks(),s),e.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,eu}var tu,zv;function RC(){if(zv)return tu;zv=1;var e=ty();tu=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return tu}var nu,Fv;function ny(){if(Fv)return nu;Fv=1;var e=Ve();nu=t;function t(r,i,o){e.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],u={};return e.each(i,function(l){if(!r.hasNode(l))throw new Error("Graph does not have node: "+l);n(r,l,o==="post",u,a,s)}),s}function n(r,i,o,a,s,u){e.has(a,i)||(a[i]=!0,o||u.push(i),e.each(s(i),function(l){n(r,l,o,a,s,u)}),o&&u.push(i))}return nu}var ru,Vv;function qC(){if(Vv)return ru;Vv=1;var e=ny();ru=t;function t(n,r){return e(n,r,"post")}return ru}var iu,Gv;function PC(){if(Gv)return iu;Gv=1;var e=ny();iu=t;function t(n,r){return e(n,r,"pre")}return iu}var ou,Hv;function kC(){if(Hv)return ou;Hv=1;var e=Ve(),t=Jl(),n=Jm();ou=r;function r(i,o){var a=new t,s={},u=new n,l;function c(f){var h=f.v===l?f.w:f.v,p=u.priority(h);if(p!==void 0){var v=o(f);v<p&&(s[h]=l,u.decrease(h,v))}}if(i.nodeCount()===0)return a;e.each(i.nodes(),function(f){u.add(f,Number.POSITIVE_INFINITY),a.setNode(f)}),u.decrease(i.nodes()[0],0);for(var d=!1;u.size()>0;){if(l=u.removeMin(),e.has(s,l))a.setEdge(l,s[l]);else{if(d)throw new Error("Input graph is not connected: "+i);d=!0}i.nodeEdges(l).forEach(c)}return a}return ou}var au,Uv;function OC(){return Uv||(Uv=1,au={components:IC(),dijkstra:Qm(),dijkstraAll:TC(),findCycles:AC(),floydWarshall:MC(),isAcyclic:RC(),postorder:qC(),preorder:PC(),prim:kC(),tarjan:ey(),topsort:ty()}),au}var su,jv;function $C(){if(jv)return su;jv=1;var e=CC();return su={Graph:e.Graph,json:NC(),alg:OC(),version:e.version},su}var br;if(typeof $l=="function")try{br=$C()}catch{}br||(br=window.graphlib);var Ke=br,uu,Yv;function DC(){if(Yv)return uu;Yv=1;var e=Im(),t=1,n=4;function r(i){return e(i,t|n)}return uu=r,uu}var lu,Kv;function Zr(){if(Kv)return lu;Kv=1;var e=an(),t=vt(),n=Vr(),r=Fe();function i(o,a,s){if(!r(s))return!1;var u=typeof a;return(u=="number"?t(s)&&n(a,s.length):u=="string"&&a in s)?e(s[a],o):!1}return lu=i,lu}var cu,Xv;function BC(){if(Xv)return cu;Xv=1;var e=Wr(),t=an(),n=Zr(),r=Gt(),i=Object.prototype,o=i.hasOwnProperty,a=e(function(s,u){s=Object(s);var l=-1,c=u.length,d=c>2?u[2]:void 0;for(d&&n(u[0],u[1],d)&&(c=1);++l<c;)for(var f=u[l],h=r(f),p=-1,v=h.length;++p<v;){var g=h[p],b=s[g];(b===void 0||t(b,i[g])&&!o.call(s,g))&&(s[g]=f[g])}return s});return cu=a,cu}var du,Wv;function LC(){if(Wv)return du;Wv=1;var e=pt(),t=vt(),n=At();function r(i){return function(o,a,s){var u=Object(o);if(!t(o)){var l=e(a,3);o=n(o),a=function(d){return l(u[d],d,u)}}var c=i(o,a,s);return c>-1?u[l?o[c]:c]:void 0}}return du=r,du}var fu,Zv;function zC(){if(Zv)return fu;Zv=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return fu=t,fu}var hu,Jv;function FC(){if(Jv)return hu;Jv=1;var e=zC(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return hu=n,hu}var vu,Qv;function VC(){if(Qv)return vu;Qv=1;var e=FC(),t=Fe(),n=cn(),r=0/0,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function u(l){if(typeof l=="number")return l;if(n(l))return r;if(t(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=t(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=e(l);var d=o.test(l);return d||a.test(l)?s(l.slice(2),d?2:8):i.test(l)?r:+l}return vu=u,vu}var pu,ep;function ry(){if(ep)return pu;ep=1;var e=VC(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return pu=r,pu}var gu,tp;function GC(){if(tp)return gu;tp=1;var e=ry();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return gu=t,gu}var mu,np;function HC(){if(np)return mu;np=1;var e=Xm(),t=pt(),n=GC(),r=Math.max;function i(o,a,s){var u=o==null?0:o.length;if(!u)return-1;var l=s==null?0:n(s);return l<0&&(l=r(u+l,0)),e(o,t(a,3),l)}return mu=i,mu}var yu,rp;function UC(){if(rp)return yu;rp=1;var e=LC(),t=HC(),n=e(t);return yu=n,yu}var _u,ip;function iy(){if(ip)return _u;ip=1;var e=Zl();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return _u=t,_u}var bu,op;function jC(){if(op)return bu;op=1;var e=Yl(),t=Tm(),n=Gt();function r(i,o){return i==null?i:e(i,t(o),n)}return bu=r,bu}var wu,ap;function YC(){if(ap)return wu;ap=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return wu=e,wu}var Eu,sp;function KC(){if(sp)return Eu;sp=1;var e=zr(),t=Kl(),n=pt();function r(i,o){var a={};return o=n(o,3),t(i,function(s,u,l){e(a,u,o(s,u,l))}),a}return Eu=r,Eu}var xu,up;function Ql(){if(up)return xu;up=1;var e=cn();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],u=r(s);if(u!=null&&(l===void 0?u===u&&!e(u):i(u,l)))var l=u,c=s}return c}return xu=t,xu}var Su,lp;function XC(){if(lp)return Su;lp=1;function e(t,n){return t>n}return Su=e,Su}var Cu,cp;function WC(){if(cp)return Cu;cp=1;var e=Ql(),t=XC(),n=Ht();function r(i){return i&&i.length?e(i,n,t):void 0}return Cu=r,Cu}var Nu,dp;function oy(){if(dp)return Nu;dp=1;var e=zr(),t=an();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return Nu=n,Nu}var Iu,fp;function ZC(){if(fp)return Iu;fp=1;var e=Ft(),t=Ur(),n=nt(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,u=a.call(Object);function l(c){if(!n(c)||e(c)!=r)return!1;var d=t(c);if(d===null)return!0;var f=s.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&a.call(f)==u}return Iu=l,Iu}var Tu,hp;function ay(){if(hp)return Tu;hp=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Tu=e,Tu}var Au,vp;function JC(){if(vp)return Au;vp=1;var e=Dn(),t=Gt();function n(r){return e(r,t(r))}return Au=n,Au}var Mu,pp;function QC(){if(pp)return Mu;pp=1;var e=oy(),t=pm(),n=Sm(),r=gm(),i=Nm(),o=Bn(),a=Me(),s=Wm(),u=un(),l=$n(),c=Fe(),d=ZC(),f=Ln(),h=ay(),p=JC();function v(g,b,w,y,C,k,q){var M=h(g,w),A=h(b,w),D=q.get(A);if(D){e(g,w,D);return}var O=k?k(M,A,w+"",g,b,q):void 0,T=O===void 0;if(T){var N=a(A),L=!N&&u(A),S=!N&&!L&&f(A);O=A,N||L||S?a(M)?O=M:s(M)?O=r(M):L?(T=!1,O=t(A,!0)):S?(T=!1,O=n(A,!0)):O=[]:d(A)||o(A)?(O=M,o(M)?O=p(M):(!c(M)||l(M))&&(O=i(A))):T=!1}T&&(q.set(A,O),C(O,A,y,k,q),q.delete(A)),e(g,w,O)}return Mu=v,Mu}var Ru,gp;function eN(){if(gp)return Ru;gp=1;var e=Lr(),t=oy(),n=Yl(),r=QC(),i=Fe(),o=Gt(),a=ay();function s(u,l,c,d,f){u!==l&&n(l,function(h,p){if(f||(f=new e),i(h))r(u,l,p,c,s,d,f);else{var v=d?d(a(u,p),h,p+"",u,l,f):void 0;v===void 0&&(v=h),t(u,p,v)}},o)}return Ru=s,Ru}var qu,mp;function tN(){if(mp)return qu;mp=1;var e=Wr(),t=Zr();function n(r){return e(function(i,o){var a=-1,s=o.length,u=s>1?o[s-1]:void 0,l=s>2?o[2]:void 0;for(u=r.length>3&&typeof u=="function"?(s--,u):void 0,l&&t(o[0],o[1],l)&&(u=s<3?void 0:u,s=1),i=Object(i);++a<s;){var c=o[a];c&&r(i,c,a,u)}return i})}return qu=n,qu}var Pu,yp;function nN(){if(yp)return Pu;yp=1;var e=eN(),t=tN(),n=t(function(r,i,o){e(r,i,o)});return Pu=n,Pu}var ku,_p;function sy(){if(_p)return ku;_p=1;function e(t,n){return t<n}return ku=e,ku}var Ou,bp;function rN(){if(bp)return Ou;bp=1;var e=Ql(),t=sy(),n=Ht();function r(i){return i&&i.length?e(i,n,t):void 0}return Ou=r,Ou}var $u,wp;function iN(){if(wp)return $u;wp=1;var e=Ql(),t=pt(),n=sy();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return $u=r,$u}var Du,Ep;function oN(){if(Ep)return Du;Ep=1;var e=Ye(),t=function(){return e.Date.now()};return Du=t,Du}var Bu,xp;function aN(){if(xp)return Bu;xp=1;var e=Fr(),t=Kr(),n=Vr(),r=Fe(),i=zn();function o(a,s,u,l){if(!r(a))return a;s=t(s,a);for(var c=-1,d=s.length,f=d-1,h=a;h!=null&&++c<d;){var p=i(s[c]),v=u;if(p==="__proto__"||p==="constructor"||p==="prototype")return a;if(c!=f){var g=h[p];v=l?l(g,p,h):void 0,v===void 0&&(v=r(g)?g:n(s[c+1])?[]:{})}e(h,p,v),h=h[p]}return a}return Bu=o,Bu}var Lu,Sp;function sN(){if(Sp)return Lu;Sp=1;var e=Xr(),t=aN(),n=Kr();function r(i,o,a){for(var s=-1,u=o.length,l={};++s<u;){var c=o[s],d=e(i,c);a(d,c)&&t(l,n(c,i),d)}return l}return Lu=r,Lu}var zu,Cp;function uN(){if(Cp)return zu;Cp=1;var e=sN(),t=Lm();function n(r,i){return e(r,i,function(o,a){return t(r,a)})}return zu=n,zu}var Fu,Np;function lN(){if(Np)return Fu;Np=1;var e=iy(),t=Ym(),n=Km();function r(i){return n(t(i,void 0,e),i+"")}return Fu=r,Fu}var Vu,Ip;function cN(){if(Ip)return Vu;Ip=1;var e=uN(),t=lN(),n=t(function(r,i){return r==null?{}:e(r,i)});return Vu=n,Vu}var Gu,Tp;function dN(){if(Tp)return Gu;Tp=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,u=t(e((i-r)/(o||1)),0),l=Array(u);u--;)l[a?u:++s]=r,r+=o;return l}return Gu=n,Gu}var Hu,Ap;function fN(){if(Ap)return Hu;Ap=1;var e=dN(),t=Zr(),n=ry();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return Hu=r,Hu}var Uu,Mp;function hN(){if(Mp)return Uu;Mp=1;var e=fN(),t=e();return Uu=t,Uu}var ju,Rp;function vN(){if(Rp)return ju;Rp=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return ju=e,ju}var Yu,qp;function pN(){if(qp)return Yu;qp=1;var e=cn();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),u=r!==void 0,l=r===null,c=r===r,d=e(r);if(!l&&!d&&!s&&n>r||s&&u&&c&&!l&&!d||o&&u&&c||!i&&c||!a)return 1;if(!o&&!s&&!d&&n<r||d&&i&&a&&!o&&!s||l&&i&&a||!u&&a||!c)return-1}return 0}return Yu=t,Yu}var Ku,Pp;function gN(){if(Pp)return Ku;Pp=1;var e=pN();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,u=a.length,l=i.length;++o<u;){var c=e(a[o],s[o]);if(c){if(o>=l)return c;var d=i[o];return c*(d=="desc"?-1:1)}}return n.index-r.index}return Ku=t,Ku}var Xu,kp;function mN(){if(kp)return Xu;kp=1;var e=Yr(),t=Xr(),n=pt(),r=Hm(),i=vN(),o=Gr(),a=gN(),s=Ht(),u=Me();function l(c,d,f){d.length?d=e(d,function(v){return u(v)?function(g){return t(g,v.length===1?v[0]:v)}:v}):d=[s];var h=-1;d=e(d,o(n));var p=r(c,function(v,g,b){var w=e(d,function(y){return y(v)});return{criteria:w,index:++h,value:v}});return i(p,function(v,g){return a(v,g,f)})}return Xu=l,Xu}var Wu,Op;function yN(){if(Op)return Wu;Op=1;var e=Zl(),t=mN(),n=Wr(),r=Zr(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return Wu=i,Wu}var Zu,$p;function _N(){if($p)return Zu;$p=1;var e=Dm(),t=0;function n(r){var i=++t;return e(r)+i}return Zu=n,Zu}var Ju,Dp;function bN(){if(Dp)return Ju;Dp=1;function e(t,n,r){for(var i=-1,o=t.length,a=n.length,s={};++i<o;){var u=i<a?n[i]:void 0;r(s,t[i],u)}return s}return Ju=e,Ju}var Qu,Bp;function wN(){if(Bp)return Qu;Bp=1;var e=Fr(),t=bN();function n(r,i){return t(r||[],i||[],e)}return Qu=n,Qu}var wr;if(typeof $l=="function")try{wr={cloneDeep:DC(),constant:jl(),defaults:BC(),each:Mm(),filter:Fm(),find:UC(),flatten:iy(),forEach:Am(),forIn:jC(),has:Vm(),isUndefined:Gm(),last:YC(),map:Um(),mapValues:KC(),max:WC(),merge:nN(),min:rN(),minBy:iN(),now:oN(),pick:cN(),range:hN(),reduce:jm(),sortBy:yN(),uniqueId:_N(),values:Zm(),zipObject:wN()}}catch{}wr||(wr=window._);var Ce=wr,EN=Jr;function Jr(){var e={};e._next=e._prev=e,this._sentinel=e}Jr.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return uy(t),t};Jr.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&uy(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Jr.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,xN)),n=n._prev;return"["+e.join(", ")+"]"};function uy(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function xN(e,t){if(e!=="_next"&&e!=="_prev")return t}var ut=Ce,SN=Ke.Graph,CN=EN,NN=TN,IN=ut.constant(1);function TN(e,t){if(e.nodeCount()<=1)return[];var n=MN(e,t||IN),r=AN(n.graph,n.buckets,n.zeroIdx);return ut.flatten(ut.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function AN(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],a;e.nodeCount();){for(;a=o.dequeue();)el(e,t,n,a);for(;a=i.dequeue();)el(e,t,n,a);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(a=t[s].dequeue(),a){r=r.concat(el(e,t,n,a,!0));break}}}return r}function el(e,t,n,r,i){var o=i?[]:void 0;return ut.forEach(e.inEdges(r.v),function(a){var s=e.edge(a),u=e.node(a.v);i&&o.push({v:a.v,w:a.w}),u.out-=s,wl(t,n,u)}),ut.forEach(e.outEdges(r.v),function(a){var s=e.edge(a),u=a.w,l=e.node(u);l.in-=s,wl(t,n,l)}),e.removeNode(r.v),o}function MN(e,t){var n=new SN,r=0,i=0;ut.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),ut.forEach(e.edges(),function(s){var u=n.edge(s.v,s.w)||0,l=t(s),c=u+l;n.setEdge(s.v,s.w,c),i=Math.max(i,n.node(s.v).out+=l),r=Math.max(r,n.node(s.w).in+=l)});var o=ut.range(i+r+3).map(function(){return new CN}),a=r+1;return ut.forEach(n.nodes(),function(s){wl(o,a,n.node(s))}),{graph:n,buckets:o,zeroIdx:a}}function wl(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var kt=Ce,RN=NN,qN={run:PN,undo:ON};function PN(e){var t=e.graph().acyclicer==="greedy"?RN(e,n(e)):kN(e);kt.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,kt.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function kN(e){var t=[],n={},r={};function i(o){kt.has(r,o)||(r[o]=!0,n[o]=!0,kt.forEach(e.outEdges(o),function(a){kt.has(n,a.w)?t.push(a):i(a.w)}),delete n[o])}return kt.forEach(e.nodes(),i),t}function ON(e){kt.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var me=Ce,ly=Ke.Graph,De={addDummyNode:cy,simplify:$N,asNonCompoundGraph:DN,successorWeights:BN,predecessorWeights:LN,intersectRect:zN,buildLayerMatrix:FN,normalizeRanks:VN,removeEmptyRanks:GN,addBorderNode:HN,maxRank:dy,partition:UN,time:jN,notime:YN};function cy(e,t,n,r){var i;do i=me.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function $N(e){var t=new ly().setGraph(e.graph());return me.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),me.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function DN(e){var t=new ly({multigraph:e.isMultigraph()}).setGraph(e.graph());return me.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),me.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function BN(e){var t=me.map(e.nodes(),function(n){var r={};return me.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return me.zipObject(e.nodes(),t)}function LN(e){var t=me.map(e.nodes(),function(n){var r={};return me.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return me.zipObject(e.nodes(),t)}function zN(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,a=e.width/2,s=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var u,l;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),u=s*i/o,l=s):(i<0&&(a=-a),u=a,l=a*o/i),{x:n+u,y:r+l}}function FN(e){var t=me.map(me.range(dy(e)+1),function(){return[]});return me.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;me.isUndefined(i)||(t[i][r.order]=n)}),t}function VN(e){var t=me.min(me.map(e.nodes(),function(n){return e.node(n).rank}));me.forEach(e.nodes(),function(n){var r=e.node(n);me.has(r,"rank")&&(r.rank-=t)})}function GN(e){var t=me.min(me.map(e.nodes(),function(o){return e.node(o).rank})),n=[];me.forEach(e.nodes(),function(o){var a=e.node(o).rank-t;n[a]||(n[a]=[]),n[a].push(o)});var r=0,i=e.graph().nodeRankFactor;me.forEach(n,function(o,a){me.isUndefined(o)&&a%i!==0?--r:r&&me.forEach(o,function(s){e.node(s).rank+=r})})}function HN(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),cy(e,"border",i,t)}function dy(e){return me.max(me.map(e.nodes(),function(t){var n=e.node(t).rank;if(!me.isUndefined(n))return n}))}function UN(e,t){var n={lhs:[],rhs:[]};return me.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function jN(e,t){var n=me.now();try{return t()}finally{console.log(e+" time: "+(me.now()-n)+"ms")}}function YN(e,t){return t()}var fy=Ce,KN=De,XN={run:WN,undo:JN};function WN(e){e.graph().dummyChains=[],fy.forEach(e.edges(),function(t){ZN(e,t)})}function ZN(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,a=t.name,s=e.edge(t),u=s.labelRank;if(o!==r+1){e.removeEdge(t);var l,c,d;for(d=0,++r;r<o;++d,++r)s.points=[],c={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},l=KN.addDummyNode(e,"edge",c,"_d"),r===u&&(c.width=s.width,c.height=s.height,c.dummy="edge-label",c.labelpos=s.labelpos),e.setEdge(n,l,{weight:s.weight},a),d===0&&e.graph().dummyChains.push(l),n=l;e.setEdge(n,i,{weight:s.weight},a)}}function JN(e){fy.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Qn=Ce,Qr={longestPath:QN,slack:eI};function QN(e){var t={};function n(r){var i=e.node(r);if(Qn.has(t,r))return i.rank;t[r]=!0;var o=Qn.min(Qn.map(e.outEdges(r),function(a){return n(a.w)-e.edge(a).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}Qn.forEach(e.sources(),n)}function eI(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Er=Ce,tI=Ke.Graph,xr=Qr.slack,hy=nI;function nI(e){var t=new tI({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;rI(t,e)<r;)i=iI(t,e),o=t.hasNode(i.v)?xr(e,i):-xr(e,i),oI(t,e,o);return t}function rI(e,t){function n(r){Er.forEach(t.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;!e.hasNode(a)&&!xr(t,i)&&(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}return Er.forEach(e.nodes(),n),e.nodeCount()}function iI(e,t){return Er.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return xr(t,n)})}function oI(e,t,n){Er.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var ft=Ce,aI=hy,sI=Qr.slack,uI=Qr.longestPath,lI=Ke.alg.preorder,cI=Ke.alg.postorder,dI=De.simplify,fI=Ut;Ut.initLowLimValues=tc;Ut.initCutValues=ec;Ut.calcCutValue=vy;Ut.leaveEdge=gy;Ut.enterEdge=my;Ut.exchangeEdges=yy;function Ut(e){e=dI(e),uI(e);var t=aI(e);tc(t),ec(t,e);for(var n,r;n=gy(t);)r=my(t,e,n),yy(t,e,n,r)}function ec(e,t){var n=cI(e,e.nodes());n=n.slice(0,n.length-1),ft.forEach(n,function(r){hI(e,t,r)})}function hI(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=vy(e,t,n)}function vy(e,t,n){var r=e.node(n),i=r.parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,ft.forEach(t.nodeEdges(n),function(u){var l=u.v===n,c=l?u.w:u.v;if(c!==i){var d=l===o,f=t.edge(u).weight;if(s+=d?f:-f,pI(e,n,c)){var h=e.edge(n,c).cutvalue;s+=d?-h:h}}}),s}function tc(e,t){arguments.length<2&&(t=e.nodes()[0]),py(e,{},1,t)}function py(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,ft.forEach(e.neighbors(r),function(s){ft.has(t,s)||(n=py(e,t,n,s,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function gy(e){return ft.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function my(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var l=ft.filter(t.edges(),function(c){return u===Lp(e,e.node(c.v),s)&&u!==Lp(e,e.node(c.w),s)});return ft.minBy(l,function(c){return sI(t,c)})}function yy(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),tc(e),ec(e,t),vI(e,t)}function vI(e,t){var n=ft.find(e.nodes(),function(i){return!t.node(i).parent}),r=lI(e,n);r=r.slice(1),ft.forEach(r,function(i){var o=e.node(i).parent,a=t.edge(i,o),s=!1;a||(a=t.edge(o,i),s=!0),t.node(i).rank=t.node(o).rank+(s?a.minlen:-a.minlen)})}function pI(e,t,n){return e.hasEdge(t,n)}function Lp(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var gI=Qr,_y=gI.longestPath,mI=hy,yI=fI,_I=bI;function bI(e){switch(e.graph().ranker){case"network-simplex":zp(e);break;case"tight-tree":EI(e);break;case"longest-path":wI(e);break;default:zp(e)}}var wI=_y;function EI(e){_y(e),mI(e)}function zp(e){yI(e)}var El=Ce,xI=SI;function SI(e){var t=NI(e);El.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=CI(e,t,i.v,i.w),a=o.path,s=o.lca,u=0,l=a[u],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(l=a[u])!==s&&e.node(l).maxRank<r.rank;)u++;l===s&&(c=!1)}if(!c){for(;u<a.length-1&&e.node(l=a[u+1]).minRank<=r.rank;)u++;l=a[u]}e.setParent(n,l),n=e.successors(n)[0]}})}function CI(e,t,n,r){var i=[],o=[],a=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),u,l;u=n;do u=e.parent(u),i.push(u);while(u&&(t[u].low>a||s>t[u].lim));for(l=u,u=r;(u=e.parent(u))!==l;)o.push(u);return{path:i.concat(o.reverse()),lca:l}}function NI(e){var t={},n=0;function r(i){var o=n;El.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return El.forEach(e.children(),r),t}var lt=Ce,xl=De,II={run:TI,cleanup:RI};function TI(e){var t=xl.addDummyNode(e,"root",{},"_root"),n=AI(e),r=lt.max(lt.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,lt.forEach(e.edges(),function(a){e.edge(a).minlen*=i});var o=MI(e)+1;lt.forEach(e.children(),function(a){by(e,t,i,o,r,n,a)}),e.graph().nodeRankFactor=i}function by(e,t,n,r,i,o,a){var s=e.children(a);if(!s.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}var u=xl.addBorderNode(e,"_bt"),l=xl.addBorderNode(e,"_bb"),c=e.node(a);e.setParent(u,a),c.borderTop=u,e.setParent(l,a),c.borderBottom=l,lt.forEach(s,function(d){by(e,t,n,r,i,o,d);var f=e.node(d),h=f.borderTop?f.borderTop:d,p=f.borderBottom?f.borderBottom:d,v=f.borderTop?r:2*r,g=h!==p?1:i-o[a]+1;e.setEdge(u,h,{weight:v,minlen:g,nestingEdge:!0}),e.setEdge(p,l,{weight:v,minlen:g,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,u,{weight:0,minlen:i+o[a]})}function AI(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&lt.forEach(o,function(a){n(a,i+1)}),t[r]=i}return lt.forEach(e.children(),function(r){n(r,1)}),t}function MI(e){return lt.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function RI(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,lt.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var tl=Ce,qI=De,PI=kI;function kI(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&tl.forEach(r,t),tl.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)Fp(e,"borderLeft","_bl",n,i,o),Fp(e,"borderRight","_br",n,i,o)}}tl.forEach(e.children(),t)}function Fp(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],u=qI.addDummyNode(e,"border",a,n);i[t][o]=u,e.setParent(u,r),s&&e.setEdge(s,u,{weight:1})}var Qe=Ce,OI={adjust:$I,undo:DI};function $I(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&wy(e)}function DI(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&BI(e),(t==="lr"||t==="rl")&&(LI(e),wy(e))}function wy(e){Qe.forEach(e.nodes(),function(t){Vp(e.node(t))}),Qe.forEach(e.edges(),function(t){Vp(e.edge(t))})}function Vp(e){var t=e.width;e.width=e.height,e.height=t}function BI(e){Qe.forEach(e.nodes(),function(t){nl(e.node(t))}),Qe.forEach(e.edges(),function(t){var n=e.edge(t);Qe.forEach(n.points,nl),Qe.has(n,"y")&&nl(n)})}function nl(e){e.y=-e.y}function LI(e){Qe.forEach(e.nodes(),function(t){rl(e.node(t))}),Qe.forEach(e.edges(),function(t){var n=e.edge(t);Qe.forEach(n.points,rl),Qe.has(n,"x")&&rl(n)})}function rl(e){var t=e.x;e.x=e.y,e.y=t}var it=Ce,zI=FI;function FI(e){var t={},n=it.filter(e.nodes(),function(s){return!e.children(s).length}),r=it.max(it.map(n,function(s){return e.node(s).rank})),i=it.map(it.range(r+1),function(){return[]});function o(s){if(!it.has(t,s)){t[s]=!0;var u=e.node(s);i[u.rank].push(s),it.forEach(e.successors(s),o)}}var a=it.sortBy(n,function(s){return e.node(s).rank});return it.forEach(a,o),i}var bt=Ce,VI=GI;function GI(e,t){for(var n=0,r=1;r<t.length;++r)n+=HI(e,t[r-1],t[r]);return n}function HI(e,t,n){for(var r=bt.zipObject(n,bt.map(n,function(l,c){return c})),i=bt.flatten(bt.map(t,function(l){return bt.sortBy(bt.map(e.outEdges(l),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=bt.map(new Array(a),function(){return 0}),u=0;return bt.forEach(i.forEach(function(l){var c=l.pos+o;s[c]+=l.weight;for(var d=0;c>0;)c%2&&(d+=s[c+1]),c=c-1>>1,s[c]+=l.weight;u+=l.weight*d})),u}var Gp=Ce,UI=jI;function jI(e,t){return Gp.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=Gp.reduce(r,function(o,a){var s=e.edge(a),u=e.node(a.v);return{sum:o.sum+s.weight*u.order,weight:o.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var Be=Ce,YI=KI;function KI(e,t){var n={};Be.forEach(e,function(i,o){var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};Be.isUndefined(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),Be.forEach(t.edges(),function(i){var o=n[i.v],a=n[i.w];!Be.isUndefined(o)&&!Be.isUndefined(a)&&(a.indegree++,o.out.push(n[i.w]))});var r=Be.filter(n,function(i){return!i.indegree});return XI(r)}function XI(e){var t=[];function n(o){return function(a){a.merged||(Be.isUndefined(a.barycenter)||Be.isUndefined(o.barycenter)||a.barycenter>=o.barycenter)&&WI(o,a)}}function r(o){return function(a){a.in.push(o),--a.indegree===0&&e.push(a)}}for(;e.length;){var i=e.pop();t.push(i),Be.forEach(i.in.reverse(),n(i)),Be.forEach(i.out,r(i))}return Be.map(Be.filter(t,function(o){return!o.merged}),function(o){return Be.pick(o,["vs","i","barycenter","weight"])})}function WI(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var _n=Ce,ZI=De,JI=QI;function QI(e,t){var n=ZI.partition(e,function(c){return _n.has(c,"barycenter")}),r=n.lhs,i=_n.sortBy(n.rhs,function(c){return-c.i}),o=[],a=0,s=0,u=0;r.sort(eT(!!t)),u=Hp(o,i,u),_n.forEach(r,function(c){u+=c.vs.length,o.push(c.vs),a+=c.barycenter*c.weight,s+=c.weight,u=Hp(o,i,u)});var l={vs:_n.flatten(o,!0)};return s&&(l.barycenter=a/s,l.weight=s),l}function Hp(e,t,n){for(var r;t.length&&(r=_n.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function eT(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var St=Ce,tT=UI,nT=YI,rT=JI,iT=Ey;function Ey(e,t,n,r){var i=e.children(t),o=e.node(t),a=o?o.borderLeft:void 0,s=o?o.borderRight:void 0,u={};a&&(i=St.filter(i,function(p){return p!==a&&p!==s}));var l=tT(e,i);St.forEach(l,function(p){if(e.children(p.v).length){var v=Ey(e,p.v,n,r);u[p.v]=v,St.has(v,"barycenter")&&aT(p,v)}});var c=nT(l,n);oT(c,u);var d=rT(c,r);if(a&&(d.vs=St.flatten([a,d.vs,s],!0),e.predecessors(a).length)){var f=e.node(e.predecessors(a)[0]),h=e.node(e.predecessors(s)[0]);St.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+h.order)/(d.weight+2),d.weight+=2}return d}function oT(e,t){St.forEach(e,function(n){n.vs=St.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function aT(e,t){St.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var bn=Ce,sT=Ke.Graph,uT=lT;function lT(e,t,n){var r=cT(e),i=new sT({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return bn.forEach(e.nodes(),function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),bn.forEach(e[n](o),function(u){var l=u.v===o?u.w:u.v,c=i.edge(l,o),d=bn.isUndefined(c)?0:c.weight;i.setEdge(l,o,{weight:e.edge(u).weight+d})}),bn.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i}function cT(e){for(var t;e.hasNode(t=bn.uniqueId("_root")););return t}var dT=Ce,fT=hT;function hT(e,t,n){var r={},i;dT.forEach(n,function(o){for(var a=e.parent(o),s,u;a;){if(s=e.parent(a),s?(u=r[s],r[s]=a):(u=i,i=a),u&&u!==a){t.setEdge(u,a);return}a=s}})}var Ct=Ce,vT=zI,pT=VI,gT=iT,mT=uT,yT=fT,_T=Ke.Graph,Up=De,bT=wT;function wT(e){var t=Up.maxRank(e),n=jp(e,Ct.range(1,t+1),"inEdges"),r=jp(e,Ct.range(t-1,-1,-1),"outEdges"),i=vT(e);Yp(e,i);for(var o=Number.POSITIVE_INFINITY,a,s=0,u=0;u<4;++s,++u){ET(s%2?n:r,s%4>=2),i=Up.buildLayerMatrix(e);var l=pT(e,i);l<o&&(u=0,a=Ct.cloneDeep(i),o=l)}Yp(e,a)}function jp(e,t,n){return Ct.map(t,function(r){return mT(e,r,n)})}function ET(e,t){var n=new _T;Ct.forEach(e,function(r){var i=r.graph().root,o=gT(r,i,n,t);Ct.forEach(o.vs,function(a,s){r.node(a).order=s}),yT(r,n,o.vs)})}function Yp(e,t){Ct.forEach(t,function(n){Ct.forEach(n,function(r,i){e.node(r).order=i})})}var ae=Ce,xT=Ke.Graph,ST=De,CT={positionX:TT,findType1Conflicts:xy,findType2Conflicts:Sy,addConflict:nc,hasConflict:Cy,verticalAlignment:Ny,horizontalCompaction:Iy,alignCoordinates:Ay,findSmallestWidthAlignment:Ty,balance:My};function xy(e,t){var n={};function r(i,o){var a=0,s=0,u=i.length,l=ae.last(o);return ae.forEach(o,function(c,d){var f=NT(e,c),h=f?e.node(f).order:u;(f||c===l)&&(ae.forEach(o.slice(s,d+1),function(p){ae.forEach(e.predecessors(p),function(v){var g=e.node(v),b=g.order;(b<a||h<b)&&!(g.dummy&&e.node(p).dummy)&&nc(n,v,p)})}),s=d+1,a=h)}),o}return ae.reduce(t,r),n}function Sy(e,t){var n={};function r(o,a,s,u,l){var c;ae.forEach(ae.range(a,s),function(d){c=o[d],e.node(c).dummy&&ae.forEach(e.predecessors(c),function(f){var h=e.node(f);h.dummy&&(h.order<u||h.order>l)&&nc(n,f,c)})})}function i(o,a){var s=-1,u,l=0;return ae.forEach(a,function(c,d){if(e.node(c).dummy==="border"){var f=e.predecessors(c);f.length&&(u=e.node(f[0]).order,r(a,l,d,s,u),l=d,s=u)}r(a,l,a.length,u,o.length)}),a}return ae.reduce(t,i),n}function NT(e,t){if(e.node(t).dummy)return ae.find(e.predecessors(t),function(n){return e.node(n).dummy})}function nc(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function Cy(e,t,n){if(t>n){var r=t;t=n,n=r}return ae.has(e[t],n)}function Ny(e,t,n,r){var i={},o={},a={};return ae.forEach(t,function(s){ae.forEach(s,function(u,l){i[u]=u,o[u]=u,a[u]=l})}),ae.forEach(t,function(s){var u=-1;ae.forEach(s,function(l){var c=r(l);if(c.length){c=ae.sortBy(c,function(v){return a[v]});for(var d=(c.length-1)/2,f=Math.floor(d),h=Math.ceil(d);f<=h;++f){var p=c[f];o[l]===l&&u<a[p]&&!Cy(n,l,p)&&(o[p]=l,o[l]=i[l]=i[p],u=a[p])}}})}),{root:i,align:o}}function Iy(e,t,n,r,i){var o={},a=IT(e,t,n,i),s=i?"borderLeft":"borderRight";function u(d,f){for(var h=a.nodes(),p=h.pop(),v={};p;)v[p]?d(p):(v[p]=!0,h.push(p),h=h.concat(f(p))),p=h.pop()}function l(d){o[d]=a.inEdges(d).reduce(function(f,h){return Math.max(f,o[h.v]+a.edge(h))},0)}function c(d){var f=a.outEdges(d).reduce(function(p,v){return Math.min(p,o[v.w]-a.edge(v))},Number.POSITIVE_INFINITY),h=e.node(d);f!==Number.POSITIVE_INFINITY&&h.borderType!==s&&(o[d]=Math.max(o[d],f))}return u(l,a.predecessors.bind(a)),u(c,a.successors.bind(a)),ae.forEach(r,function(d){o[d]=o[n[d]]}),o}function IT(e,t,n,r){var i=new xT,o=e.graph(),a=AT(o.nodesep,o.edgesep,r);return ae.forEach(t,function(s){var u;ae.forEach(s,function(l){var c=n[l];if(i.setNode(c),u){var d=n[u],f=i.edge(d,c);i.setEdge(d,c,Math.max(a(e,l,u),f||0))}u=l})}),i}function Ty(e,t){return ae.minBy(ae.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return ae.forIn(n,function(o,a){var s=MT(e,a)/2;r=Math.max(o+s,r),i=Math.min(o-s,i)}),r-i})}function Ay(e,t){var n=ae.values(t),r=ae.min(n),i=ae.max(n);ae.forEach(["u","d"],function(o){ae.forEach(["l","r"],function(a){var s=o+a,u=e[s],l;if(u!==t){var c=ae.values(u);l=a==="l"?r-ae.min(c):i-ae.max(c),l&&(e[s]=ae.mapValues(u,function(d){return d+l}))}})})}function My(e,t){return ae.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=ae.sortBy(ae.map(e,r));return(i[1]+i[2])/2})}function TT(e){var t=ST.buildLayerMatrix(e),n=ae.merge(xy(e,t),Sy(e,t)),r={},i;ae.forEach(["u","d"],function(a){i=a==="u"?t:ae.values(t).reverse(),ae.forEach(["l","r"],function(s){s==="r"&&(i=ae.map(i,function(d){return ae.values(d).reverse()}));var u=(a==="u"?e.predecessors:e.successors).bind(e),l=Ny(e,i,n,u),c=Iy(e,i,l.root,l.align,s==="r");s==="r"&&(c=ae.mapValues(c,function(d){return-d})),r[a+s]=c})});var o=Ty(e,r);return Ay(r,o),My(r,e.graph().align)}function AT(e,t,n){return function(r,i,o){var a=r.node(i),s=r.node(o),u=0,l;if(u+=a.width/2,ae.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":l=-a.width/2;break;case"r":l=a.width/2;break}if(l&&(u+=n?l:-l),l=0,u+=(a.dummy?t:e)/2,u+=(s.dummy?t:e)/2,u+=s.width/2,ae.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":l=s.width/2;break;case"r":l=-s.width/2;break}return l&&(u+=n?l:-l),l=0,u}}function MT(e,t){return e.node(t).width}var wn=Ce,Ry=De,RT=CT.positionX,qT=PT;function PT(e){e=Ry.asNonCompoundGraph(e),kT(e),wn.forEach(RT(e),function(t,n){e.node(n).x=t})}function kT(e){var t=Ry.buildLayerMatrix(e),n=e.graph().ranksep,r=0;wn.forEach(t,function(i){var o=wn.max(wn.map(i,function(a){return e.node(a).height}));wn.forEach(i,function(a){e.node(a).y=r+o/2}),r+=o+n})}var fe=Ce,Kp=qN,Xp=XN,OT=_I,$T=De.normalizeRanks,DT=xI,BT=De.removeEmptyRanks,Wp=II,LT=PI,Zp=OI,zT=bT,FT=qT,Tt=De,VT=Ke.Graph,GT=HT;function HT(e,t){var n=t&&t.debugTiming?Tt.time:Tt.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return tA(e)});n("  runLayout",function(){UT(r,n)}),n("  updateInputGraph",function(){jT(e,r)})})}function UT(e,t){t("    makeSpaceForEdgeLabels",function(){nA(e)}),t("    removeSelfEdges",function(){dA(e)}),t("    acyclic",function(){Kp.run(e)}),t("    nestingGraph.run",function(){Wp.run(e)}),t("    rank",function(){OT(Tt.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){rA(e)}),t("    removeEmptyRanks",function(){BT(e)}),t("    nestingGraph.cleanup",function(){Wp.cleanup(e)}),t("    normalizeRanks",function(){$T(e)}),t("    assignRankMinMax",function(){iA(e)}),t("    removeEdgeLabelProxies",function(){oA(e)}),t("    normalize.run",function(){Xp.run(e)}),t("    parentDummyChains",function(){DT(e)}),t("    addBorderSegments",function(){LT(e)}),t("    order",function(){zT(e)}),t("    insertSelfEdges",function(){fA(e)}),t("    adjustCoordinateSystem",function(){Zp.adjust(e)}),t("    position",function(){FT(e)}),t("    positionSelfEdges",function(){hA(e)}),t("    removeBorderNodes",function(){cA(e)}),t("    normalize.undo",function(){Xp.undo(e)}),t("    fixupEdgeLabelCoords",function(){uA(e)}),t("    undoCoordinateSystem",function(){Zp.undo(e)}),t("    translateGraph",function(){aA(e)}),t("    assignNodeIntersects",function(){sA(e)}),t("    reversePoints",function(){lA(e)}),t("    acyclic.undo",function(){Kp.undo(e)})}function jT(e,t){fe.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),fe.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,fe.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var YT=["nodesep","edgesep","ranksep","marginx","marginy"],KT={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},XT=["acyclicer","ranker","rankdir","align"],WT=["width","height"],ZT={width:0,height:0},JT=["minlen","weight","width","height","labeloffset"],QT={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},eA=["labelpos"];function tA(e){var t=new VT({multigraph:!0,compound:!0}),n=ol(e.graph());return t.setGraph(fe.merge({},KT,il(n,YT),fe.pick(n,XT))),fe.forEach(e.nodes(),function(r){var i=ol(e.node(r));t.setNode(r,fe.defaults(il(i,WT),ZT)),t.setParent(r,e.parent(r))}),fe.forEach(e.edges(),function(r){var i=ol(e.edge(r));t.setEdge(r,fe.merge({},QT,il(i,JT),fe.pick(i,eA)))}),t}function nA(e){var t=e.graph();t.ranksep/=2,fe.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function rA(e){fe.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};Tt.addDummyNode(e,"edge-proxy",o,"_ep")}})}function iA(e){var t=0;fe.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=fe.max(t,r.maxRank))}),e.graph().maxRank=t}function oA(e){fe.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function aA(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function u(l){var c=l.x,d=l.y,f=l.width,h=l.height;t=Math.min(t,c-f/2),n=Math.max(n,c+f/2),r=Math.min(r,d-h/2),i=Math.max(i,d+h/2)}fe.forEach(e.nodes(),function(l){u(e.node(l))}),fe.forEach(e.edges(),function(l){var c=e.edge(l);fe.has(c,"x")&&u(c)}),t-=a,r-=s,fe.forEach(e.nodes(),function(l){var c=e.node(l);c.x-=t,c.y-=r}),fe.forEach(e.edges(),function(l){var c=e.edge(l);fe.forEach(c.points,function(d){d.x-=t,d.y-=r}),fe.has(c,"x")&&(c.x-=t),fe.has(c,"y")&&(c.y-=r)}),o.width=n-t+a,o.height=i-r+s}function sA(e){fe.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,a;n.points?(o=n.points[0],a=n.points[n.points.length-1]):(n.points=[],o=i,a=r),n.points.unshift(Tt.intersectRect(r,o)),n.points.push(Tt.intersectRect(i,a))})}function uA(e){fe.forEach(e.edges(),function(t){var n=e.edge(t);if(fe.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function lA(e){fe.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function cA(e){fe.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(fe.last(n.borderLeft)),a=e.node(fe.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),fe.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function dA(e){fe.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function fA(e){var t=Tt.buildLayerMatrix(e);fe.forEach(t,function(n){var r=0;fe.forEach(n,function(i,o){var a=e.node(i);a.order=o+r,fe.forEach(a.selfEdges,function(s){Tt.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:a.rank,order:o+ ++r,e:s.e,label:s.label},"_se")}),delete a.selfEdges})})}function hA(e){fe.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}function il(e,t){return fe.mapValues(fe.pick(e,t),Number)}function ol(e){var t={};return fe.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var er=Ce,vA=De,pA=Ke.Graph,gA={debugOrdering:mA};function mA(e){var t=vA.buildLayerMatrix(e),n=new pA({compound:!0,multigraph:!0}).setGraph({});return er.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),er.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),er.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),er.reduce(r,function(a,s){return n.setEdge(a,s,{style:"invis"}),s})}),n}var yA="0.8.5",_A={graphlib:Ke,layout:GT,debug:gA,util:{time:De.time,notime:De.notime},version:yA};const Jp=Gy(_A);const bA={class:"flex h-screen overflow-hidden bg-gray-50 text-gray-900"},wA={class:"w-72 border-r border-gray-200 bg-white shadow-sm flex flex-col"},EA={class:"flex-1 overflow-y-auto p-2"},xA={key:0,class:"text-center text-gray-400 mt-6"},SA={key:1},CA=["onClick"],NA={class:"flex-1 relative flex flex-col"},IA={class:"flex items-center justify-between px-6 py-3 bg-white border-b border-gray-200 shadow-sm"},TA={class:"font-semibold text-lg text-gray-700"},AA={class:"flex-1 relative"},MA={key:0,class:"fixed inset-0 bg-black/40 flex items-center justify-center z-50"},RA={class:"bg-white rounded-xl shadow-xl w-[500px] max-h-[90vh] overflow-y-auto p-6 relative animate-scaleIn"},qA={class:"text-xl font-semibold mb-4"},PA={key:0},kA={key:0},OA={key:0},$A={class:"mt-2"},DA={class:"w-full bg-gray-200 rounded-full h-3 mt-1 relative overflow-hidden"},BA={class:"text-sm text-gray-500 mt-1"},LA={key:0},zA={key:0},FA={class:"mt-2"},VA={class:"w-full bg-gray-200 rounded-full h-3 mt-1 relative overflow-hidden"},GA={class:"text-sm text-gray-500 mt-1"},HA={class:"mt-6 text-right"},UA=["href"],jA={__name:"CompanyDiagram",setup(e){const t=be([]),n=be(null),r=be([]),i=be(!1),o=be(!1),a=be(null),{fitView:s}=xe(),u=p=>p==null||isNaN(p)?"0%":`${Number(p).toFixed(0)}%`,l=async()=>{i.value=!0;const{data:p}=await ei.get("/api/mapdiagram");t.value=p,i.value=!1},c=async p=>{i.value=!0;const{data:v}=await ei.get(`/api/mapdiagram/${p}/map`);n.value=v,h(v),i.value=!1},d=async p=>{const v=p.node||p;if(!v||!v.id)return;const g=v.id;let b=null,w=null;if(g.startsWith("p-"))b="project",w="";else if(g.startsWith("t-"))b="task",w="";else if(g.startsWith("s-"))b="subtask",w="";else if(g.startsWith("c-"))b="company",w="";else return;try{const{data:y}=await ei.get(`/api/${b}s/${g.replace(/\D/g,"")}`);a.value={type:b,label:w,...y},o.value=!0}catch(y){console.error("   :",y)}},f=(p,v)=>{const g=new Jp.graphlib.Graph;return g.setGraph({rankdir:"TB",nodesep:100,ranksep:120}),g.setDefaultEdgeLabel(()=>({})),p.forEach(b=>g.setNode(b.id,{width:200,height:60})),v.forEach(b=>g.setEdge(b.source,b.target)),Jp.layout(g),p.forEach(b=>{const w=g.node(b.id);b.position={x:w.x-100,y:w.y-30}}),{nodes:p,edges:v}},h=p=>{let v=[],g=[];const b={company:"#dbeafe",project:"#dcfce7",task:"#fef9c3",subtask:"#ffedd5"},w=["#f59e0b","#f97316","#ef4444","#8b5cf6","#0ea5e9"],y=A=>w[A]||"#6b7280",C=(A,D,O,T=null,N=0)=>{v.push({id:A.toString(),data:{label:D},style:{background:b[O],borderRadius:"10px",padding:"10px 16px",border:"1px solid rgba(0,0,0,0.05)",boxShadow:"0 3px 8px rgba(0,0,0,0.08)",fontWeight:500,fontSize:"14px",textAlign:"center",maxWidth:"240px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer"},title:D}),T&&g.push({id:`e-${T}-${A}`,source:T.toString(),target:A.toString(),type:"smoothstep",animated:!1,style:{stroke:y(N),strokeWidth:2,opacity:.9}})},k=(A,D,O=0)=>{C(`s-${A.id}`,A.title,"subtask",D,O),A.children&&A.children.length&&A.children.forEach(T=>k(T,`s-${A.id}`,O+1))},q=(A,D)=>{var O;C(`p-${A.id}`,A.name,"project",D),(O=A.tasks)==null||O.forEach(T=>{var N;C(`t-${T.id}`,T.title,"task",`p-${A.id}`),(N=T.subtasks)==null||N.forEach(L=>k(L,`t-${T.id}`,0))})};C(`c-${p.id}`,p.name,"company"),p.projects.forEach(A=>q(A,`c-${p.id}`));const M=f(v,g);r.value=[...M.nodes,...M.edges],setTimeout(()=>s(),300)};return ht(l),(p,v)=>(Y(),ke(Hy,null,{default:Ze(()=>{var g,b;return[ne("div",bA,[ne("aside",wA,[v[3]||(v[3]=ne("div",{class:"p-4 border-b border-gray-100"},[ne("h2",{class:"font-semibold text-lg mb-3 text-gray-800 flex items-center gap-2"},"    ")],-1)),ne("div",EA,[i.value?(Y(),re("div",xA,"...")):(Y(),re("ul",SA,[(Y(!0),re(Re,null,xt(t.value,w=>{var y;return Y(),re("li",{key:w.id,class:Dt(["mb-1 p-2 rounded-lg cursor-pointer hover:bg-blue-50 transition",((y=n.value)==null?void 0:y.id)===w.id?"bg-blue-100 font-medium":""]),onClick:C=>c(w.id)},"  "+Pe(w.name),11,CA)}),128))]))])]),ne("main",NA,[ne("div",IA,[ne("h3",TA,Pe(n.value?n.value.name:" "),1),ne("button",{onClick:v[0]||(v[0]=(...w)=>J(s)&&J(s)(...w)),class:"px-3 py-1.5 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition"},"   ")]),ne("div",AA,[Oe(J(JE),{modelValue:r.value,"onUpdate:modelValue":v[1]||(v[1]=w=>r.value=w),class:"w-full h-full bg-gradient-to-b from-gray-50 to-gray-100",onNodeClick:d},{default:Ze(()=>[Oe(J(Rx))]),_:1},8,["modelValue"])])])]),o.value?(Y(),re("div",MA,[ne("div",RA,[ne("button",{class:"absolute top-3 right-3 text-gray-400 hover:text-gray-600",onClick:v[2]||(v[2]=w=>o.value=!1)},""),ne("h2",qA,Pe(a.value.label),1),a.value?(Y(),re("div",PA,[a.value.type==="project"?(Y(),re(Re,{key:0},[ne("p",null,[v[4]||(v[4]=ne("b",null,":",-1)),ot(" "+Pe(a.value.name),1)]),ne("p",null,[v[5]||(v[5]=ne("b",null," :",-1)),ot(" "+Pe(a.value.start_date),1)])],64)):a.value.type==="task"?(Y(),re(Re,{key:1},[ne("p",null,[v[6]||(v[6]=ne("b",null,":",-1)),ot(" "+Pe(a.value.title),1)]),ne("p",null,[v[7]||(v[7]=ne("b",null,":",-1)),(Y(!0),re(Re,null,xt(a.value.executors,(w,y)=>(Y(),re("span",{key:w.id},[ot(Pe(w.name),1),y<a.value.executors.length-1?(Y(),re("span",kA,", ")):Ne("",!0)]))),128))]),ne("p",null,[v[8]||(v[8]=ne("b",null,":",-1)),(Y(!0),re(Re,null,xt(a.value.responsibles,(w,y)=>(Y(),re("span",{key:w.id},[ot(Pe(w.name),1),y<a.value.responsibles.length-1?(Y(),re("span",OA,", ")):Ne("",!0)]))),128))]),ne("div",$A,[v[9]||(v[9]=ne("b",null,":",-1)),ne("div",DA,[ne("div",{class:"h-3 rounded-full transition-all duration-500",style:Ue({width:u(a.value.progress),background:a.value.progress>=100?"linear-gradient(90deg, #16a34a, #4ade80)":"linear-gradient(90deg, #3b82f6, #60a5fa)"})},null,4)]),ne("div",BA,Pe(u(a.value.progress)),1)])],64)):(Y(),re(Re,{key:2},[ne("p",null,[v[10]||(v[10]=ne("b",null,":",-1)),ot(" "+Pe(a.value.title),1)]),ne("p",null,[v[11]||(v[11]=ne("b",null,":",-1)),(Y(!0),re(Re,null,xt(a.value.executors,(w,y)=>(Y(),re("span",{key:w.id},[ot(Pe(w.name),1),y<a.value.executors.length-1?(Y(),re("span",LA,", ")):Ne("",!0)]))),128))]),ne("p",null,[v[12]||(v[12]=ne("b",null,":",-1)),(Y(!0),re(Re,null,xt(a.value.responsibles,(w,y)=>(Y(),re("span",{key:w.id},[ot(Pe(w.name),1),y<a.value.responsibles.length-1?(Y(),re("span",zA,", ")):Ne("",!0)]))),128))]),ne("div",FA,[v[13]||(v[13]=ne("b",null,":",-1)),ne("div",VA,[ne("div",{class:"h-3 rounded-full transition-all duration-500",style:Ue({width:u(a.value.progress),background:a.value.progress>=100?"linear-gradient(90deg, #16a34a, #4ade80)":"linear-gradient(90deg, #3b82f6, #60a5fa)"})},null,4)]),ne("div",GA,Pe(u(a.value.progress)),1)])],64))])):Ne("",!0),ne("div",HA,[ne("a",{href:`/${(g=a.value)==null?void 0:g.type}s/${(b=a.value)==null?void 0:b.id}`,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},"   ",8,UA)])])])):Ne("",!0)]}),_:1}))}},ZA=Uy(jA,[["__scopeId","data-v-13a6feb6"]]);export{ZA as default};
