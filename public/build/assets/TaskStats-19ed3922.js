import{c as N,o as a,a as l,b as e,f as i,t as n,H as c,F as w,d as C,g as u}from"./app-9ce34a01.js";const U={class:"space-y-6"},_={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},$={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col justify-between"},D={class:"flex items-center justify-between bg-gray-50 dark:bg-gray-700/30 rounded-xl p-4 border border-gray-100 dark:border-gray-700"},H={class:"flex flex-col"},L={class:"text-sm sm:text-base font-medium text-gray-700 dark:text-gray-200 whitespace-nowrap"},T={class:"flex flex-col items-end"},A={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col justify-between"},I={class:"flex justify-between items-end mb-4"},P={class:"flex gap-1.5 h-12 w-full"},q=["onClick"],E={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700"},O={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-6"},R=["onClick"],G={class:"text-4xl mb-2 filter drop-shadow-sm transition-transform group-hover:scale-110"},J=["href","title"],K={key:1,class:"text-center py-8 text-gray-400 text-sm"},Q={key:2,class:"relative group"},S=["disabled"],W={class:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 flex flex-col items-center justify-center text-center transition-colors group-hover:border-blue-500 group-hover:bg-blue-50 dark:group-hover:bg-gray-700/50"},X={key:0,class:"animate-spin mb-2"},Y={key:1,class:"text-gray-400 group-hover:text-blue-500 transition-colors mb-2"},te={__name:"TaskStats",props:{task:Object,loading:Boolean,canUpload:Boolean},emits:["updateProgress","uploadFiles","deleteFile"],setup(s,{emit:j}){const B=s,F=j,M=r=>F("uploadFiles",r.target.files),x=r=>{if(!r)return"‚Äî";const t=new Date(r);return isNaN(t.getTime())?r:new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"}).format(t)},z=N(()=>{var t;const r=((t=B.task)==null?void 0:t.progress)||0;return r<30?"bg-gray-400":r<70?"bg-blue-500":"bg-emerald-500"}),d=r=>r.file_name?r.file_name:r.file_path?r.file_path.split("/").pop():"–§–∞–π–ª",V=r=>{if(!r)return"üìé";const t=r.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(t)?"üñºÔ∏è":["pdf"].includes(t)?"üìï":["doc","docx","txt"].includes(t)?"üìÑ":["xls","xlsx","csv"].includes(t)?"üìä":["zip","rar"].includes(t)?"üì¶":"üìé"};return(r,t)=>{var b,m,p,k,f,y,h;return a(),l("div",U,[e("div",_,[e("div",$,[t[3]||(t[3]=e("h3",{class:"font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),i(" –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ ")],-1)),e("div",D,[e("div",H,[t[0]||(t[0]=e("span",{class:"text-xs text-gray-400 uppercase font-bold tracking-wider mb-1"},"–ù–∞—á–∞–ª–æ",-1)),e("span",L,n(x((b=s.task)==null?void 0:b.start_date)),1)]),t[2]||(t[2]=e("div",{class:"text-gray-300 dark:text-gray-500 px-2"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})])],-1)),e("div",T,[t[1]||(t[1]=e("span",{class:"text-xs text-rose-400 uppercase font-bold tracking-wider mb-1"},"–°—Ä–æ–∫",-1)),e("span",{class:c(["text-sm sm:text-base font-medium text-gray-900 dark:text-white whitespace-nowrap",{"text-rose-500":!((m=s.task)!=null&&m.completed)}])},n(x((p=s.task)==null?void 0:p.due_date)),3)])])]),e("div",A,[e("div",I,[t[4]||(t[4]=e("h3",{class:"font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})]),i(" –ü—Ä–æ–≥—Ä–µ—Å—Å ")],-1)),e("span",{class:c(["text-2xl font-black transition-colors duration-300",(((k=s.task)==null?void 0:k.progress)||0)===100?"text-emerald-500":"text-blue-600"])},n(((f=s.task)==null?void 0:f.progress)||0)+"% ",3)]),e("div",P,[(a(),l(w,null,C(11,o=>{var g,v;return e("button",{key:o,onClick:Z=>r.$emit("updateProgress",(o-1)*10),class:c(["flex-1 rounded-md transition-all duration-300 relative group overflow-hidden",[(((g=s.task)==null?void 0:g.progress)||0)>=(o-1)*10?z.value:"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600",(((v=s.task)==null?void 0:v.progress)||0)===(o-1)*10?"ring-2 ring-offset-2 ring-blue-400 dark:ring-offset-gray-800 z-10 scale-110":""]])},null,10,q)}),64))]),t[5]||(t[5]=e("div",{class:"flex justify-between mt-2 text-xs text-gray-400 font-medium px-1"},[e("span",null,"0%"),e("span",null,"50%"),e("span",null,"100%")],-1))])]),e("div",E,[t[10]||(t[10]=e("h3",{class:"font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},[e("span",{class:"text-xl"},"üìé"),i(" –í–ª–æ–∂–µ–Ω–∏—è ")],-1)),(h=(y=s.task)==null?void 0:y.files)!=null&&h.length?(a(),l("div",O,[(a(!0),l(w,null,C(s.task.files,o=>(a(),l("div",{key:o.id,class:"group relative aspect-square bg-gray-50 dark:bg-gray-700/50 rounded-2xl border border-gray-100 dark:border-gray-700 flex flex-col items-center justify-center p-4 transition hover:shadow-md hover:border-blue-200 dark:hover:border-blue-500/30"},[s.canUpload?(a(),l("button",{key:0,onClick:g=>r.$emit("deleteFile",o.id),class:"absolute top-2 right-2 p-1.5 rounded-full bg-white dark:bg-gray-800 text-gray-400 hover:text-rose-500 shadow-sm opacity-0 group-hover:opacity-100 transition-all transform hover:scale-110",title:"–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª"},t[6]||(t[6]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,R)):u("",!0),e("div",G,n(V(d(o))),1),e("a",{href:`/api/tasks/files/${o.id}`,target:"_blank",class:"text-xs text-center font-medium text-gray-600 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 line-clamp-2 break-all stretched-link",title:d(o)},n(d(o)),9,J)]))),128))])):s.canUpload?u("",!0):(a(),l("div",K," –ù–µ—Ç –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ ")),s.canUpload?(a(),l("div",Q,[e("input",{type:"file",multiple:"",onChange:M,class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",disabled:s.loading},null,40,S),e("div",W,[s.loading?(a(),l("div",X,t[7]||(t[7]=[e("svg",{class:"w-8 h-8 text-blue-500",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):(a(),l("div",Y,t[8]||(t[8]=[e("svg",{class:"w-10 h-10 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)]))),t[9]||(t[9]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-300"},[e("span",{class:"text-blue-600 hover:underline"},"–ù–∞–∂–º–∏—Ç–µ"),i(" –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å—é–¥–∞ ")],-1))])])):u("",!0)])])}}};export{te as default};
