import{R as V,c as w,h as r,z as C,o as l,a as n,m as o,u as S,M as j,F as z,j as $,Z as O,b as s,f as e,H as M,t as I,g as c,O as D,I as R}from"./app-c38d94e2.js";import{_ as F}from"./AuthenticatedLayout-db748a92.js";import P from"./CompanySection-ffacc9f5.js";import A from"./ProjectsSummary-435eb2a0.js";import p from"./TasksSummary-feb290c1.js";import E from"./SubtasksSection-516e6113.js";import K from"./SearchOverlay-89dcbf64.js";import Q from"./CreateCompanyModal-9f9db2e8.js";import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-4f0caa45.js";const Z={class:"mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-10"},q={class:"space-y-12"},G={class:"dashboard-grid"},J={class:"grid grid-cols-1 lg:grid-cols-[7fr_3fr] gap-8 items-start"},L={class:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden"},U={class:"flex items-center border-b border-slate-100 dark:border-slate-800"},X={key:0,class:"ml-2 bg-indigo-100 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-300 px-2 py-0.5 rounded-full text-xs"},Y={key:1,class:"absolute bottom-0 left-0 w-full h-[2px] bg-indigo-600 dark:bg-indigo-400"},ss={key:0,class:"ml-2 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 px-2 py-0.5 rounded-full text-xs"},as={key:1,class:"absolute bottom-0 left-0 w-full h-[2px] bg-indigo-600 dark:bg-indigo-400"},es={class:"p-6 min-h-[300px]"},ts={key:"tasks"},ls={key:"subtasks"},os={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},is={__name:"Home",setup(rs){var x,_;const{props:u}=V(),B=w(()=>{var i,a;return(a=(i=u.auth)==null?void 0:i.roles)==null?void 0:a.includes("admin")}),H=(_=(x=u.auth)==null?void 0:x.user)==null?void 0:_.id,v=r([]),t=r({managing_projects:[],all_tasks:[],all_subtasks:[],due_today:[],overdue:[]}),b=r(!0);r("");const m=r(!1),k=r(!1),g=async()=>{b.value=!0;try{const[i,a]=await Promise.all([$.get("/api/companies"),$.get("/api/dashboard/summary")]);v.value=i.data,t.value=a.data}catch(i){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…",i)}finally{b.value=!1}},d=r("tasks");w(()=>u.summary.managing_projects&&u.summary.managing_projects.length>0),C(g);const N=()=>{m.value=!0},T=r(!1);return C(()=>{sessionStorage.getItem("welcome_modal_shown")||(T.value=!0,sessionStorage.setItem("welcome_modal_shown","true"))}),(i,a)=>(l(),n(z,null,[o(S(O),{title:"Ð Ð°Ð±Ð¾Ñ‡Ð¸Ð¹ ÑÑ‚Ð¾Ð»"}),o(F,null,{default:j(()=>{var h,y;return[s("div",Z,[a[8]||(a[8]=s("div",{class:"header"},[s("div",{class:"logo-area"},[s("div",{class:"logo-icon"},[s("i",{class:"fas fa-rocket"})]),s("div",{class:"logo-text"},[s("h2",null,"Orion CRM"),s("span",null,"ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸ÑÐ¼Ð¸")])]),s("div",{class:"search-bar"},[s("i",{class:"fas fa-search"}),s("input",{type:"text",placeholder:"ÐŸÐ¾Ð¸ÑÐº ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¹, Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð², Ð·Ð°Ð´Ð°Ñ‡..."})]),s("div",{class:"user-profile"},[s("div",{class:"notification-badge"},[s("i",{class:"far fa-bell"})]),s("div",{class:"avatar"},[s("div",{class:"avatar-img"},"ÐÐŸ"),s("span",{class:"avatar-name"},"ÐÐ»ÐµÐºÑÐµÐ¹ ÐŸÐ°Ð²Ð»Ð¾Ð²"),s("i",{class:"fas fa-chevron-down",style:{"font-size":"12px",color:"#8192aa"}})])])],-1)),s("div",{class:"relative group"},[s("div",{onClick:N,class:"w-full flex items-center gap-3 px-5 py-4 bg-white/50 dark:bg-slate-900/50 backdrop-blur-xl border border-slate-200 dark:border-slate-800 rounded-2xl cursor-text hover:border-slate-300 dark:hover:border-slate-700 transition-all shadow-sm"},a[4]||(a[4]=[s("span",{class:"text-slate-400 text-xl"},"ðŸ”",-1),s("span",{class:"text-slate-400 flex-1"},"ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸ÑÐ¼, Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°Ð¼ Ð¸Ð»Ð¸ Ð·Ð°Ð´Ð°Ñ‡Ð°Ð¼...",-1),s("kbd",{class:"hidden sm:inline-block px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded text-xs text-slate-500 border border-slate-200 dark:border-slate-700"},"âŒ˜K",-1)]))]),a[9]||(a[9]=s("div",{class:"tabs"},[s("div",{class:"tab active"},[s("i",{class:"fas fa-th-large"}),e(" Ð“Ð»Ð°Ð²Ð½Ð°Ñ")]),s("div",{class:"tab"},[s("i",{class:"fas fa-building"}),e(" ÐšÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸")]),s("div",{class:"tab"},[s("i",{class:"fas fa-tasks"}),e(" ÐŸÑ€Ð¾ÐµÐºÑ‚Ñ‹")]),s("div",{class:"tab"},[s("i",{class:"fas fa-check-circle"}),e(" Ð—Ð°Ð´Ð°Ñ‡Ð¸")]),s("div",{class:"tab"},[s("i",{class:"fas fa-users"}),e(" ÐšÐ¾Ð¼Ð°Ð½Ð´Ð°")]),s("div",{class:"tab"},[s("i",{class:"fas fa-chart-line"}),e(" ÐÐ½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°")])],-1)),a[10]||(a[10]=s("div",{class:"content"},[s("div",{class:"welcome-row"},[s("div",{class:"greeting-card"},[s("h2",null,[e("Ð”Ð¾Ð±Ñ€Ð¾Ðµ ÑƒÑ‚Ñ€Ð¾, "),s("span",null,"ÐÐ»ÐµÐºÑÐµÐ¹"),e(" ðŸ‘‹")]),s("p",null,[s("i",{class:"fas fa-calendar-alt",style:{color:"#4361ee"}}),e(" 22 Ñ„ÐµÐ²Ñ€Ð°Ð»Ñ 2026 Â· ÐŸÐ¾Ð½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¸Ðº")]),s("p",{style:{"margin-top":"16px",color:"#3f5579"}},"âœ… Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾ 8 Ð¸Ð· 14 Ð·Ð°Ð´Ð°Ñ‡ Ð½Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ. ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ Ñ‚ÐµÐ¼Ð¿!")]),s("div",{class:"stats-cards"},[s("div",{class:"stat-item"},[s("div",{class:"stat-title"},[s("i",{class:"fas fa-building",style:{color:"#4361ee"}}),e(" ÐšÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸")]),s("div",{class:"stat-number"},"24"),s("div",{class:"stat-change"},[s("i",{class:"fas fa-arrow-up"}),e(" +3 Ð½Ð° ÑÑ‚Ð¾Ð¹ Ð½ÐµÐ´ÐµÐ»Ðµ")])]),s("div",{class:"stat-item"},[s("div",{class:"stat-title"},[s("i",{class:"fas fa-tasks",style:{color:"#9c4dff"}}),e(" ÐŸÑ€Ð¾ÐµÐºÑ‚Ñ‹")]),s("div",{class:"stat-number"},"41"),s("div",{class:"stat-change",style:{background:"#e0e7ff",color:"#4338ca"}},"12 Ð² Ñ€Ð°Ð±Ð¾Ñ‚Ðµ")]),s("div",{class:"stat-item"},[s("div",{class:"stat-title"},[s("i",{class:"fas fa-check-double",style:{color:"#10b981"}}),e(" Ð—Ð°Ð´Ð°Ñ‡Ð¸")]),s("div",{class:"stat-number"},"156"),s("div",{class:"stat-change",style:{background:"#fee2e2",color:"#b91c1c"}},"8 Ð¿Ñ€Ð¾ÑÑ€Ð¾Ñ‡ÐµÐ½Ð¾")])])])],-1)),s("div",q,[s("div",G,[o(P,{companies:v.value,"user-id":S(H),"is-admin":B.value,onRefresh:g},null,8,["companies","user-id","is-admin"]),o(A,{projects:t.value.managing_projects},null,8,["projects"]),s("div",J,[s("div",L,[s("div",U,[s("button",{onClick:a[0]||(a[0]=f=>d.value="tasks"),class:M(["flex-1 py-4 text-sm font-bold transition-all relative outline-none",d.value==="tasks"?"text-indigo-600 dark:text-indigo-400 bg-indigo-50/50 dark:bg-indigo-900/10":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50"])},[a[5]||(a[5]=e(" âœ… ÐœÐ¾Ð¸ Ð·Ð°Ð´Ð°Ñ‡Ð¸ ",-1)),(h=t.value.all_tasks)!=null&&h.length?(l(),n("span",X,I(t.value.all_tasks.length),1)):c("",!0),d.value==="tasks"?(l(),n("div",Y)):c("",!0)],2),a[7]||(a[7]=s("div",{class:"w-[1px] h-6 bg-slate-200 dark:bg-slate-700"},null,-1)),s("button",{onClick:a[1]||(a[1]=f=>d.value="subtasks"),class:M(["flex-1 py-4 text-sm font-bold transition-all relative outline-none",d.value==="subtasks"?"text-indigo-600 dark:text-indigo-400 bg-indigo-50/50 dark:bg-indigo-900/10":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800/50"])},[a[6]||(a[6]=e(" ðŸ“‹ ÐŸÐ¾Ð´Ð·Ð°Ð´Ð°Ñ‡Ð¸ ",-1)),(y=t.value.all_subtasks)!=null&&y.length?(l(),n("span",ss,I(t.value.all_subtasks.length),1)):c("",!0),d.value==="subtasks"?(l(),n("div",as)):c("",!0)],2)]),s("div",es,[o(D,{name:"fade",mode:"out-in"},{default:j(()=>[d.value==="tasks"?(l(),n("div",ts,[o(p,{tasks:t.value.all_tasks},null,8,["tasks"])])):(l(),n("div",ls,[o(E,{subtasks:t.value.all_subtasks},null,8,["subtasks"])]))]),_:1})])])])]),s("div",os,[o(p,{tasks:t.value.due_today,title:"ðŸ”” Ð¡Ñ€Ð¾ÐºÐ¸ ÑÐµÐ³Ð¾Ð´Ð½Ñ",compact:""},null,8,["tasks"]),o(p,{tasks:t.value.overdue,title:"âš ï¸ ÐŸÑ€Ð¾ÑÑ€Ð¾Ñ‡ÐµÐ½Ð¾",compact:"",variant:"danger"},null,8,["tasks"])])])]),m.value?(l(),R(K,{key:0,onClose:a[2]||(a[2]=f=>m.value=!1),companies:v.value,summary:t.value},null,8,["companies","summary"])):c("",!0),k.value?(l(),R(Q,{key:1,onClose:a[3]||(a[3]=f=>k.value=!1),onCreated:g})):c("",!0)]}),_:1})],64))}},ks=W(is,[["__scopeId","data-v-cf1d1c28"]]);export{ks as default};
