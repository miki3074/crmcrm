import{r as y,o as m,I as E,M as U,b as e,w as c,v as p,a as _,d as f,t as l,F as v,f as V,g as F}from"./app-e2bfa4e1.js";import{_ as C}from"./AuthenticatedLayout-3d791435.js";import{P as r,A as a,T as d,F as L,H as z,c as I,a as M,b as D}from"./FileSaver.min-485a66ad.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-03a894ef.js";const j={class:"app-container"},A={class:"editor-panel no-print"},B={class:"section-block"},H={class:"form-group"},S={class:"form-group"},$={class:"form-group"},G={class:"form-group"},J={class:"form-group"},W={class:"section-block"},q={class:"articles-list"},K={class:"article-header-row"},O={class:"article-number"},Q=["onClick"],X={class:"form-group"},Y=["onUpdate:modelValue"],Z={class:"form-group"},ee=["onUpdate:modelValue"],te={class:"section-block"},ne={class:"form-group"},se={class:"form-group"},ie={class:"preview-panel"},oe={class:"paper-sheet"},le={class:"initiator"},re={class:"doc-mark"},ae={class:"doc-header"},de={class:"doc-type"},ce={class:"doc-region"},pe={class:"doc-title"},ue={class:"doc-body"},me={class:"article-title"},ge={key:0},_e={class:"doc-footer"},fe={class:"signer-title"},ve={class:"signer-name"},we={__name:"LegislationForm",setup(he){const n=y({initiator:`Вносится Правительством
Российской Федерации`,projectMark:"Проект",docType:"ФЕДЕРАЛЬНЫЙ ЗАКОН",region:"Республики  Татарстан",title:"О внесении изменений в отдельные законодательные акты",signerTitle:"Президент",signerName:"",articles:[{title:"Предмет правового регулирования",content:`1. Настоящий Закон регулирует отношения, возникающие в связи с...
2. Действие настоящего Закона распространяется на...`},{title:"",content:"Настоящий Закон вступает в силу со дня его официального опубликования."}]}),b=()=>{n.articles.push({title:"",content:""})},N=i=>{confirm("Удалить эту статью?")&&n.articles.splice(i,1)},w=i=>i?i.split(`
`).filter(t=>t.trim()!==""):[],g=i=>Math.round(i*566.929),k=()=>{const i=[];n.initiator.split(`
`).forEach(o=>{i.push(new r({alignment:a.RIGHT,children:[new d({text:o,font:"Times New Roman",size:28})],spacing:{line:240}}))}),i.push(new r({alignment:a.RIGHT,children:[new d({text:n.projectMark,font:"Times New Roman",size:28})],spacing:{after:200}})),i.push(new r({alignment:a.CENTER,children:[new d({text:n.docType,font:"Times New Roman",size:28,bold:!0})]})),i.push(new r({alignment:a.CENTER,children:[new d({text:n.region,font:"Times New Roman",size:28})],spacing:{after:400}})),i.push(new r({alignment:a.CENTER,indent:{firstLine:g(1.25)},children:[new d({text:n.title,font:"Times New Roman",size:28,bold:!0})],spacing:{after:400}})),n.articles.forEach((o,u)=>{let T=`Статья ${u+1}`;o.title&&o.title.trim()!==""&&(T+=`. ${o.title}`),i.push(new r({alignment:a.JUSTIFIED,indent:{firstLine:g(1.25)},children:[new d({text:T,font:"Times New Roman",size:28,bold:!0})],spacing:{before:240,after:240}})),w(o.content).forEach(R=>{i.push(new r({alignment:a.JUSTIFIED,indent:{firstLine:g(1.25)},children:[new d({text:R,font:"Times New Roman",size:28})],spacing:{line:240}}))})}),i.push(new r({children:[],spacing:{before:720}})),i.push(new r({alignment:a.LEFT,children:[new d({text:n.signerTitle,font:"Times New Roman",size:28})]})),n.signerName&&i.push(new r({alignment:a.LEFT,children:[new d({text:n.signerName,font:"Times New Roman",size:28})]}));const s=new L({styles:{default:{document:{run:{font:"Times New Roman"}}}},sections:[{properties:{page:{margin:{top:g(2),bottom:g(2),left:g(3),right:g(1)}}},headers:{default:new z({children:[new r({alignment:a.RIGHT,children:[new d({children:[I.CURRENT],font:"Times New Roman",size:24})]})]})},children:i}]});M.toBlob(s).then(o=>{D.saveAs(o,"Законопроект.docx")})},x=()=>{window.print()};return(i,t)=>(m(),E(C,null,{default:U(()=>[e("div",j,[e("div",A,[t[17]||(t[17]=e("h2",null,"Конструктор Законопроекта",-1)),e("div",B,[t[12]||(t[12]=e("h3",null,"1. Шапка документа",-1)),e("div",H,[t[7]||(t[7]=e("label",null,"Кем вносится:",-1)),c(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=s=>n.initiator=s),rows:"2"},null,512),[[p,n.initiator]])]),e("div",S,[t[8]||(t[8]=e("label",null,"Метка (справа сверху):",-1)),c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.projectMark=s)},null,512),[[p,n.projectMark]])]),e("div",$,[t[9]||(t[9]=e("label",null,"Вид акта:",-1)),c(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.docType=s),class:"input-uppercase"},null,512),[[p,n.docType]])]),e("div",G,[t[10]||(t[10]=e("label",null,"Регион / Орган:",-1)),c(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>n.region=s)},null,512),[[p,n.region]])]),e("div",J,[t[11]||(t[11]=e("label",null,"Заголовок закона:",-1)),c(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>n.title=s),rows:"3"},null,512),[[p,n.title]])])]),e("div",W,[t[13]||(t[13]=e("h3",null,"2. Статьи",-1)),e("div",q,[(m(!0),_(v,null,f(n.articles,(s,o)=>(m(),_("div",{key:o,class:"article-card"},[e("div",K,[e("span",O,"Статья "+l(o+1),1),e("button",{onClick:u=>N(o),class:"btn-icon delete",title:"Удалить"},"✕",8,Q)]),e("div",X,[c(e("input",{"onUpdate:modelValue":u=>s.title=u,placeholder:"Заголовок статьи (например: Предмет регулирования)",class:"article-title-input"},null,8,Y),[[p,s.title]])]),e("div",Z,[c(e("textarea",{"onUpdate:modelValue":u=>s.content=u,rows:"5",placeholder:"Текст статьи. Разделяйте части пустой строкой."},null,8,ee),[[p,s.content]])])]))),128))]),e("button",{onClick:b,class:"btn-add"}," + Добавить статью ")]),e("div",te,[t[16]||(t[16]=e("h3",null,"3. Заключительные положения",-1)),e("div",ne,[t[14]||(t[14]=e("label",null,"Должность подписанта:",-1)),c(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>n.signerTitle=s)},null,512),[[p,n.signerTitle]])]),e("div",se,[t[15]||(t[15]=e("label",null,"ФИО (необязательно):",-1)),c(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>n.signerName=s)},null,512),[[p,n.signerName]])])]),e("div",{class:"actions"},[e("button",{onClick:k,class:"btn-action word"},"Скачать Word (.docx)"),e("button",{onClick:x,class:"btn-action pdf"},"Печать / PDF")])]),e("div",ie,[e("div",oe,[e("div",le,l(n.initiator),1),t[18]||(t[18]=e("div",{class:"spacer-24pt"},null,-1)),e("div",re,l(n.projectMark),1),e("div",ae,[e("div",de,l(n.docType),1),e("div",ce,l(n.region),1)]),e("div",pe,l(n.title),1),e("div",ue,[(m(!0),_(v,null,f(n.articles,(s,o)=>(m(),_("div",{key:o,class:"doc-article"},[e("div",me,[V(" Статья "+l(o+1),1),s.title?(m(),_("span",ge,". "+l(s.title),1)):F("",!0)]),(m(!0),_(v,null,f(w(s.content),(u,h)=>(m(),_("div",{key:h,class:"article-paragraph"},l(u),1))),128))]))),128))]),e("div",_e,[e("div",fe,l(n.signerTitle),1),e("div",ve,l(n.signerName),1)])])])])]),_:1}))}},ye=P(we,[["__scopeId","data-v-536e49ec"]]);export{ye as default};
