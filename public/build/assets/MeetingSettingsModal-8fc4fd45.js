import{K as y,i as f,o as l,a as r,b as e,w as m,v,u as a,t as c,g as p,F as w,d as _,l as h}from"./app-6e35b499.js";const k={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-500 bg-opacity-75"},S={class:"bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:max-w-lg sm:w-full"},B={class:"px-4 pt-5 pb-4 sm:p-6"},C={class:"space-y-4"},M={key:0,class:"text-red-500 text-xs mt-1"},T={class:"border rounded-md max-h-60 overflow-y-auto p-2 bg-gray-50"},V=["id","value"],D=["for"],F={class:"bg-gray-50 px-4 py-3 sm:px-6 flex flex-row-reverse gap-2"},j=["disabled"],O={__name:"MeetingSettingsModal",props:{show:Boolean,meeting:Object,available_users:Array},emits:["close"],setup(n,{emit:u}){const i=n,g=u,s=y({start_time:"",participants:[]});f(()=>i.show,d=>{if(d){let t=i.meeting.start_time;t&&t.indexOf("T")===-1&&(t=t.replace(" ","T").slice(0,16)),s.start_time=t,s.participants=i.meeting.participants.map(o=>o.id)}});const b=()=>{s.put(route("meetings.update",i.meeting.id),{preserveScroll:!0,onSuccess:()=>g("close")})};return(d,t)=>n.show?(l(),r("div",k,[e("div",S,[e("div",B,[t[5]||(t[5]=e("h3",{class:"text-lg font-medium leading-6 text-gray-900 mb-4"},"Редактирование",-1)),e("div",C,[e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700"},"Дата начала",-1)),m(e("input",{type:"datetime-local","onUpdate:modelValue":t[0]||(t[0]=o=>a(s).start_time=o),class:"mt-1 block w-full rounded border-gray-300 shadow-sm"},null,512),[[v,a(s).start_time]]),a(s).errors.start_time?(l(),r("div",M,c(a(s).errors.start_time),1)):p("",!0)]),e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Участники",-1)),e("div",T,[(l(!0),r(w,null,_(n.available_users,o=>(l(),r("div",{key:o.id,class:"flex items-center py-1"},[m(e("input",{type:"checkbox",id:"user-"+o.id,value:o.id,"onUpdate:modelValue":t[1]||(t[1]=x=>a(s).participants=x),class:"h-4 w-4 text-blue-600 border-gray-300 rounded"},null,8,V),[[h,a(s).participants]]),e("label",{for:"user-"+o.id,class:"ml-2 block text-sm text-gray-900 cursor-pointer"},c(o.name),9,D)]))),128))])])])]),e("div",F,[e("button",{onClick:b,disabled:a(s).processing,class:"bg-blue-600 text-white px-4 py-2 rounded shadow"},"Сохранить",8,j),e("button",{onClick:t[2]||(t[2]=o=>d.$emit("close")),class:"bg-white border px-4 py-2 rounded shadow-sm text-gray-700"},"Отмена")])])])):p("",!0)}};export{O as default};
