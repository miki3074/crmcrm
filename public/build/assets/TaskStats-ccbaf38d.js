import{j as V,o as a,c as l,a as e,b as i,t as n,E as g,F as v,e as w,d as c}from"./app-e92293fe.js";const N={class:"space-y-6"},U={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},$={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col justify-between"},D={class:"flex items-center justify-between bg-gray-50 dark:bg-gray-700/30 rounded-xl p-4 border border-gray-100 dark:border-gray-700"},L={class:"flex flex-col"},T={class:"text-sm sm:text-base font-medium text-gray-700 dark:text-gray-200 whitespace-nowrap"},H={class:"flex flex-col items-end"},_={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col justify-between"},A={class:"flex justify-between items-end mb-4"},E={class:"flex gap-1.5 h-12 w-full"},I=["onClick"],P={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700"},q={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-6"},O=["onClick"],R={class:"text-4xl mb-2 filter drop-shadow-sm transition-transform group-hover:scale-110"},G=["href"],J={key:1,class:"text-center py-8 text-gray-400 text-sm"},K={key:2,class:"relative group"},Q=["disabled"],S={class:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 flex flex-col items-center justify-center text-center transition-colors group-hover:border-blue-500 group-hover:bg-blue-50 dark:group-hover:bg-gray-700/50"},W={key:0,class:"animate-spin mb-2"},X={key:1,class:"text-gray-400 group-hover:text-blue-500 transition-colors mb-2"},ee={__name:"TaskStats",props:{task:Object,loading:Boolean,canUpload:Boolean},emits:["updateProgress","uploadFiles","deleteFile"],setup(r,{emit:C}){const j=r,B=C,F=s=>B("uploadFiles",s.target.files),u=s=>{if(!s)return"‚Äî";const t=new Date(s);return isNaN(t.getTime())?s:new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"}).format(t)},M=V(()=>{var t;const s=((t=j.task)==null?void 0:t.progress)||0;return s<30?"bg-gray-400":s<70?"bg-blue-500":"bg-emerald-500"}),z=s=>{if(!s)return"üìé";const t=s.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(t)?"üñºÔ∏è":["pdf"].includes(t)?"üìï":["doc","docx","txt"].includes(t)?"üìÑ":["xls","xlsx","csv"].includes(t)?"üìä":["zip","rar"].includes(t)?"üì¶":"üìé"};return(s,t)=>{var x,b,m,k,p,f,y;return a(),l("div",N,[e("div",U,[e("div",$,[t[3]||(t[3]=e("h3",{class:"font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),i(" –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ ")],-1)),e("div",D,[e("div",L,[t[0]||(t[0]=e("span",{class:"text-xs text-gray-400 uppercase font-bold tracking-wider mb-1"},"–ù–∞—á–∞–ª–æ",-1)),e("span",T,n(u((x=r.task)==null?void 0:x.start_date)),1)]),t[2]||(t[2]=e("div",{class:"text-gray-300 dark:text-gray-500 px-2"},[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})])],-1)),e("div",H,[t[1]||(t[1]=e("span",{class:"text-xs text-rose-400 uppercase font-bold tracking-wider mb-1"},"–°—Ä–æ–∫",-1)),e("span",{class:g(["text-sm sm:text-base font-medium text-gray-900 dark:text-white whitespace-nowrap",{"text-rose-500":!((b=r.task)!=null&&b.completed)}])},n(u((m=r.task)==null?void 0:m.due_date)),3)])])]),e("div",_,[e("div",A,[t[4]||(t[4]=e("h3",{class:"font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})]),i(" –ü—Ä–æ–≥—Ä–µ—Å—Å ")],-1)),e("span",{class:g(["text-2xl font-black transition-colors duration-300",(((k=r.task)==null?void 0:k.progress)||0)===100?"text-emerald-500":"text-blue-600"])},n(((p=r.task)==null?void 0:p.progress)||0)+"% ",3)]),e("div",E,[(a(),l(v,null,w(11,o=>{var d,h;return e("button",{key:o,onClick:Y=>s.$emit("updateProgress",(o-1)*10),class:g(["flex-1 rounded-md transition-all duration-300 relative group overflow-hidden",[(((d=r.task)==null?void 0:d.progress)||0)>=(o-1)*10?M.value:"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600",(((h=r.task)==null?void 0:h.progress)||0)===(o-1)*10?"ring-2 ring-offset-2 ring-blue-400 dark:ring-offset-gray-800 z-10 scale-110":""]])},null,10,I)}),64))]),t[5]||(t[5]=e("div",{class:"flex justify-between mt-2 text-xs text-gray-400 font-medium px-1"},[e("span",null,"0%"),e("span",null,"50%"),e("span",null,"100%")],-1))])]),e("div",P,[t[10]||(t[10]=e("h3",{class:"font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2"},[e("span",{class:"text-xl"},"üìé"),i(" –í–ª–æ–∂–µ–Ω–∏—è ")],-1)),(y=(f=r.task)==null?void 0:f.files)!=null&&y.length?(a(),l("div",q,[(a(!0),l(v,null,w(r.task.files,o=>(a(),l("div",{key:o.id,class:"group relative aspect-square bg-gray-50 dark:bg-gray-700/50 rounded-2xl border border-gray-100 dark:border-gray-700 flex flex-col items-center justify-center p-4 transition hover:shadow-md hover:border-blue-200 dark:hover:border-blue-500/30"},[r.canUpload?(a(),l("button",{key:0,onClick:d=>s.$emit("deleteFile",o.id),class:"absolute top-2 right-2 p-1.5 rounded-full bg-white dark:bg-gray-800 text-gray-400 hover:text-rose-500 shadow-sm opacity-0 group-hover:opacity-100 transition-all transform hover:scale-110",title:"–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª"},t[6]||(t[6]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,O)):c("",!0),e("div",R,n(z(o.file_name)),1),e("a",{href:`/api/tasks/files/${o.id}`,target:"_blank",class:"text-xs text-center font-medium text-gray-600 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 line-clamp-2 break-all stretched-link"},n(o.file_name),9,G)]))),128))])):r.canUpload?c("",!0):(a(),l("div",J," –ù–µ—Ç –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ ")),r.canUpload?(a(),l("div",K,[e("input",{type:"file",multiple:"",onChange:F,class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",disabled:r.loading},null,40,Q),e("div",S,[r.loading?(a(),l("div",W,t[7]||(t[7]=[e("svg",{class:"w-8 h-8 text-blue-500",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):(a(),l("div",X,t[8]||(t[8]=[e("svg",{class:"w-10 h-10 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)]))),t[9]||(t[9]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-300"},[e("span",{class:"text-blue-600 hover:underline"},"–ù–∞–∂–º–∏—Ç–µ"),i(" –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å—é–¥–∞ ")],-1))])])):c("",!0)])])}}};export{ee as default};
