import{r as f,w as c,o as r,c as n,a as t,t as i,d as b,g as k,h as d,v as u,F as y,e as w,i as h}from"./app-f9f3ca95.js";const C={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},S={class:"relative w-full max-w-lg bg-white dark:bg-slate-800 rounded-3xl shadow-2xl p-8 transform transition-all"},U={class:"flex items-center justify-between mb-6"},V={key:0,class:"mb-4 p-3 rounded-xl bg-rose-50 text-rose-600 text-sm font-medium border border-rose-100"},$={class:"max-h-32 overflow-y-auto p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 space-y-2"},B=["value"],M={class:"text-sm text-slate-700 dark:text-slate-200"},j={class:"grid grid-cols-2 gap-4"},q={class:"pt-4 flex justify-end gap-3"},D=["disabled"],N={__name:"CreateProjectModal",props:{show:Boolean,managers:Array,loading:Boolean,error:String,currentUserId:Number},emits:["close","submit"],setup(o,{emit:m}){const g=o,x=m,l=f({name:"",manager_ids:[],start_date:new Date().toISOString().slice(0,10),duration_days:""});c(()=>g.show,a=>{a&&l.value.name});const v=()=>x("submit",l.value);return(a,e)=>o.show?(r(),n("div",C,[t("div",{class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:e[0]||(e[0]=s=>a.$emit("close"))}),t("div",S,[t("div",U,[e[7]||(e[7]=t("h3",{class:"text-2xl font-bold text-slate-800 dark:text-white"},"Новый проект",-1)),t("button",{onClick:e[1]||(e[1]=s=>a.$emit("close")),class:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition"},"✕")]),o.error?(r(),n("p",V,i(o.error),1)):b("",!0),t("form",{onSubmit:k(v,["prevent"]),class:"space-y-5"},[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2"},"Название",-1)),d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.name=s),required:"",placeholder:"Например: CRM Система",class:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none transition"},null,512),[[u,l.value.name]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2"},"Руководители",-1)),t("div",$,[(r(!0),n(y,null,w(o.managers,s=>(r(),n("label",{key:s.id,class:"flex items-center gap-3 cursor-pointer p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg"},[d(t("input",{type:"checkbox",value:s.id,"onUpdate:modelValue":e[3]||(e[3]=p=>l.value.manager_ids=p),class:"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500 border-gray-300"},null,8,B),[[h,l.value.manager_ids]]),t("span",M,i(s.id===o.currentUserId?"Я":s.name),1)]))),128))])]),t("div",j,[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2"},"Дата старта",-1)),d(t("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=s=>l.value.start_date=s),required:"",class:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:ring-indigo-500 outline-none"},null,512),[[u,l.value.start_date]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2"},"Дней",-1)),d(t("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=s=>l.value.duration_days=s),required:"",min:"1",placeholder:"30",class:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:ring-indigo-500 outline-none"},null,512),[[u,l.value.duration_days]])])]),t("div",q,[t("button",{type:"button",onClick:e[6]||(e[6]=s=>a.$emit("close")),class:"px-5 py-3 rounded-xl text-slate-600 hover:bg-slate-100 font-medium transition"},"Отмена"),t("button",{type:"submit",disabled:o.loading,class:"px-6 py-3 rounded-xl bg-indigo-600 text-white font-bold shadow-lg shadow-indigo-200 hover:bg-indigo-700 hover:shadow-xl transition disabled:opacity-70"},i(o.loading?"Создание...":"Создать проект"),9,D)])],32)])])):b("",!0)}};export{N as default};
