import{h as m,c as p,o as a,a as r,b as t,f as v,F as f,d as g,t as n,g as h,H as w,u as j,N as C,J as B}from"./app-c38d94e2.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";const P={class:"space-y-6"},I={class:"card"},V={class:"project-list"},A={class:"company-section",style:{padding:"12px 16px 4px 16px"}},O={style:{"font-size":"11px","font-weight":"800","letter-spacing":"0.5px","text-transform":"uppercase",color:"#9c4dff",display:"flex","justify-content":"space-between",margin:"0"}},R={style:{opacity:"0.5"}},T=["onClick"],U={class:"project-info"},E={style:{display:"flex",gap:"8px","font-size":"11px"}},H={title:"Ð”Ð°Ñ‚Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ"},J={class:"project-progress"},q={style:{display:"flex","align-items":"center",gap:"8px"}},G={style:{"font-size":"12px",background:"#f1e6ff",padding:"2px 8px","border-radius":"12px",color:"#9c4dff","font-weight":"bold"}},K={key:0,style:{"margin-top":"16px","text-align":"center"}},Q={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},W={class:"relative bg-white dark:bg-slate-900 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl border border-slate-200 dark:border-slate-700 overflow-hidden"},X={class:"p-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-white dark:bg-slate-900 z-10"},Y={class:"text-sm text-slate-500"},Z={class:"px-6 py-4 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-800 overflow-x-auto custom-scrollbar"},tt={class:"flex gap-2"},et=["onClick"],st={class:"p-6 overflow-y-auto custom-scrollbar space-y-8"},ot={key:0,class:"text-center py-10 text-slate-400"},lt={class:"text-sm font-black uppercase tracking-widest text-indigo-500 mb-4 sticky top-0 bg-white/90 dark:bg-slate-900/90 backdrop-blur py-2 z-10"},at={class:"text-slate-400 ml-2"},rt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},nt=["onClick"],it={class:"font-bold text-slate-800 dark:text-white line-clamp-2"},dt={class:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400 mt-2"},ct={class:"flex flex-col"},ut={class:"bg-indigo-50 dark:bg-slate-700 text-indigo-600 dark:text-indigo-300 px-2 py-1 rounded-lg font-bold"},$=4,pt={__name:"ProjectsSummary",props:["projects"],setup(z){const c=z,x=m(!1),d=m("all"),D=l=>l?new Date(l).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"â€”",_=(l,e)=>{if(!l||!e)return"â€”";const s=new Date(l);return s.setDate(s.getDate()+e),s.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})},b=l=>l.reduce((e,s)=>{var o;const i=((o=s.company)==null?void 0:o.name)||"Ð‘ÐµÐ· ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸";return e[i]||(e[i]=[]),e[i].push(s),e},{}),L=p(()=>c.projects.slice(0,$)),S=p(()=>b(L.value)),y=p(()=>Math.max(0,c.projects.length-$)),M=p(()=>{const l=new Set(c.projects.map(e=>{var s;return((s=e.company)==null?void 0:s.name)||"Ð‘ÐµÐ· ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸"}));return Array.from(l).sort()}),k=p(()=>{let l=c.projects;return d.value!=="all"&&(l=l.filter(e=>{var s;return(((s=e.company)==null?void 0:s.name)||"Ð‘ÐµÐ· ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸")===d.value})),b(l)});return(l,e)=>(a(),r("div",P,[t("div",I,[e[6]||(e[6]=t("div",{class:"card-header"},[t("h3",null,[t("i",{class:"fas fa-tasks",style:{"margin-right":"8px",color:"#9c4dff"}}),v(" ÐŸÑ€Ð¾ÐµÐºÑ‚Ñ‹ Ð¿Ð¾Ð´ Ð¼Ð¾Ð¸Ð¼ ÑƒÐ¼Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸ÐµÐ¼")]),t("i",{class:"fas fa-ellipsis-h"})],-1)),t("div",V,[(a(!0),r(f,null,g(S.value,(s,i)=>(a(),r("div",{key:i},[t("div",A,[t("p",O,[t("span",null,"ÐšÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ñ: "+n(i),1),t("span",R,n(s.length)+" Ð¿Ð¾ÐºÐ°Ð·Ð°Ð½Ð¾",1)])]),(a(!0),r(f,null,g(s,o=>{var u;return a(),r("div",{key:o.id,class:"project-item",onClick:N=>j(C).visit(`/projects/${o.id}`),style:{cursor:"pointer"}},[e[4]||(e[4]=t("div",{class:"company-avatar",style:{background:"#f1e6ff",color:"#9c4dff"}}," ðŸŒ ",-1)),t("div",U,[t("h4",null,n(o.name),1),t("p",E,[t("span",H,"ðŸ“… "+n(D(o.created_at)),1),t("span",{title:"Ð”ÐµÐ´Ð»Ð°Ð¹Ð½",style:B({color:o.duration_days?"inherit":"#f43f5e"})}," ðŸ "+n(_(o.start_date,o.duration_days)),5)])]),t("div",J,[t("div",q,[t("span",G," ðŸ“ "+n(o.tasks_count||((u=o.tasks)==null?void 0:u.length)||0),1)])])],8,T)}),128))]))),128))]),y.value>0?(a(),r("div",K,[t("span",{style:{color:"#9c4dff","font-weight":"500",cursor:"pointer"},onClick:e[0]||(e[0]=s=>x.value=!0)},[v(" + Ð’ÑÐµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹ ("+n(y.value)+") ",1),e[5]||(e[5]=t("i",{class:"fas fa-arrow-right"},null,-1))])])):h("",!0)]),x.value?(a(),r("div",Q,[t("div",{class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:e[1]||(e[1]=s=>x.value=!1)}),t("div",W,[t("div",X,[t("div",null,[e[7]||(e[7]=t("h2",{class:"text-2xl font-bold text-slate-800 dark:text-white"},"Ð’ÑÐµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹",-1)),t("p",Y,"Ð’ÑÐµÐ³Ð¾: "+n(c.projects.length),1)]),t("button",{onClick:e[2]||(e[2]=s=>x.value=!1),class:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition"},e[8]||(e[8]=[t("svg",{class:"w-6 h-6 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",Z,[t("div",tt,[t("button",{onClick:e[3]||(e[3]=s=>d.value="all"),class:w(["px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wider transition whitespace-nowrap",d.value==="all"?"bg-indigo-600 text-white shadow-md shadow-indigo-500/30":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-indigo-50 dark:hover:bg-slate-700"])}," Ð’ÑÐµ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸ ",2),(a(!0),r(f,null,g(M.value,s=>(a(),r("button",{key:s,onClick:i=>d.value=s,class:w(["px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wider transition whitespace-nowrap",d.value===s?"bg-indigo-600 text-white shadow-md shadow-indigo-500/30":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-indigo-50 dark:hover:bg-slate-700"])},n(s),11,et))),128))])]),t("div",st,[Object.keys(k.value).length===0?(a(),r("div",ot," ÐŸÑ€Ð¾ÐµÐºÑ‚Ñ‹ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ‹ ")):h("",!0),(a(!0),r(f,null,g(k.value,(s,i)=>(a(),r("div",{key:i},[t("h4",lt,[v(n(i)+" ",1),t("span",at,"("+n(s.length)+")",1)]),t("div",rt,[(a(!0),r(f,null,g(s,o=>{var u;return a(),r("div",{key:o.id,onClick:N=>j(C).visit(`/projects/${o.id}`),class:"group relative p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl hover:border-indigo-400 hover:shadow-lg transition cursor-pointer flex flex-col justify-between h-32"},[t("div",null,[t("h5",it,n(o.name),1)]),t("div",dt,[t("div",ct,[e[9]||(e[9]=t("span",{class:"text-[10px] uppercase font-bold text-slate-400"},"Ð”ÐµÐ´Ð»Ð°Ð¹Ð½",-1)),t("span",null,n(_(o.start_date,o.duration_days)),1)]),t("div",ut,n(o.tasks_count||((u=o.tasks)==null?void 0:u.length)||0)+" Ð·Ð°Ð´Ð°Ñ‡ ",1)])],8,nt)}),128))])]))),128))])])])):h("",!0)]))}},xt=F(pt,[["__scopeId","data-v-ff456154"]]);export{xt as default};
