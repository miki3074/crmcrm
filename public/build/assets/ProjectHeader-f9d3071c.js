import{h as C,o as l,a as d,b as t,f as k,t as a,g as i,L as v,H,F as p,d as h,m as D,M as z,O as N}from"./app-6e35b499.js";const L={class:"space-y-10 animate-fade-in text-slate-900 dark:text-slate-100 font-sans"},$={class:"flex flex-col gap-6 md:flex-row md:items-start md:justify-between border-b border-slate-200 dark:border-slate-800 pb-8"},E={class:"space-y-2"},S={class:"flex items-center gap-3"},F={key:0,class:"flex items-center gap-1.5 text-sm font-medium text-slate-500 dark:text-slate-400"},P={class:"text-4xl font-extrabold tracking-tight text-slate-900 dark:text-white leading-tight"},T={key:0,class:"self-start md:self-center"},U={class:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-semibold bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700"},I={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},O={class:"group p-5 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 hover:border-indigo-300 dark:hover:border-indigo-700 transition-colors"},R={class:"text-xl font-bold text-slate-800 dark:text-slate-100 pl-1"},q={class:"text-xl font-bold"},A={key:0},G={key:1},J={class:"group p-5 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 hover:border-slate-300 transition-colors"},K={class:"text-xl font-bold text-slate-800 dark:text-slate-100 pl-1"},Q={class:"grid md:grid-cols-2 gap-10"},W={key:0},X={class:"flex flex-col gap-3"},Y={class:"w-10 h-10 rounded-full bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-600 flex items-center justify-center text-sm font-bold"},Z={class:"font-bold text-slate-800 dark:text-slate-200 text-sm"},tt={key:1},et={class:"flex flex-wrap gap-4"},st={class:"w-8 h-8 rounded-full bg-teal-50 text-teal-700 dark:bg-teal-900/30 dark:text-teal-300 flex items-center justify-center text-xs font-bold border border-teal-100 dark:border-teal-800"},at={class:"text-sm text-slate-600 dark:text-slate-400 font-medium"},rt={key:0},ot={class:"text-lg font-bold text-slate-900 dark:text-white mb-5 flex items-center gap-2"},lt={class:"bg-slate-100 dark:bg-slate-800 text-slate-500 text-xs px-2 py-1 rounded-full"},dt={class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-5"},nt=["onClick"],it={class:"font-bold text-slate-900 dark:text-white truncate pr-2"},ct={class:"text-sm text-slate-500 mt-1 truncate"},xt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},bt={class:"relative w-full max-w-md bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-800 overflow-hidden"},gt={class:"px-6 py-6 border-b border-slate-100 dark:border-slate-800 flex items-center gap-4"},ut={class:"text-lg font-bold text-slate-900 dark:text-white leading-tight"},mt={class:"text-sm text-slate-500"},kt={class:"p-6 space-y-5"},vt={class:"grid grid-cols-1 gap-4"},pt={class:"p-3 rounded-lg border border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/30"},ht={class:"text-sm font-medium text-slate-800 dark:text-slate-200 select-all"},ft={class:"p-3 rounded-lg border border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/30"},wt={class:"text-sm font-medium text-slate-800 dark:text-slate-200 select-all"},yt={key:0},jt={class:"mt-2 text-sm text-slate-600 dark:text-slate-400 leading-relaxed p-3 bg-white dark:bg-slate-950 border border-slate-100 dark:border-slate-800 rounded-lg"},_t={class:"p-4 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-100 dark:border-slate-800"},Mt={__name:"ProjectHeader",props:["project"],setup(s){const c=C(!1),n=C(null),g=(r,e)=>{if(!r||!e)return null;const x=new Date(r),b=new Date(x);return b.setDate(x.getDate()+Number(e)),Math.ceil((b-new Date)/(1e3*60*60*24))},M=r=>r===null?"bg-slate-50 text-slate-600 border-slate-200":r>7?"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":r>=0?"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800":"bg-rose-50 text-rose-700 border-rose-200 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800",V=r=>r?new Date(r).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}):"—",f=r=>(r==null?void 0:r.split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase())||"?",B=r=>{n.value=r,c.value=!0};return(r,e)=>{var x,b,u;return l(),d("div",L,[t("div",$,[t("div",E,[t("div",S,[e[4]||(e[4]=t("div",{class:"px-2 py-1 rounded text-[10px] font-bold uppercase tracking-widest bg-slate-100 text-slate-500 dark:bg-slate-800 dark:text-slate-400"}," Проект ",-1)),s.project.company?(l(),d("div",F,[e[3]||(e[3]=t("svg",{class:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),k(" "+a(s.project.company.name),1)])):i("",!0)]),t("h1",P,a(s.project.name),1)]),s.project.status?(l(),d("div",T,[t("span",U,[e[5]||(e[5]=t("span",{class:"w-2 h-2 rounded-full bg-slate-400 mr-2"},null,-1)),k(" "+a(s.project.status),1)])])):i("",!0)]),t("div",I,[t("div",O,[e[6]||(e[6]=v('<div class="flex items-center gap-3 mb-2"><div class="p-2 rounded-lg bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><span class="text-xs font-bold uppercase tracking-wider text-slate-400">Старт</span></div>',1)),t("div",R,a(V(s.project.start_date)),1)]),t("div",{class:H(["p-5 rounded-2xl border transition-colors flex flex-col justify-center",M(g(s.project.start_date,s.project.duration_days))])},[e[7]||(e[7]=t("div",{class:"flex items-center justify-between mb-1"},[t("span",{class:"text-xs font-bold uppercase tracking-wider opacity-70"},"Дедлайн"),t("svg",{class:"w-5 h-5 opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",q,[g(s.project.start_date,s.project.duration_days)!==null?(l(),d("span",A,a(g(s.project.start_date,s.project.duration_days))+" дн. ",1)):(l(),d("span",G,"—"))]),e[8]||(e[8]=t("div",{class:"text-xs opacity-70 font-medium mt-1"},"Осталось до завершения",-1))],2),t("div",J,[e[9]||(e[9]=v('<div class="flex items-center gap-3 mb-2"><div class="p-2 rounded-lg bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><span class="text-xs font-bold uppercase tracking-wider text-slate-400">Срок</span></div>',1)),t("div",K,a(s.project.duration_days??"—")+" дней ",1)])]),t("div",Q,[(x=s.project.managers)!=null&&x.length?(l(),d("div",W,[e[11]||(e[11]=t("h3",{class:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wider mb-4 border-l-4 border-indigo-500 pl-3"}," Руководители ",-1)),t("div",X,[(l(!0),d(p,null,h(s.project.managers,o=>(l(),d("div",{key:o.id,class:"flex items-center gap-4 p-3 rounded-xl bg-slate-50 dark:bg-slate-800/50 border border-transparent hover:border-slate-200 dark:hover:border-slate-700 transition-colors"},[t("div",Y,a(f(o.name)),1),t("div",null,[t("div",Z,a(o.name),1),e[10]||(e[10]=t("div",{class:"text-xs text-slate-500"},"Project Manager",-1))])]))),128))])])):i("",!0),(b=s.project.executors)!=null&&b.length?(l(),d("div",tt,[e[12]||(e[12]=t("h3",{class:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wider mb-4 border-l-4 border-teal-500 pl-3"}," Команда проекта ",-1)),t("div",et,[(l(!0),d(p,null,h(s.project.executors,o=>(l(),d("div",{key:o.id,class:"flex items-center gap-2"},[t("div",st,a(f(o.name)),1),t("span",at,a(o.name),1)]))),128))])])):i("",!0)]),(u=s.project.clients)!=null&&u.length?(l(),d("div",rt,[t("h3",ot,[e[13]||(e[13]=k(" Контрагенты ",-1)),t("span",lt,a(s.project.clients.length),1)]),t("div",dt,[(l(!0),d(p,null,h(s.project.clients,o=>(l(),d("div",{key:o.id,onClick:m=>B(o),class:"group cursor-pointer bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl p-5 hover:border-indigo-500 dark:hover:border-indigo-500 transition-all duration-300"},[e[14]||(e[14]=v('<div class="flex items-center justify-between mb-4"><div class="p-2.5 rounded-lg bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-400 group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-colors"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg></div><svg class="w-4 h-4 text-slate-300 group-hover:text-indigo-500 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg></div>',1)),t("h4",it,a(o.organization_name||o.name),1),t("p",ct,a(o.email||"Email скрыт"),1)],8,nt))),128))])])):i("",!0),D(N,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:z(()=>{var o,m,w,y,j;return[c.value?(l(),d("div",xt,[t("div",{class:"absolute inset-0 bg-slate-900/20 dark:bg-black/50 backdrop-blur-sm",onClick:e[0]||(e[0]=_=>c.value=!1)}),t("div",bt,[t("div",gt,[e[15]||(e[15]=t("div",{class:"w-12 h-12 rounded-xl bg-slate-50 dark:bg-slate-800 flex items-center justify-center text-slate-600 dark:text-slate-300"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1)),t("div",null,[t("h2",ut,a((o=n.value)==null?void 0:o.name),1),t("p",mt,a((m=n.value)==null?void 0:m.organization_name),1)]),t("button",{class:"ml-auto text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition",onClick:e[1]||(e[1]=_=>c.value=!1)},"✕")]),t("div",kt,[t("div",vt,[t("div",pt,[e[16]||(e[16]=t("span",{class:"text-xs font-bold text-slate-400 uppercase tracking-wide block mb-1"},"Email",-1)),t("span",ht,a(((w=n.value)==null?void 0:w.email)||"—"),1)]),t("div",ft,[e[17]||(e[17]=t("span",{class:"text-xs font-bold text-slate-400 uppercase tracking-wide block mb-1"},"Телефон",-1)),t("span",wt,a(((y=n.value)==null?void 0:y.phone)||"—"),1)])]),(j=n.value)!=null&&j.notes?(l(),d("div",yt,[e[18]||(e[18]=t("span",{class:"text-xs font-bold text-slate-400 uppercase tracking-wide"},"Заметки",-1)),t("p",jt,a(n.value.notes),1)])):i("",!0)]),t("div",_t,[t("button",{onClick:e[2]||(e[2]=_=>c.value=!1),class:"w-full py-2.5 rounded-lg bg-slate-900 hover:bg-slate-800 dark:bg-white dark:hover:bg-slate-100 text-white dark:text-slate-900 font-semibold text-sm transition shadow-sm"}," Закрыть ")])])])):i("",!0)]}),_:1})])}}};export{Mt as default};
