import{c as y,o as t,a as s,b as r,t as c,g as A,F as g,d as k,u as j,N}from"./app-2ace687b.js";const S={class:"p-6 rounded-3xl border border-slate-200 dark:border-slate-800 transition-all shadow-sm bg-white/70 dark:bg-slate-900/70 backdrop-blur-md"},B={class:"flex items-center justify-between mb-6"},C={key:0,class:"px-2 py-1 text-xs font-bold rounded-lg bg-slate-100 dark:bg-slate-800 text-slate-500"},F={key:0,class:"py-10 text-center text-slate-400 italic text-sm"},O={key:1,class:"space-y-8"},V={class:"space-y-6"},$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},D={class:"flex items-center gap-2 mb-3 pb-2 border-b border-slate-100 dark:border-slate-700/50"},E={class:"text-xs font-semibold text-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 px-2 py-0.5 rounded"},L=["title"],q={class:"space-y-2"},z=["onClick"],G={class:"flex items-center gap-2 overflow-hidden"},H={class:"text-sm text-slate-600 dark:text-slate-300 truncate font-medium group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors"},I={class:"text-[10px] text-slate-400 whitespace-nowrap ml-2"},K={__name:"SubtasksSection",props:{subtasks:{type:[Array,Object],default:()=>[]}},setup(h){const b=h,v=y(()=>{const u=b.subtasks;return u?Array.isArray(u)?u.reduce((e,d)=>{var p,l,i,m,x,_;const o=((i=(l=(p=d.task)==null?void 0:p.project)==null?void 0:l.company)==null?void 0:i.name)||"Без компании",a=((x=(m=d.task)==null?void 0:m.project)==null?void 0:x.name)||"Без проекта",n=((_=d.task)==null?void 0:_.title)||"Без задачи";return e[o]||(e[o]={}),e[o][a]||(e[o][a]={}),e[o][a][n]||(e[o][a][n]=[]),e[o][a][n].some(w=>w.id===d.id)||e[o][a][n].push(d),e},{}):u:{}}),f=y(()=>Array.isArray(b.subtasks)?b.subtasks.length>0:Object.keys(b.subtasks).length>0);return(u,e)=>(t(),s("div",S,[r("div",B,[Array.isArray(h.subtasks)?(t(),s("span",C,c(h.subtasks.length),1)):A("",!0)]),f.value?(t(),s("div",O,[(t(!0),s(g,null,k(v.value,(d,o)=>(t(),s("div",{key:o,class:"relative pl-4 border-l-2 border-indigo-200 dark:border-indigo-900/50"},[r("div",V,[(t(!0),s(g,null,k(d,(a,n)=>(t(),s("div",{key:n},[r("div",$,[(t(!0),s(g,null,k(a,(p,l)=>(t(),s("div",{key:l,class:"bg-white/50 dark:bg-slate-800/50 rounded-2xl p-4 border border-slate-100 dark:border-slate-700 hover:border-indigo-200 dark:hover:border-indigo-800 transition-colors"},[r("div",D,[r("span",E,c(n),1),r("span",{class:"text-sm font-bold text-slate-700 dark:text-slate-200 truncate",title:l}," ✅ "+c(l),9,L)]),r("div",q,[(t(!0),s(g,null,k(p,i=>(t(),s("div",{key:i.id,onClick:m=>j(N).visit(`/subtasks/${i.id}`),class:"group flex items-center justify-between p-2 rounded-xl bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-700 hover:shadow-md cursor-pointer transition-all"},[r("div",G,[e[0]||(e[0]=r("div",{class:"w-1.5 h-1.5 rounded-full bg-slate-300 group-hover:bg-indigo-500 transition-colors"},null,-1)),r("span",H,c(i.title),1)]),r("span",I,c(i.due_date||"—"),1)],8,z))),128))])]))),128))])]))),128))])]))),128))])):(t(),s("div",F," Подзадач пока нет "))]))}};export{K as default};
