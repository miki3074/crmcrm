import{Q as Be,m as n,k as j,p as De,o as a,f as r,a as ke,u as Ue,w as qe,F as y,l as b,Z as Fe,b as t,t as o,d as v,n as we,g,s as f,e as N,h as x,v as C,q as E}from"./app-ae673a70.js";import{_ as He}from"./AuthenticatedLayout-72adef68.js";import"./ApplicationLogo-f8b9f43f.js";import"./_plugin-vue_export-helper-c27b6911.js";const Te={class:"relative overflow-hidden"},Ne={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-white"},Ee={class:"flex items-start gap-4"},Le={class:"flex-1"},Ie={class:"text-2xl sm:text-3xl font-semibold"},Oe={class:"mt-2 flex flex-wrap items-center gap-2 text-sm"},Pe={class:"px-2 py-1 rounded-full bg-white/20"},Re={class:"px-2 py-1 rounded-full bg-white/20"},Ae={class:"px-2 py-1 rounded-full bg-white/20"},Qe={class:"px-2 py-1 rounded-full bg-white/20"},Ze={key:1,class:"px-2 py-1 rounded-full bg-white/20"},Ge={class:"flex items-center gap-2"},Je={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-4 pb-10",style:{"margin-top":"3%"}},Ke={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},We={class:"lg:col-span-2"},Xe={class:"rounded-2xl border bg-white dark:bg-gray-800 p-5"},Ye={class:"flex items-center justify-between mb-3"},et={class:"text-sm text-gray-500 dark:text-gray-400"},tt={key:0,class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},st={key:1,class:"text-center py-10"},lt={key:2,class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},at=["onClick"],rt={class:"flex items-start justify-between gap-3"},ot={class:"text-base font-semibold text-gray-900 dark:text-white leading-snug"},dt={class:"mt-2 text-sm text-gray-600 dark:text-gray-300 space-y-1.5"},it={class:"flex items-center gap-2"},nt={class:"flex items-center gap-2"},ut={class:"flex items-center gap-2"},gt={key:0,class:"mt-3 pt-3 border-t"},pt={class:"flex flex-wrap gap-2"},vt=["href"],xt={class:"space-y-4"},bt={class:"rounded-2xl border bg-white dark:bg-gray-800 p-5"},yt={class:"mt-3 space-y-2 text-sm text-gray-700 dark:text-gray-300"},mt={class:"flex justify-between"},ft={class:"font-medium text-gray-900 dark:text-white"},ct={class:"flex justify-between"},kt={class:"font-medium"},wt={class:"flex justify-between"},ht={class:"font-medium"},_t={class:"flex justify-between"},jt={class:"font-medium"},Ct={class:"flex justify-between"},$t={class:"font-medium"},zt={class:"mt-4"},Mt={class:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line"},Vt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8 pb-10"},St={key:0,class:"flex gap-2 items-center mb-6"},Bt=["value"],Dt=["disabled"],Ut={key:1,class:"text-red-600 mb-4"},qt={key:2,class:"space-y-3"},Ft={class:"flex justify-between items-center"},Ht=["href"],Tt={class:"text-sm text-gray-500 dark:text-gray-400"},Nt={class:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"},Et={key:3,class:"text-gray-500 dark:text-gray-400"},Lt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},It={class:"relative w-full max-w-lg bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6"},Ot={class:"flex items-center justify-between"},Pt={key:0,class:"mt-3 text-sm text-rose-600"},Rt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},At=["value"],Qt=["value"],Zt={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Gt={class:"flex justify-end gap-2 pt-2"},Jt=["disabled"],Kt={key:0},Wt={key:1},Xt={key:1,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Yt={class:"relative w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6"},es={class:"flex items-center justify-between"},ts={class:"flex justify-end gap-2"},ss={key:2,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},ls={class:"relative w-full max-w-xl bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6"},as={class:"flex items-center justify-between"},rs={class:"flex justify-end gap-2"},gs={__name:"Show",setup(os){var J,K;const{props:L}=Be(),m=L.id,I=n(!0),d=n(null),$=n([]),c=n(!1),k=n(!1),w=n(!1),S=n(!1),z=n(""),B=n({budget:""}),D=n({description:""}),i=n({title:"",executor_id:"",responsible_id:"",priority:"low",start_date:new Date().toISOString().slice(0,10),due_date:"",files:null}),he=((J=L.auth)==null?void 0:J.roles)||[],h=(K=L.auth)==null?void 0:K.user,U=j(()=>he.includes("admin")),q=j(()=>{var l,e;return((e=(l=d.value)==null?void 0:l.company)==null?void 0:e.user_id)===(h==null?void 0:h.id)}),O=j(()=>{var l;return((l=d.value)==null?void 0:l.manager_id)===(h==null?void 0:h.id)}),P=j(()=>U.value||q.value||O.value),A=j(()=>U.value||q.value),Q=j(()=>U.value||q.value||O.value),Z=(l,e)=>{if(!l||!e)return"—";const p=new Date(l),u=new Date(p);return u.setDate(p.getDate()+Number(e)),Math.ceil((u-new Date)/(1e3*60*60*24))},_e=l=>l==="—"?"bg-gray-100 text-gray-600 ring-1 ring-gray-200":l>7?"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200":l>=0?"bg-amber-100 text-amber-700 ring-1 ring-amber-200":"bg-rose-100 text-rose-700 ring-1 ring-rose-200",je=l=>l==="high"?"bg-rose-100 text-rose-700 ring-1 ring-rose-200":l==="medium"?"bg-amber-100 text-amber-700 ring-1 ring-amber-200":"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200",M=async()=>{I.value=!0;try{const{data:l}=await b.get(`/api/projects/${m}`);d.value=l,B.value.budget=(l==null?void 0:l.budget)??"",D.value.description=(l==null?void 0:l.description)??"";const e=await b.get(`/api/projects/${m}/employees`);$.value=e.data}finally{I.value=!1}},Ce=async()=>{const{data:l}=await b.get(`/api/projects/${m}/employees`);$.value=l},G=async()=>{if(!P.value)return alert("Недостаточно прав для создания задачи.");z.value="",await Ce(),c.value=!0},$e=l=>{i.value.files=l.target.files},ze=async()=>{var e,p;z.value="",S.value=!0;const l=new FormData;if(l.append("title",i.value.title),l.append("executor_id",i.value.executor_id),l.append("responsible_id",i.value.responsible_id),l.append("priority",i.value.priority),l.append("start_date",i.value.start_date),l.append("due_date",i.value.due_date),l.append("project_id",m),l.append("company_id",d.value.company.id),i.value.files)for(let u=0;u<i.value.files.length;u++)l.append("files[]",i.value.files[u]);try{await b.get("/sanctum/csrf-cookie"),await b.post("/api/tasks",l,{headers:{"Content-Type":"multipart/form-data"}}),c.value=!1,i.value={title:"",executor_id:"",responsible_id:"",priority:"low",start_date:new Date().toISOString().slice(0,10),due_date:"",files:null},await M()}catch(u){z.value=((p=(e=u==null?void 0:u.response)==null?void 0:e.data)==null?void 0:p.message)||"Не удалось создать задачу"}finally{S.value=!1}},Me=async()=>{await b.patch(`/api/projects/${m}/budget`,{budget:B.value.budget}),k.value=!1,await M()},Ve=async()=>{await b.patch(`/api/projects/${m}/description`,{description:D.value.description}),w.value=!1,await M()},_=n({title:"",responsible_id:null}),F=n(!1),H=n(""),Se=async()=>{var l,e;H.value="",F.value=!0;try{await b.get("/sanctum/csrf-cookie"),await b.post(`/api/projects/${m}/subprojects`,_.value),_.value={title:"",responsible_id:null},await M()}catch(p){H.value=((e=(l=p==null?void 0:p.response)==null?void 0:l.data)==null?void 0:e.message)||"Не удалось создать подпроект"}finally{F.value=!1}};return De(M),(l,e)=>{var p;return a(),r(y,null,[ke(Ue(Fe),{title:(p=d.value)!=null&&p.name?`Проект — ${d.value.name}`:"Проект"},null,8,["title"]),ke(He,null,{default:qe(()=>{var u,R,W,X,Y,ee,te,se,le,ae,re,oe,de,ie,ne,ue,ge,pe,ve,xe,be,ye;return[t("div",Te,[e[30]||(e[30]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-fuchsia-600 opacity-90"},null,-1)),t("div",Ne,[t("div",Ee,[t("div",Le,[t("h1",Ie,o(((u=d.value)==null?void 0:u.name)??"Загрузка…"),1),t("div",Oe,[t("span",Pe,[e[22]||(e[22]=v(" Компания: ",-1)),t("b",null,o(((W=(R=d.value)==null?void 0:R.company)==null?void 0:W.name)??"—"),1)]),t("span",Re,[e[23]||(e[23]=v(" Руководитель: ",-1)),t("b",null,o(((Y=(X=d.value)==null?void 0:X.manager)==null?void 0:Y.name)??"—"),1)]),t("span",Ae,[e[24]||(e[24]=v(" Старт: ",-1)),t("b",null,o(((ee=d.value)==null?void 0:ee.start_date)??"—"),1)]),t("span",Qe,[e[25]||(e[25]=v(" Длительность: ",-1)),t("b",null,o(((te=d.value)==null?void 0:te.duration_days)??"—"),1),e[26]||(e[26]=v(" дн. ",-1))]),d.value?(a(),r("span",{key:0,class:we(["px-2 py-1 rounded-full bg-white text-gray-900",_e(Z(d.value.start_date,d.value.duration_days))])},[e[27]||(e[27]=v(" Осталось: ",-1)),t("b",null,o(Z(d.value.start_date,d.value.duration_days)),1),e[28]||(e[28]=v(" дн. ",-1))],2)):g("",!0),(se=d.value)!=null&&se.budget?(a(),r("span",Ze,[e[29]||(e[29]=v(" Бюджет: ",-1)),t("b",null,o(Number(d.value.budget).toLocaleString("ru-RU"))+" ₽",1)])):g("",!0)])]),t("div",Ge,[A.value?(a(),r("button",{key:0,onClick:e[0]||(e[0]=s=>k.value=!0),class:"rounded-xl bg-amber-400/90 hover:bg-amber-400 text-gray-900 px-4 py-2 font-medium"}," Бюджет ")):g("",!0),Q.value?(a(),r("button",{key:1,onClick:e[1]||(e[1]=s=>w.value=!0),class:"rounded-xl bg-white text-gray-900 hover:bg-white/90 px-4 py-2 font-medium"}," Описание ")):g("",!0),P.value?(a(),r("button",{key:2,onClick:G,class:"rounded-xl bg-emerald-400/95 hover:bg-emerald-400 text-gray-900 px-4 py-2 font-medium"}," + Задача ")):g("",!0)])])])]),t("div",Je,[t("div",Ke,[t("div",We,[t("div",Xe,[t("div",Ye,[e[31]||(e[31]=t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Задачи проекта",-1)),t("div",et," Всего: "+o(((ae=(le=d.value)==null?void 0:le.tasks)==null?void 0:ae.length)||0),1)]),I.value?(a(),r("div",tt,[(a(),r(y,null,f(4,s=>t("div",{key:s,class:"rounded-xl border p-4 animate-pulse"},e[32]||(e[32]=[t("div",{class:"h-4 w-1/2 bg-gray-200 dark:bg-gray-700 rounded mb-3"},null,-1),t("div",{class:"h-3 w-2/3 bg-gray-200 dark:bg-gray-700 rounded mb-2"},null,-1),t("div",{class:"h-3 w-1/2 bg-gray-200 dark:bg-gray-700 rounded"},null,-1)]))),64))])):(oe=(re=d.value)==null?void 0:re.tasks)!=null&&oe.length?(a(),r("div",lt,[(a(!0),r(y,null,f(d.value.tasks,s=>{var V,me,fe,ce;return a(),r("div",{key:s.id,class:"group rounded-xl border p-4 bg-white dark:bg-gray-800 hover:shadow-md transition cursor-pointer",onClick:T=>l.$inertia.visit(`/tasks/${s.id}`)},[t("div",rt,[t("h3",ot,o(s.title),1),t("span",{class:we(["px-2 py-1 text-xs rounded-full ring-1",je(s.priority)])},o(s.priority==="high"?"Высокая":s.priority==="medium"?"Средняя":"Обычная"),3)]),t("div",dt,[t("div",it,[e[35]||(e[35]=t("svg",{class:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M7 11h5V6H7v5zm0 7h5v-5H7v5zm7 0h5v-5h-5v5zM14 6v5h5V6h-5z"})],-1)),t("span",null,"С "+o(s.start_date)+" по "+o(s.due_date),1)]),t("div",nt,[e[38]||(e[38]=t("svg",{class:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M12 12c2.2 0 4-1.79 4-4s-1.8-4-4-4-4 1.79-4 4 1.8 4 4 4zm0 2c-3.33 0-10 1.67-10 5v3h20v-3c0-3.33-6.67-5-10-5z"})],-1)),t("span",null,[e[36]||(e[36]=v("От: ",-1)),t("b",null,o(((V=s.creator)==null?void 0:V.name)??"—"),1),e[37]||(e[37]=v(" → Кому: ",-1)),t("b",null,o(((me=s.executor)==null?void 0:me.name)??"—"),1)])]),t("div",ut,[e[40]||(e[40]=t("svg",{class:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M12 2l4 7H8l4-7zm0 20l-4-7h8l-4 7zM2 12l7-4v8l-7-4zm20 0l-7 4V8l7 4z"})],-1)),t("span",null,[e[39]||(e[39]=v("Ответственный: ",-1)),t("b",null,o(((fe=s.responsible)==null?void 0:fe.name)??"—"),1)])])]),(ce=s.files)!=null&&ce.length?(a(),r("div",gt,[e[42]||(e[42]=t("div",{class:"text-xs font-medium text-gray-500 mb-1"},"Файлы:",-1)),t("div",pt,[(a(!0),r(y,null,f(s.files,T=>(a(),r("a",{key:T.id,href:`/storage/${T.file_path}`,target:"_blank",class:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-100",onClick:e[2]||(e[2]=N(()=>{},["stop"]))},[e[41]||(e[41]=t("svg",{class:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12V8l-4-6zM6 22V4h7v5h5v13H6z"})],-1)),v(" "+o(T.file_path.split("/").pop()),1)],8,vt))),128))])])):g("",!0)],8,at)}),128))])):(a(),r("div",st,[e[33]||(e[33]=t("div",{class:"mx-auto w-14 h-14 rounded-2xl bg-gray-100 dark:bg-gray-700 flex items-center justify-center"},[t("svg",{class:"w-6 h-6 text-gray-500 dark:text-gray-300",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M7 11h10v2H7zM7 7h10v2H7zM7 15h7v2H7z"})])],-1)),e[34]||(e[34]=t("p",{class:"mt-3 text-gray-700 dark:text-gray-300"},"Задач пока нет.",-1)),P.value?(a(),r("button",{key:0,onClick:G,class:"mt-4 rounded-xl bg-indigo-600 text-white px-4 py-2 hover:bg-indigo-700"}," Создать задачу ")):g("",!0)]))])]),t("div",xt,[t("div",bt,[e[49]||(e[49]=t("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Кратко о проекте",-1)),t("dl",yt,[t("div",mt,[e[43]||(e[43]=t("dt",null,"Компания",-1)),t("dd",ft,o(((ie=(de=d.value)==null?void 0:de.company)==null?void 0:ie.name)??"—"),1)]),t("div",ct,[e[44]||(e[44]=t("dt",null,"Инициатор",-1)),t("dd",kt,o(((ue=(ne=d.value)==null?void 0:ne.initiator)==null?void 0:ue.name)??"—"),1)]),t("div",wt,[e[45]||(e[45]=t("dt",null,"Старт",-1)),t("dd",ht,o(((ge=d.value)==null?void 0:ge.start_date)??"—"),1)]),t("div",_t,[e[46]||(e[46]=t("dt",null,"Длительность",-1)),t("dd",jt,o(((pe=d.value)==null?void 0:pe.duration_days)??"—")+" дн.",1)]),t("div",Ct,[e[47]||(e[47]=t("dt",null,"Бюджет",-1)),t("dd",$t,o((ve=d.value)!=null&&ve.budget?Number(d.value.budget).toLocaleString("ru-RU")+" ₽":"—"),1)])]),t("div",zt,[e[48]||(e[48]=t("div",{class:"text-xs font-semibold text-gray-500 mb-1"},"Описание",-1)),t("p",Mt,o(((xe=d.value)==null?void 0:xe.description)||"Описание не задано."),1)])])])])]),t("div",Vt,[e[51]||(e[51]=t("h2",{class:"text-lg font-bold mb-4",style:{color:"aliceblue"}},"Подпроекты",-1)),U.value||q.value||O.value?(a(),r("div",St,[x(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>_.value.title=s),type:"text",placeholder:"Название подпроекта",class:"border p-2 rounded flex-1 dark:bg-gray-800 dark:text-white"},null,512),[[C,_.value.title]]),x(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>_.value.responsible_id=s),class:"border p-2 rounded dark:bg-gray-800 dark:text-white"},[e[50]||(e[50]=t("option",{value:null},"--Без ответственного--",-1)),(a(!0),r(y,null,f($.value,s=>(a(),r("option",{key:s.id,value:s.id},o(s.name),9,Bt))),128))],512),[[E,_.value.responsible_id]]),t("button",{onClick:Se,disabled:F.value,class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},o(F.value?"Создаём...":"Добавить подпроект"),9,Dt)])):g("",!0),H.value?(a(),r("p",Ut,o(H.value),1)):g("",!0),(ye=(be=d.value)==null?void 0:be.subprojects)!=null&&ye.length?(a(),r("ul",qt,[(a(!0),r(y,null,f(d.value.subprojects,s=>{var V;return a(),r("li",{key:s.id,class:"p-4 border rounded bg-white dark:bg-gray-800 shadow"},[t("div",Ft,[t("div",null,[t("a",{href:`/subprojects/${s.id}`,class:"text-blue-600 underline font-medium"},o(s.title),9,Ht),t("p",Tt," Ответственный: "+o(((V=s.responsible)==null?void 0:V.name)??"не назначен"),1)]),t("span",Nt,o(s.tasks_count??0)+" задач ",1)])])}),128))])):(a(),r("p",Et,"Подпроектов пока нет"))]),c.value?(a(),r("div",Lt,[t("div",{class:"absolute inset-0 bg-black/50",onClick:e[5]||(e[5]=s=>c.value=!1)}),t("div",It,[t("div",Ot,[e[52]||(e[52]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Создание задачи",-1)),t("button",{onClick:e[6]||(e[6]=s=>c.value=!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},"✕")]),z.value?(a(),r("p",Pt,o(z.value),1)):g("",!0),t("form",{class:"mt-4 space-y-4",onSubmit:N(ze,["prevent"])},[t("div",null,[e[53]||(e[53]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Название",-1)),x(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>i.value.title=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},null,512),[[C,i.value.title]])]),t("div",Rt,[t("div",null,[e[55]||(e[55]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Исполнитель",-1)),x(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>i.value.executor_id=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},[e[54]||(e[54]=t("option",{disabled:"",value:""},"Выберите сотрудника",-1)),(a(!0),r(y,null,f($.value,s=>(a(),r("option",{key:s.id,value:s.id},o(s.name),9,At))),128))],512),[[E,i.value.executor_id]])]),t("div",null,[e[57]||(e[57]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Ответственный",-1)),x(t("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>i.value.responsible_id=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},[e[56]||(e[56]=t("option",{disabled:"",value:""},"Выберите сотрудника",-1)),(a(!0),r(y,null,f($.value,s=>(a(),r("option",{key:s.id,value:s.id},o(s.name),9,Qt))),128))],512),[[E,i.value.responsible_id]])])]),t("div",Zt,[t("div",null,[e[59]||(e[59]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Приоритет",-1)),x(t("select",{"onUpdate:modelValue":e[10]||(e[10]=s=>i.value.priority=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white"},e[58]||(e[58]=[t("option",{value:"low"},"Обычная",-1),t("option",{value:"medium"},"Средняя",-1),t("option",{value:"high"},"Высокая",-1)]),512),[[E,i.value.priority]])]),t("div",null,[e[60]||(e[60]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Начало",-1)),x(t("input",{type:"date","onUpdate:modelValue":e[11]||(e[11]=s=>i.value.start_date=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},null,512),[[C,i.value.start_date]])]),t("div",null,[e[61]||(e[61]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Окончание",-1)),x(t("input",{type:"date","onUpdate:modelValue":e[12]||(e[12]=s=>i.value.due_date=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},null,512),[[C,i.value.due_date]])])]),t("div",null,[e[62]||(e[62]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Файлы (pdf, excel, word)",-1)),t("input",{type:"file",multiple:"",onChange:$e,accept:".pdf,.doc,.docx,.xls,.xlsx",class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white"},null,32)]),t("div",Gt,[t("button",{type:"button",onClick:e[13]||(e[13]=s=>c.value=!1),class:"px-4 py-2 rounded-xl border bg-white dark:bg-gray-700 dark:text-white"},"Отмена"),t("button",{type:"submit",disabled:S.value,class:"px-4 py-2 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700 disabled:opacity-60"},[S.value?(a(),r("span",Wt,"Сохраняю…")):(a(),r("span",Kt,"Создать"))],8,Jt)])],32)])])):g("",!0),k.value&&A.value?(a(),r("div",Xt,[t("div",{class:"absolute inset-0 bg-black/50",onClick:e[14]||(e[14]=s=>k.value=!1)}),t("div",Yt,[t("div",es,[e[63]||(e[63]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Установить бюджет",-1)),t("button",{onClick:e[15]||(e[15]=s=>k.value=!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},"✕")]),t("form",{class:"mt-4 space-y-4",onSubmit:N(Me,["prevent"])},[t("div",null,[e[64]||(e[64]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Сумма (₽)",-1)),x(t("input",{type:"number",step:"0.01",min:"0","onUpdate:modelValue":e[16]||(e[16]=s=>B.value.budget=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},null,512),[[C,B.value.budget]])]),t("div",ts,[t("button",{type:"button",onClick:e[17]||(e[17]=s=>k.value=!1),class:"px-4 py-2 rounded-xl border bg-white dark:bg-gray-700 dark:text-white"},"Отмена"),e[65]||(e[65]=t("button",{type:"submit",class:"px-4 py-2 rounded-xl bg-amber-600 text-white hover:bg-amber-700"},"Сохранить",-1))])],32)])])):g("",!0),w.value&&Q.value?(a(),r("div",ss,[t("div",{class:"absolute inset-0 bg-black/50",onClick:e[18]||(e[18]=s=>w.value=!1)}),t("div",ls,[t("div",as,[e[66]||(e[66]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Описание проекта",-1)),t("button",{onClick:e[19]||(e[19]=s=>w.value=!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},"✕")]),t("form",{class:"mt-4 space-y-4",onSubmit:N(Ve,["prevent"])},[t("div",null,[e[67]||(e[67]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"Описание",-1)),x(t("textarea",{rows:"6","onUpdate:modelValue":e[20]||(e[20]=s=>D.value.description=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},null,512),[[C,D.value.description]])]),t("div",rs,[t("button",{type:"button",onClick:e[21]||(e[21]=s=>w.value=!1),class:"px-4 py-2 rounded-xl border bg-white dark:bg-gray-700 dark:text-white"},"Отмена"),e[68]||(e[68]=t("button",{type:"submit",class:"px-4 py-2 rounded-xl bg-indigo-600 text-white hover:bg-indigo-700"},"Сохранить",-1))])],32)])])):g("",!0)]}),_:1})],64)}}};export{gs as default};
