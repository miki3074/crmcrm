import{r as m,o as s,c as a,k as g,u as h,a as t,E as p,t as r,F as c,e as y,d as u,Z as b}from"./app-4f3951ff.js";const _={class:"py-12"},f={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},v={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6"},w={class:"flex border-b border-gray-200 mb-6"},k={key:0},C={key:0,class:"text-gray-500 text-center py-4"},D={key:1,class:"min-w-full divide-y divide-gray-200"},B={class:"bg-white divide-y divide-gray-200"},L={class:"px-6 py-4 whitespace-nowrap"},N={class:"text-sm font-medium text-gray-900"},V={class:"text-xs text-gray-500"},A={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},E={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},F={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},$={key:0},j={key:1},z={key:1},R={key:0,class:"text-gray-500 text-center py-4"},S={key:1,class:"min-w-full divide-y divide-gray-200"},T={class:"bg-white divide-y divide-gray-200"},U={class:"px-6 py-4 whitespace-nowrap"},Z={class:"text-sm font-medium text-gray-900"},q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},G={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},I={__name:"CompletedList",props:{tasks:Array,subtasks:Array},setup(i){const n=m("tasks"),x=l=>l?new Date(l).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"-";return(l,o)=>(s(),a(c,null,[g(h(b),{title:"Завершенные задачи"}),t("div",_,[t("div",f,[t("div",v,[o[4]||(o[4]=t("h1",{class:"text-2xl font-bold mb-6"},"Архив задач",-1)),t("div",w,[t("button",{onClick:o[0]||(o[0]=e=>n.value="tasks"),class:p([{"border-b-2 border-blue-500 text-blue-600":n.value==="tasks"},"px-4 py-2 font-medium text-gray-600 hover:text-blue-500 focus:outline-none"])}," Задачи ("+r(i.tasks.length)+") ",3),t("button",{onClick:o[1]||(o[1]=e=>n.value="subtasks"),class:p([{"border-b-2 border-blue-500 text-blue-600":n.value==="subtasks"},"px-4 py-2 font-medium text-gray-600 hover:text-blue-500 focus:outline-none ml-4"])}," Подзадачи ("+r(i.subtasks.length)+") ",3)]),n.value==="tasks"?(s(),a("div",k,[i.tasks.length===0?(s(),a("div",C," Нет завершенных задач. ")):(s(),a("table",D,[o[2]||(o[2]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Название"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Проект"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Дата завершения"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ответственный")])],-1)),t("tbody",B,[(s(!0),a(c,null,y(i.tasks,e=>{var d;return s(),a("tr",{key:e.id},[t("td",L,[t("div",N,r(e.name),1),t("div",V,"Приоритет: "+r(e.priority),1)]),t("td",A,r(((d=e.project)==null?void 0:d.name)||"-"),1),t("td",E,r(x(e.completed_at)),1),t("td",F,[e.responsibles&&e.responsibles.length?(s(),a("span",$,r(e.responsibles[0].name),1)):(s(),a("span",j,"-"))])])}),128))])]))])):u("",!0),n.value==="subtasks"?(s(),a("div",z,[i.subtasks.length===0?(s(),a("div",R," Нет завершенных подзадач. ")):(s(),a("table",S,[o[3]||(o[3]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Название"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Родительская задача"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Дата завершения")])],-1)),t("tbody",T,[(s(!0),a(c,null,y(i.subtasks,e=>{var d;return s(),a("tr",{key:e.id},[t("td",U,[t("div",Z,r(e.name),1)]),t("td",q,r(((d=e.task)==null?void 0:d.name)||"Задача удалена"),1),t("td",G,r(x(e.completed_at)),1)])}),128))])]))])):u("",!0)])])])],64))}};export{I as default};
