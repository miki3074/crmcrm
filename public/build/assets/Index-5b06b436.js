import{m as u,p as w,o,f as n,a as c,u as h,w as f,F as b,l as x,Z as y,b as t,s as _,e as k,h as i,v as d,g as C,t as p}from"./app-5838d16e.js";import{_ as V}from"./AuthenticatedLayout-f128b6cc.js";import"./ApplicationLogo-835d2202.js";import"./_plugin-vue_export-helper-c27b6911.js";const $={class:"max-w-6xl mx-auto p-6"},M={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6"},U=["onClick"],B={class:"font-bold text-lg"},N={class:"text-sm text-gray-600"},j={class:"text-sm text-gray-600"},D={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50"},E={class:"bg-white p-6 rounded shadow-lg w-full max-w-md"},F={class:"flex justify-end gap-2"},Z={__name:"Index",setup(S){const m=u([]),a=u(!1),l=u({name:"",phone:"",email:"",notes:""}),v=async()=>{const{data:r}=await x.get("/api/clients");m.value=r},g=async()=>{await x.post("/api/clients",l.value),l.value={name:"",phone:"",email:"",notes:""},a.value=!1,await v()};return w(v),(r,e)=>(o(),n(b,null,[c(h(y),{title:"Клиенты"}),c(V,null,{header:f(()=>e[6]||(e[6]=[t("h2",{class:"font-semibold text-xl"},"Клиенты",-1)])),default:f(()=>[t("div",$,[t("button",{onClick:e[0]||(e[0]=s=>a.value=!0),class:"bg-blue-600 text-white px-4 py-2 rounded"},"+ Новый клиент"),t("div",M,[(o(!0),n(b,null,_(m.value,s=>(o(),n("div",{key:s.id,class:"p-4 bg-white rounded shadow cursor-pointer",onClick:q=>r.$inertia.visit(`/clients/${s.id}`)},[t("h3",B,p(s.name),1),t("p",N,p(s.email),1),t("p",j,p(s.phone),1)],8,U))),128))])]),a.value?(o(),n("div",D,[t("div",E,[e[8]||(e[8]=t("h2",{class:"text-xl font-bold mb-4"},"Новый клиент",-1)),t("form",{onSubmit:k(g,["prevent"])},[i(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.name=s),placeholder:"Имя",class:"w-full border p-2 mb-2",required:""},null,512),[[d,l.value.name]]),i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.phone=s),placeholder:"Телефон",class:"w-full border p-2 mb-2"},null,512),[[d,l.value.phone]]),i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l.value.email=s),placeholder:"Email",type:"email",class:"w-full border p-2 mb-2"},null,512),[[d,l.value.email]]),i(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=s=>l.value.notes=s),placeholder:"Заметки",class:"w-full border p-2 mb-2"},null,512),[[d,l.value.notes]]),t("div",F,[t("button",{type:"button",onClick:e[5]||(e[5]=s=>a.value=!1),class:"bg-gray-400 text-white px-3 py-2 rounded"},"Отмена"),e[7]||(e[7]=t("button",{type:"submit",class:"bg-green-600 text-white px-3 py-2 rounded"},"Сохранить",-1))])],32)])])):C("",!0)]),_:1})],64))}};export{Z as default};
