import{h as S,c as m,o as s,a as r,b as e,H as f,t as l,g as a,F as x,d as h,I as T,T as $,f as B,J as v,N as L}from"./app-c38d94e2.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";const V={class:"flex items-center justify-between mb-6"},H={class:"flex items-center gap-3"},I={class:"px-2.5 py-0.5 text-xs font-extrabold rounded-full bg-slate-100 dark:bg-slate-800 text-slate-500 border border-slate-200 dark:border-slate-700"},F={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},R=["onClick"],A={class:"flex justify-between items-start mb-2"},D={class:"text-[10px] font-bold uppercase tracking-wider text-slate-400 bg-slate-50 dark:bg-slate-700/50 px-2 py-0.5 rounded-md truncate max-w-[120px]"},E={key:0,class:"text-[10px] font-medium text-slate-400 whitespace-nowrap"},J={class:"font-bold text-slate-700 dark:text-slate-200 leading-snug line-clamp-2 group-hover:text-indigo-500 transition-colors mb-4"},O={class:"mt-auto"},P={class:"flex justify-between text-[10px] mb-1.5 font-bold text-slate-400"},q={class:"h-1.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden"},G={class:"text-2xl font-bold mb-1"},K={key:0,class:"py-12 flex flex-col items-center justify-center text-slate-400"},Q={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4"},U={class:"relative w-full max-w-5xl max-h-[90vh] flex flex-col bg-white dark:bg-slate-900 rounded-3xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200"},W={class:"flex items-center justify-between p-6 border-b border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 z-10"},X={class:"text-2xl font-bold text-slate-800 dark:text-white"},Y={class:"overflow-y-auto p-6 bg-slate-50/50 dark:bg-slate-900/50"},Z={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},ee=["onClick"],te={class:"flex justify-between items-start mb-2"},oe={class:"text-[10px] font-bold uppercase text-slate-400 truncate max-w-[120px]"},se={key:0,class:"text-[10px] text-slate-400"},re={class:"font-bold text-slate-700 dark:text-slate-200 leading-snug mb-3 group-hover:text-indigo-600 transition"},le={class:"mt-2"},ne={class:"h-1.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden"},ie={class:"p-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 text-center"},de={class:"card"},ae={style:{padding:"0 16px 8px 16px",display:"flex","justify-content":"space-between","align-items":"center"}},ue={class:"px-2.5 py-0.5 text-xs font-extrabold rounded-full",style:{background:"#e2f3e4",color:"#10b981",border:"1px solid #a7f0ba"}},pe={class:"task-list",id:"taskList"},xe=["onClick"],ce={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"6px"}},ge={style:{"font-size":"10px","font-weight":"700","text-transform":"uppercase",color:"#94a3b8",background:"#f8fafc",padding:"2px 8px","border-radius":"12px"}},be={key:0,style:{"font-size":"10px",color:"#94a3b8"}},fe={style:{"font-weight":"600",color:"#334155",margin:"0 0 8px 0","font-size":"14px","line-height":"1.4"}},he={style:{display:"flex","justify-content":"space-between","font-size":"10px","font-weight":"600",color:"#94a3b8","margin-bottom":"4px"}},ve={style:{height:"6px",width:"100%",background:"#e2e8f0","border-radius":"10px",overflow:"hidden"}},ye={style:{display:"flex","flex-direction":"column","align-items":"center",gap:"4px"}},me={style:{"font-size":"20px","font-weight":"700",color:"#10b981"}},ke={key:1,style:{padding:"32px 16px","text-align":"center",color:"#94a3b8"}},we={style:{width:"48px",height:"48px",margin:"0 auto 12px",color:"#cbd5e1"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_e={key:0,style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0","z-index":"100",display:"flex","align-items":"center","justify-content":"center",padding:"16px"}},Ce={style:{position:"relative",width:"100%","max-width":"1000px","max-height":"90vh",display:"flex","flex-direction":"column",background:"white","border-radius":"24px","box-shadow":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",overflow:"hidden"}},je={style:{display:"flex","align-items":"center","justify-content":"space-between",padding:"20px 24px","border-bottom":"1px solid #e2e8f0"}},Me={style:{width:"20px",height:"20px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ze={style:{"overflow-y":"auto",padding:"24px",background:"#f8fafc"}},Te={style:{display:"grid","grid-template-columns":"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px"}},$e=["onClick"],Se={style:{"margin-bottom":"12px"}},Be={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"8px"}},Le={style:{"font-size":"10px","font-weight":"700","text-transform":"uppercase",color:"#64748b"}},Ne={key:0,style:{"font-size":"10px",color:"#94a3b8"}},Ve={style:{"font-weight":"600",color:"#0f172a",margin:"0","font-size":"14px"}},He={style:{"margin-top":"auto"}},Ie={style:{height:"4px",width:"100%",background:"#e2e8f0","border-radius":"4px",overflow:"hidden"}},Fe={style:{padding:"16px 24px","border-top":"1px solid #e2e8f0","text-align":"center"}},k=6,Re={__name:"TasksSummary",props:{tasks:Array,title:String,variant:{type:String,default:"default"}},setup(u){const y=u,d=S(!1),w=m(()=>{var n;return((n=y.tasks)==null?void 0:n.slice(0,k))||[]}),c=m(()=>{var n;return(((n=y.tasks)==null?void 0:n.length)||0)>k}),_=m(()=>{var n;return(((n=y.tasks)==null?void 0:n.length)||0)-k}),g=n=>{L.visit(`/tasks/${n}`)},b=n=>n>=100?"bg-emerald-500":n>50?"bg-indigo-500":"bg-amber-500";return(n,t)=>{var C,j,M,z;return s(),r(x,null,[e("div",{class:f(["relative p-6 rounded-3xl border transition-all shadow-sm bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl",u.variant==="danger"?"border-rose-200 dark:border-rose-900/30":"border-slate-200 dark:border-slate-800"])},[e("div",V,[e("div",H,[e("h3",{class:f(["text-xl font-bold tracking-tight",u.variant==="danger"?"text-rose-600":"text-slate-800 dark:text-slate-100"])},l(u.title),3),e("span",I,l(((C=u.tasks)==null?void 0:C.length)||0),1)]),c.value?(s(),r("button",{key:0,onClick:t[0]||(t[0]=o=>d.value=!0),class:"text-xs font-semibold text-indigo-500 hover:text-indigo-600 dark:text-indigo-400 transition hover:underline"}," См. все ")):a("",!0)]),e("div",F,[(s(!0),r(x,null,h(w.value,o=>{var p;return s(),r("div",{key:o.id,onClick:i=>g(o.id),class:"group relative flex flex-col justify-between p-4 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700/60 rounded-2xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer h-full"},[e("div",null,[e("div",A,[e("span",D,l(((p=o.project)==null?void 0:p.name)||"Без проекта"),1),o.due_date?(s(),r("span",E,l(o.due_date),1)):a("",!0)]),e("h4",J,l(o.title),1)]),e("div",O,[e("div",P,[t[16]||(t[16]=e("span",null,"Прогресс",-1)),e("span",null,l(o.progress||0)+"%",1)]),e("div",q,[e("div",{class:f(["h-full rounded-full transition-all duration-500 shadow-[0_0_10px_rgba(99,102,241,0.4)]",b(o.progress)]),style:v({width:(o.progress||0)+"%"})},null,6)])])],8,R)}),128)),c.value?(s(),r("button",{key:0,onClick:t[1]||(t[1]=o=>d.value=!0),class:"flex flex-col items-center justify-center p-4 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-700 text-slate-400 hover:border-indigo-300 hover:text-indigo-500 hover:bg-indigo-50/50 dark:hover:bg-slate-800 transition-all cursor-pointer h-full min-h-[140px]"},[e("span",G,"+"+l(_.value),1),t[17]||(t[17]=e("span",{class:"text-xs font-semibold uppercase tracking-wide"},"Показать все",-1))])):a("",!0)]),(j=u.tasks)!=null&&j.length?a("",!0):(s(),r("div",K,t[18]||(t[18]=[e("svg",{class:"w-12 h-12 mb-3 text-slate-200 dark:text-slate-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1),e("p",{class:"text-sm italic"},"Задач пока нет",-1)]))),(s(),T($,{to:"body"},[d.value?(s(),r("div",Q,[e("div",{class:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:t[2]||(t[2]=o=>d.value=!1)}),e("div",U,[e("div",W,[e("h2",X," Все задачи: "+l(u.title),1),e("button",{onClick:t[3]||(t[3]=o=>d.value=!1),class:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition text-slate-500"},t[19]||(t[19]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Y,[e("div",Z,[(s(!0),r(x,null,h(u.tasks,o=>{var p;return s(),r("div",{key:"modal-"+o.id,onClick:i=>g(o.id),class:"group flex flex-col justify-between p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl hover:border-indigo-300 dark:hover:border-indigo-700 hover:shadow-md transition-all cursor-pointer h-full"},[e("div",null,[e("div",te,[e("span",oe,l((p=o.project)==null?void 0:p.name),1),o.due_date?(s(),r("span",se,l(o.due_date),1)):a("",!0)]),e("h4",re,l(o.title),1)]),e("div",le,[e("div",ne,[e("div",{class:f(["h-full rounded-full",b(o.progress)]),style:v({width:(o.progress||0)+"%"})},null,6)])])],8,ee)}),128))])]),e("div",ie,[e("button",{onClick:t[4]||(t[4]=o=>d.value=!1),class:"px-6 py-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold rounded-xl transition"}," Закрыть ")])])])):a("",!0)]))],2),e("div",de,[t[26]||(t[26]=e("div",{class:"card-header"},[e("h3",null,[e("i",{class:"fas fa-check-circle",style:{"margin-right":"8px",color:"#10b981"}}),B(" Задачи на сегодня")]),e("i",{class:"fas fa-ellipsis-h"})],-1)),e("div",ae,[e("span",ue,l(((M=u.tasks)==null?void 0:M.length)||0)+" задач ",1),c.value?(s(),r("button",{key:0,onClick:t[5]||(t[5]=o=>d.value=!0),style:{"font-size":"12px","font-weight":"600",color:"#10b981",background:"transparent",border:"none",cursor:"pointer"}}," См. все → ")):a("",!0)]),e("div",pe,[(s(!0),r(x,null,h(w.value,o=>{var p;return s(),r("div",{key:o.id,onClick:i=>g(o.id),style:{cursor:"pointer",padding:"12px 16px","border-bottom":"1px solid #f0f0f0",transition:"all 0.2s"},onMouseenter:t[6]||(t[6]=i=>i.currentTarget.style.backgroundColor="#f9f9f9"),onMouseleave:t[7]||(t[7]=i=>i.currentTarget.style.backgroundColor="transparent")},[e("div",ce,[e("span",ge,l(((p=o.project)==null?void 0:p.name)||"Без проекта"),1),o.due_date?(s(),r("span",be,l(o.due_date),1)):a("",!0)]),e("h4",fe,l(o.title),1),e("div",null,[e("div",he,[t[20]||(t[20]=e("span",null,"Прогресс",-1)),e("span",null,l(o.progress||0)+"%",1)]),e("div",ve,[e("div",{style:v({width:(o.progress||0)+"%",height:"100%",borderRadius:"10px",background:b(o.progress),transition:"width 0.3s"})},null,4)])])],40,xe)}),128)),c.value?(s(),r("div",{key:0,onClick:t[8]||(t[8]=o=>d.value=!0),style:{padding:"16px","text-align":"center","border-bottom":"1px solid #f0f0f0",cursor:"pointer"},onMouseenter:t[9]||(t[9]=o=>o.currentTarget.style.backgroundColor="#f9f9f9"),onMouseleave:t[10]||(t[10]=o=>o.currentTarget.style.backgroundColor="transparent")},[e("div",ye,[e("span",me,"+"+l(_.value),1),t[21]||(t[21]=e("span",{style:{"font-size":"11px","font-weight":"600","text-transform":"uppercase","letter-spacing":"0.5px",color:"#64748b"}}," Показать все задачи ",-1))])],32)):a("",!0),(z=u.tasks)!=null&&z.length?a("",!0):(s(),r("div",ke,[(s(),r("svg",we,t[22]||(t[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},null,-1)]))),t[23]||(t[23]=e("p",{style:{"font-size":"14px","font-style":"italic"}},"Задач на сегодня нет",-1))]))]),(s(),T($,{to:"body"},[d.value?(s(),r("div",_e,[e("div",{style:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",background:"rgba(15, 23, 42, 0.6)","backdrop-filter":"blur(4px)"},onClick:t[11]||(t[11]=o=>d.value=!1)}),e("div",Ce,[e("div",je,[t[25]||(t[25]=e("h2",{style:{"font-size":"20px","font-weight":"700",color:"#0f172a"}}," Все задачи на сегодня ",-1)),e("button",{onClick:t[12]||(t[12]=o=>d.value=!1),style:{padding:"8px","border-radius":"50%",background:"transparent",border:"none",cursor:"pointer",color:"#64748b"}},[(s(),r("svg",Me,t[24]||(t[24]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])))])]),e("div",ze,[e("div",Te,[(s(!0),r(x,null,h(u.tasks,o=>{var p;return s(),r("div",{key:"modal-"+o.id,onClick:i=>g(o.id),style:{display:"flex","flex-direction":"column",padding:"16px",background:"white",border:"1px solid #e2e8f0","border-radius":"16px",cursor:"pointer",transition:"all 0.2s"},onMouseenter:t[13]||(t[13]=i=>{i.currentTarget.style.borderColor="#10b981",i.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)"}),onMouseleave:t[14]||(t[14]=i=>{i.currentTarget.style.borderColor="#e2e8f0",i.currentTarget.style.boxShadow="none"})},[e("div",Se,[e("div",Be,[e("span",Le,l(((p=o.project)==null?void 0:p.name)||"Без проекта"),1),o.due_date?(s(),r("span",Ne,l(o.due_date),1)):a("",!0)]),e("h4",Ve,l(o.title),1)]),e("div",He,[e("div",Ie,[e("div",{style:v({width:(o.progress||0)+"%",height:"100%",borderRadius:"4px",background:b(o.progress)})},null,4)])])],40,$e)}),128))])]),e("div",Fe,[e("button",{onClick:t[15]||(t[15]=o=>d.value=!1),style:{padding:"8px 24px",background:"#e2e8f0",border:"none","border-radius":"40px","font-weight":"600",color:"#334155",cursor:"pointer"}}," Закрыть ")])])])):a("",!0)]))])],64)}}},Ee=N(Re,[["__scopeId","data-v-276dca37"]]);export{Ee as default};
