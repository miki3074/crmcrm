import{r as y,j as _,x as g,C as b,o as s,c as o,a,h as C,v as L,F as d,e as x,d as m,u as v,N as k,t as h}from"./app-f33d6ccc.js";const E={class:"fixed inset-0 z-[200] flex flex-col p-4 sm:p-20 bg-slate-950/80 backdrop-blur-xl animate-in fade-in duration-200"},$={class:"mx-auto w-full max-w-3xl flex flex-col max-h-full"},N={class:"relative group"},j={class:"mt-6 overflow-y-auto space-y-8 pr-2"},B={key:0},V={class:"space-y-1"},q=["onClick"],D={key:1},F={class:"space-y-1"},M=["onClick"],O={key:1,class:"text-center py-20 text-slate-500 italic text-xl"},S={key:2,class:"text-center py-20 text-slate-500 italic text-xl font-light"},z={__name:"SearchOverlay",props:["companies","summary"],emits:["close"],setup(f,{emit:w}){const c=f,u=w,r=y(""),i=_(()=>{var t,e;const n=r.value.toLowerCase().trim();return n?{companies:c.companies.filter(l=>l.name.toLowerCase().includes(n)),tasks:((t=c.summary.all_tasks)==null?void 0:t.filter(l=>l.title.toLowerCase().includes(n)))||[],projects:((e=c.summary.managing_projects)==null?void 0:e.filter(l=>l.name.toLowerCase().includes(n)))||[]}:null}),p=n=>{n.key==="Escape"&&u("close")};return g(()=>window.addEventListener("keydown",p)),b(()=>window.removeEventListener("keydown",p)),(n,t)=>(s(),o("div",E,[a("div",$,[a("div",N,[C(a("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),autofocus:"",placeholder:"–ß—Ç–æ –≤—ã –∏—â–µ—Ç–µ?",class:"w-full px-8 py-6 text-xl bg-white dark:bg-slate-900 border-none rounded-3xl shadow-2xl outline-none focus:ring-4 focus:ring-indigo-500/20 text-slate-800 dark:text-white"},null,512),[[L,r.value]]),a("button",{onClick:t[1]||(t[1]=e=>u("close")),class:"absolute right-6 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600"},"Esc")]),a("div",j,[i.value?(s(),o(d,{key:0},[i.value.companies.length?(s(),o("div",B,[t[2]||(t[2]=a("h4",{class:"px-4 mb-2 text-xs font-black text-slate-500 uppercase tracking-widest"},"–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏",-1)),a("div",V,[(s(!0),o(d,null,x(i.value.companies,e=>(s(),o("div",{key:e.id,onClick:l=>v(k).visit(`/companies/${e.id}`),class:"p-4 rounded-2xl hover:bg-white/10 text-white cursor-pointer transition"},"üè¢ "+h(e.name),9,q))),128))])])):m("",!0),i.value.tasks.length?(s(),o("div",D,[t[3]||(t[3]=a("h4",{class:"px-4 mb-2 text-xs font-black text-slate-500 uppercase tracking-widest"},"–ó–∞–¥–∞—á–∏",-1)),a("div",F,[(s(!0),o(d,null,x(i.value.tasks,e=>(s(),o("div",{key:e.id,onClick:l=>v(k).visit(`/tasks/${e.id}`),class:"p-4 rounded-2xl hover:bg-white/10 text-white cursor-pointer transition"},"‚úÖ "+h(e.title),9,M))),128))])])):m("",!0)],64)):r.value.length?(s(),o("div",O,"–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ")):(s(),o("div",S,"–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ..."))])])]))}};export{z as default};
