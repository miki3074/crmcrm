import{h as a,c as w,o,a as l,b as e,f as y,F as v,d as f,t as i,g as p,k as h,w as I,v as N,j as V,u as m,N as _}from"./app-c38d94e2.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";const B={class:"grid grid-cols-1 lg:grid-cols-[7fr_3fr] gap-8 items-start"},F={class:"dashboard-grid"},T={class:"card"},E={class:"company-list"},L=["onClick"],O=["onClick"],P={class:"mb-3"},U=["src"],q={key:1,class:"w-16 h-16 rounded-xl bg-white dark:bg-slate-700 grid place-items-center text-3xl shadow-sm"},G={class:"company-info"},H={class:""},J={class:""},K={style:{color:"#4361ee","font-weight":"500",cursor:"pointer"}},Q={class:"bg-white dark:bg-slate-900 p-6 rounded-3xl w-full max-w-5xl max-h-[90vh] flex flex-col border dark:border-slate-800 shadow-2xl"},R={class:"flex justify-between items-center mb-6"},W={class:"overflow-y-auto p-2"},X={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4"},Y=["onClick"],Z={class:"mb-3"},ee=["src"],se={key:1,class:"w-16 h-16 rounded-xl bg-white dark:bg-slate-700 grid place-items-center text-3xl"},te={class:"font-bold text-center text-slate-800 dark:text-white truncate w-full"},oe={class:"bg-white dark:bg-slate-900 p-6 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col border dark:border-slate-800 shadow-2xl"},le={class:"flex justify-between items-center mb-6"},re={class:"overflow-y-auto p-2 grid grid-cols-1 md:grid-cols-2 gap-4"},ae=["onClick"],ie=["src"],de={key:1,class:"w-12 h-12 rounded-xl bg-white dark:bg-slate-700 grid place-items-center text-xl"},ne={class:"font-bold text-slate-800 dark:text-white"},ce={key:2,class:"fixed inset-0 z-[100] grid place-items-center bg-slate-950/60 backdrop-blur-sm p-4"},ue={class:"bg-white dark:bg-slate-900 p-6 rounded-3xl w-full max-w-sm border dark:border-slate-800 shadow-2xl animate-in fade-in zoom-in duration-200"},ge={class:"flex gap-2"},be={__name:"CompanySection",props:["companies","userId","isAdmin"],emits:["refresh"],setup(C,{emit:$}){const d=C,j=$,n=a(!1),c=a(!1),x=a(!1),u=a(""),k=a(null),g=w(()=>d.companies.filter(r=>String(r.user_id)===String(d.userId))),S=w(()=>d.companies.filter(r=>String(r.user_id)!==String(d.userId))),M=r=>{k.value=r,n.value=!0},z=async()=>{var r,s;try{await V.delete(`/api/companies/${k.value}`,{data:{password:u.value}}),n.value=!1,u.value="",j("refresh")}catch(t){alert(((s=(r=t.response)==null?void 0:r.data)==null?void 0:s.message)||"–û—à–∏–±–∫–∞ –ø–∞—Ä–æ–ª—è")}};return(r,s)=>(o(),l(v,null,[e("div",B,[e("div",F,[e("div",T,[s[7]||(s[7]=e("div",{class:"card-header"},[e("h3",null,[e("i",{class:"fas fa-building",style:{"margin-right":"8px",color:"#4361ee"}}),y(" –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏")]),e("i",{class:"fas fa-ellipsis-h"})],-1)),e("div",E,[(o(!0),l(v,null,f(g.value,t=>{var b;return o(),l("div",{key:t.id,onClick:D=>m(_).visit(`/companies/${t.id}`),class:"company-item",style:{cursor:"pointer"}},[e("button",{onClick:h(D=>M(t.id),["stop"]),class:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 p-1 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-md transition z-10"},"‚úï",8,O),e("div",P,[t.logo?(o(),l("img",{key:0,src:`/storage/${t.logo}`,class:"w-16 h-16 rounded-xl object-cover border dark:border-slate-600"},null,8,U)):(o(),l("div",q,"üè¢"))]),e("div",G,[e("h4",H,i(t.name),1),e("p",J,i(((b=t.projects)==null?void 0:b.length)||0)+" –ø—Ä–æ–µ–∫—Ç–æ–≤",1)])],8,L)}),128))]),s[8]||(s[8]=e("div",{style:{"margin-top":"16px","text-align":"center"}},[e("span",{style:{color:"#4361ee","font-weight":"500",cursor:"pointer"}},[y("+ –í—Å–µ –∫–æ–º–ø–∞–Ω–∏–∏ (24) "),e("i",{class:"fas fa-arrow-right"})])],-1)),g.value.length>1?(o(),l("button",{key:0,onClick:s[0]||(s[0]=t=>c.value=!0),style:{"margin-top":"16px","text-align":"center"}},[e("span",K,"–í—Å–µ –∫–æ–º–ø–∞–Ω–∏–∏ ("+i(g.value.length)+")",1)])):p("",!0)])])]),c.value?(o(),l("div",{key:0,class:"fixed inset-0 z-[90] grid place-items-center bg-slate-950/60 backdrop-blur-sm p-4",onClick:s[2]||(s[2]=h(t=>c.value=!1,["self"]))},[e("div",Q,[e("div",R,[s[9]||(s[9]=e("h3",{class:"text-2xl font-bold text-slate-800 dark:text-white"},"–í—Å–µ –º–æ–∏ –∫–æ–º–ø–∞–Ω–∏–∏",-1)),e("button",{onClick:s[1]||(s[1]=t=>c.value=!1),class:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition"},"‚úï")]),e("div",W,[e("div",X,[(o(!0),l(v,null,f(g.value,t=>(o(),l("div",{key:t.id,onClick:b=>m(_).visit(`/companies/${t.id}`),class:"group relative h-[200px] flex flex-col items-center justify-center p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl hover:border-indigo-500 cursor-pointer"},[e("div",Z,[t.logo?(o(),l("img",{key:0,src:`/storage/${t.logo}`,class:"w-16 h-16 rounded-xl object-cover"},null,8,ee)):(o(),l("div",se,"üè¢"))]),e("p",te,i(t.name),1)],8,Y))),128))])])])])):p("",!0),x.value?(o(),l("div",{key:1,class:"fixed inset-0 z-[90] grid place-items-center bg-slate-950/60 backdrop-blur-sm p-4",onClick:s[4]||(s[4]=h(t=>x.value=!1,["self"]))},[e("div",oe,[e("div",le,[s[10]||(s[10]=e("h3",{class:"text-2xl font-bold text-slate-800 dark:text-white"},"–í—Å–µ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏",-1)),e("button",{onClick:s[3]||(s[3]=t=>x.value=!1),class:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition"},"‚úï")]),e("div",re,[(o(!0),l(v,null,f(S.value,t=>(o(),l("div",{key:t.id,onClick:b=>m(_).visit(`/companies/${t.id}`),class:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl hover:border-emerald-500 cursor-pointer"},[t.logo?(o(),l("img",{key:0,src:`/storage/${t.logo}`,class:"w-12 h-12 rounded-xl object-cover"},null,8,ie)):(o(),l("div",de,"üè¢")),e("p",ne,i(t.name),1)],8,ae))),128))])])])):p("",!0),n.value?(o(),l("div",ce,[e("div",ue,[s[11]||(s[11]=e("h4",{class:"text-xl font-bold text-slate-900 dark:text-white mb-2"},"–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ",-1)),s[12]||(s[12]=e("p",{class:"text-sm text-slate-500 mb-4"},"–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø–∞—Ä–æ–ª—å –æ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞.",-1)),I(e("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>u.value=t),type:"password",class:"w-full px-4 py-3 rounded-xl border dark:bg-slate-800 dark:border-slate-700 mb-4 outline-none focus:ring-2 focus:ring-rose-500",placeholder:"–í–∞—à –ø–∞—Ä–æ–ª—å"},null,512),[[N,u.value]]),e("div",ge,[e("button",{onClick:s[6]||(s[6]=t=>n.value=!1),class:"flex-1 py-3 text-sm font-bold text-slate-500"},"–û—Ç–º–µ–Ω–∞"),e("button",{onClick:z,class:"flex-1 py-3 text-sm font-bold bg-rose-600 text-white rounded-xl shadow-lg shadow-rose-600/20"},"–£–¥–∞–ª–∏—Ç—å")])])])):p("",!0)],64))}},xe=A(be,[["__scopeId","data-v-9bb95cb1"]]);export{xe as default};
