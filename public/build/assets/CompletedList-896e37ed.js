import{h as i,i as w,z as C,o as a,a as l,m as g,u as j,M as k,F as u,j as $,Z as M,b as e,H as p,w as h,P as _,d as b,t as n,g as f,N as B}from"./app-12bccec5.js";import{_ as N}from"./AuthenticatedLayout-68445c6f.js";import"./ApplicationLogo-b144d97d.js";import"./_plugin-vue_export-helper-c27b6911.js";const V={class:"py-12 bg-slate-50 dark:bg-slate-900 min-h-screen"},S={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},z={class:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-wrap gap-4 items-center justify-between"},U={class:"flex gap-2 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg"},A={class:"flex gap-4"},F=["value"],L={key:0,class:"text-center py-10 text-slate-500"},E={key:1,class:"space-y-6"},H={key:0,class:"text-center py-10 text-slate-400 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700"},I={class:"bg-slate-50 dark:bg-slate-900/50 px-6 py-3 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center"},P={class:"flex items-center gap-3"},Z={class:"w-8 h-8 rounded-full bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 flex items-center justify-center font-bold text-xs"},q={class:"font-bold text-slate-700 dark:text-slate-200"},G={class:"text-xs font-bold bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-300 px-2 py-1 rounded-full"},J={class:"divide-y divide-slate-100 dark:divide-slate-700"},K={class:"flex items-start gap-3 overflow-hidden"},O={class:"mt-1 flex-shrink-0 text-emerald-500"},Q={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},R={key:1,class:"w-5 h-5 rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},T={class:"flex items-center gap-2"},W=["href"],X={key:0,class:"text-[10px] uppercase bg-slate-100 dark:bg-slate-600 px-1.5 rounded text-slate-500"},Y={class:"text-xs text-slate-500 mt-1 flex gap-3"},D=["onClick"],re={__name:"CompletedList",setup(ee){const c=i(!0),x=i([]),v=i([]),o=i({mode:"my_tasks",user_id:"",type:"all"}),m=async()=>{c.value=!0;try{const d={mode:o.value.mode,user_id:o.value.user_id||void 0,type:o.value.type,status:"completed"},{data:t}=await $.get("/api/tasks/summary",{params:d});x.value=t.summary,o.value.user_id||(v.value=t.users)}catch(d){console.error(d)}finally{c.value=!1}};w(o,()=>m(),{deep:!0}),C(m);const y=(d,t)=>{if(!confirm("–í–µ—Ä–Ω—É—Ç—å –∑–∞–¥–∞—á—É –≤ —Ä–∞–±–æ—Ç—É?"))return;const s=t?`/subtasks/${d}/restore`:`/tasks/${d}/restore`;B.post(s,{},{preserveScroll:!0,onSuccess:()=>m()})};return(d,t)=>(a(),l(u,null,[g(j(M),{title:"–ê—Ä—Ö–∏–≤ –∑–∞–¥–∞—á"}),g(N,null,{header:k(()=>t[5]||(t[5]=[e("h2",{class:"font-bold text-2xl text-slate-800 dark:text-white flex items-center gap-2"}," üóÑÔ∏è –ê—Ä—Ö–∏–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á ",-1)])),default:k(()=>[e("div",V,[e("div",S,[e("div",z,[e("div",U,[e("button",{onClick:t[0]||(t[0]=s=>o.value.mode="my_tasks"),class:p([o.value.mode==="my_tasks"?"bg-white shadow text-indigo-600 dark:text-indigo-400 dark:bg-slate-600":"text-slate-500","px-3 py-1.5 text-sm font-bold rounded-md transition"])},"–ú–æ–∏ –∑–∞–¥–∞—á–∏",2),e("button",{onClick:t[1]||(t[1]=s=>o.value.mode="author"),class:p([o.value.mode==="author"?"bg-white shadow text-indigo-600 dark:text-indigo-400 dark:bg-slate-600":"text-slate-500","px-3 py-1.5 text-sm font-bold rounded-md transition"])},"–Ø –∞–≤—Ç–æ—Ä",2),e("button",{onClick:t[2]||(t[2]=s=>o.value.mode="owner"),class:p([o.value.mode==="owner"?"bg-white shadow text-indigo-600 dark:text-indigo-400 dark:bg-slate-600":"text-slate-500","px-3 py-1.5 text-sm font-bold rounded-md transition"])},"–í—Å–µ",2)]),e("div",A,[h(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.value.type=s),class:"text-sm rounded-lg border-slate-300 dark:bg-slate-700 dark:text-white dark:border-slate-600"},t[6]||(t[6]=[e("option",{value:"all"},"–í—Å–µ —Ç–∏–ø—ã",-1),e("option",{value:"task"},"–¢–æ–ª—å–∫–æ –∑–∞–¥–∞—á–∏",-1),e("option",{value:"subtask"},"–¢–æ–ª—å–∫–æ –ø–æ–¥–∑–∞–¥–∞—á–∏",-1)]),512),[[_,o.value.type]]),h(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.value.user_id=s),class:"text-sm rounded-lg border-slate-300 dark:bg-slate-700 dark:text-white dark:border-slate-600"},[t[7]||(t[7]=e("option",{value:""},"–í—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏",-1)),(a(!0),l(u,null,b(v.value,s=>(a(),l("option",{key:s.id,value:s.id},n(s.name),9,F))),128))],512),[[_,o.value.user_id]])])]),c.value?(a(),l("div",L,"–ó–∞–≥—Ä—É–∑–∫–∞...")):(a(),l("div",E,[x.value.length===0?(a(),l("div",H," –í –∞—Ä—Ö–∏–≤–µ –ø—É—Å—Ç–æ. ")):f("",!0),(a(!0),l(u,null,b(x.value,s=>(a(),l("div",{key:s.user.id,class:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden"},[e("div",I,[e("div",P,[e("div",Z,n(s.user.name.charAt(0)),1),e("h3",q,n(s.user.name),1)]),e("span",G,n(s.tasks.completed.length)+" —à—Ç. ",1)]),e("div",J,[(a(!0),l(u,null,b(s.tasks.completed,r=>(a(),l("div",{key:r.id+(r.is_subtask?"s":"t"),class:"p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition flex items-center justify-between group"},[e("div",K,[e("div",O,[r.is_subtask?(a(),l("svg",R,t[9]||(t[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"},null,-1)]))):(a(),l("svg",Q,t[8]||(t[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])))]),e("div",null,[e("div",T,[e("a",{href:r.link,class:"font-bold text-slate-700 dark:text-slate-200 hover:text-emerald-600 transition truncate hover:underline"},n(r.title),9,W),r.is_subtask?(a(),l("span",X," –ü–æ–¥–∑–∞–¥–∞—á–∞ ")):f("",!0)]),e("div",Y,[e("span",null,"üìÇ "+n(r.project_name),1),e("span",null,"üë§ "+n(r.roles),1)])])]),e("button",{onClick:te=>y(r.id,r.is_subtask),class:"opacity-0 group-hover:opacity-100 transition-opacity px-3 py-1.5 text-xs font-bold text-indigo-600 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:text-indigo-400 dark:hover:bg-indigo-900/50 rounded-lg border border-indigo-200 dark:border-indigo-800"}," –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ",8,D)]))),128))])]))),128))]))])])]),_:1})],64))}};export{re as default};
