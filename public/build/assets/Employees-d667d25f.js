import{i as b,Q as ve,r,m as Y,z as xe,q as be,o as a,f as o,a as ee,u as ye,w as te,F as c,Z as ge,b as e,j as p,v as C,x as y,s as f,t as n,n as Q,g,e as le}from"./app-801c533d.js";import{_ as ce}from"./AuthenticatedLayout-40f8c9ed.js";import"./ApplicationLogo-d0e78184.js";import"./_plugin-vue_export-helper-c27b6911.js";const fe={class:"max-w-6xl mx-auto py-8 px-4"},ke={class:"grid gap-3 md:grid-cols-3 mb-4"},we=["value"],_e={class:"overflow-hidden rounded-2xl border dark:border-gray-700 bg-white dark:bg-gray-900"},he={class:"w-full text-sm"},Ce={key:0},Ue={key:1},Ve={class:"px-4 py-3 font-medium text-gray-900 dark:text-gray-100"},$e={class:"px-4 py-3 text-gray-600 dark:text-gray-300"},je={class:"px-4 py-3 text-gray-600 dark:text-gray-300"},Me={class:"px-4 py-3"},Ee={class:"px-4 py-3 text-right flex gap-2 justify-end"},Se=["onClick"],Fe=["onClick"],Le=["onClick"],qe={key:0},ze={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4"},Te={class:"w-full max-w-3xl rounded-2xl bg-white dark:bg-gray-900 shadow-xl"},Ae={class:"flex items-center justify-between px-6 py-4 border-b border-slate-300 dark:border-slate-700"},Be={class:"flex border-b border-slate-300 dark:border-slate-700"},Ne={key:0,class:"p-6"},De={class:""},Oe={class:"flex items-center justify-between"},Pe={key:0,class:"mt-1 text-xs text-rose-600"},Qe={key:0,class:"mt-1 text-xs text-rose-600"},Re={class:"grid md:grid-cols-2 gap-3"},Ze={key:0,class:"mt-1 text-xs text-rose-600"},Ge={class:"grid md:grid-cols-2 gap-3"},He=["value"],Ie={key:0,class:"mt-1 text-xs text-rose-600"},Je={class:"flex justify-end gap-2 pt-2"},Ke=["disabled"],We={key:1,class:"p-6"},Xe={class:""},Ye={class:"flex items-center justify-between border-b border-slate-200 dark:border-slate-700 px-6 py-4"},et={class:"grid grid-cols-1 md:grid-cols-2 gap-4 px-6 py-4"},tt=["value"],lt={class:"px-6 pb-4"},st={class:"mb-3 max-h-64 overflow-auto border border-slate-200 dark:border-slate-700 rounded-xl divide-y divide-slate-100 dark:divide-slate-700"},at={key:0,class:"p-4 text-sm text-slate-500 text-center"},ot={class:"font-medium text-slate-800 dark:text-slate-100"},dt={class:"text-xs text-slate-500"},rt={class:"flex items-center gap-2"},nt=["onClick"],it={key:0,class:"p-4 text-sm text-slate-500 text-center"},ut={key:1,class:"p-4 text-sm text-slate-500 text-center"},pt={class:"flex justify-end gap-2 px-6 py-4 border-t border-slate-200 dark:border-slate-700"},mt=["disabled"],vt={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4"},xt={class:"relative w-full max-w-3xl rounded-2xl shadow-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700"},bt={class:"flex items-center justify-between border-b border-slate-200 dark:border-slate-700 px-6 py-4"},yt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 px-6 py-4"},gt=["value"],ct={class:"px-6 pb-4"},ft={class:"mb-3 max-h-64 overflow-auto border border-slate-200 dark:border-slate-700 rounded-xl divide-y divide-slate-100 dark:divide-slate-700"},kt={key:0,class:"p-4 text-sm text-slate-500 text-center"},wt={class:"font-medium text-slate-800 dark:text-slate-100"},_t={class:"text-xs text-slate-500"},ht={class:"flex items-center gap-2"},Ct=["onClick"],Ut={key:0,class:"p-4 text-sm text-slate-500 text-center"},Vt={key:1,class:"p-4 text-sm text-slate-500 text-center"},$t={class:"flex justify-end gap-2 px-6 py-4 border-t border-slate-200 dark:border-slate-700"},jt=["disabled"],Mt={key:2,class:"fixed inset-0 bg-black/40 flex items-center justify-center z-50"},Et={class:"bg-white dark:bg-gray-800 rounded-xl p-6 w-96"},St={class:"text-lg font-semibold mb-4"},Ft=["value"],Lt={class:"flex justify-end gap-2 mt-4"},qt={key:3,class:"fixed inset-0 bg-black/40 flex items-center justify-center z-50"},zt={class:"bg-white dark:bg-gray-800 rounded-xl p-6 w-96"},Tt={class:"text-lg font-semibold mb-4"},At={class:"flex justify-end gap-2 mt-4"},Qt={__name:"Employees",setup(Bt){b.defaults.withCredentials=!0,ve();const N=r(!1),E=r(!1),R=r([]),D=r([]),S=r(""),F=r("all"),L=r("all"),O=r(!1),m=r({name:"",email:"",password:"",password_confirmation:"",role:"employee",company_id:""}),v=r({}),Z=Y(()=>{let s=[...R.value];if(S.value.trim()){const t=S.value.toLowerCase();s=s.filter(d=>{var u,l;return((u=d.name)==null?void 0:u.toLowerCase().includes(t))||((l=d.email)==null?void 0:l.toLowerCase().includes(t))})}return F.value!=="all"&&(s=s.filter(t=>{var d,u;return(((u=(d=t.roles)==null?void 0:d[0])==null?void 0:u.name)??"employee")===F.value})),L.value!=="all"&&(s=s.filter(t=>{var d;return String((d=t.company)==null?void 0:d.id)===String(L.value)})),s}),se=s=>s==="manager"?"bg-indigo-100 text-indigo-700 ring-1 ring-indigo-200":"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200",ae=async()=>{const{data:s}=await b.get("/api/companies");D.value=s},j=async()=>{N.value=!0;try{const{data:s}=await b.get("/api/employees");R.value=s}finally{N.value=!1}},oe=()=>{m.value={name:"",email:"",password:"",password_confirmation:"",role:"employee",company_id:""},v.value={}},G=async()=>{var s;v.value={},E.value=!0;try{await b.get("/sanctum/csrf-cookie"),await b.post("/api/employees",m.value),O.value=!1,oe(),await j()}catch(t){((s=t.response)==null?void 0:s.status)===422?v.value=t.response.data.errors??{}:alert("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞")}finally{E.value=!1}},U=r(!1),k=r([]),q=r([]),i=r({user_id:"",role:"employee",company_id:""}),w=r(!1),V=r(!1),x=r(""),de=async(s="")=>{w.value=!0;try{const{data:t}=await b.get("/api/users/for-attach",{params:{q:s,company_id:i.value.company_id}});k.value=t}finally{w.value=!1}},H=async()=>{const{data:s}=await b.get("/api/owner-companies");q.value=s,s.length&&!i.value.company_id&&(i.value.company_id=String(s[0].id))};Y(()=>{if(!x.value)return k.value;const s=x.value.toLowerCase();return k.value.filter(t=>(t.name||"").toLowerCase().includes(s)||(t.email||"").toLowerCase().includes(s))});const I=async()=>{var s,t;if(!(!i.value.user_id||!i.value.company_id||!i.value.role)){V.value=!0;try{const{data:d}=await b.post("/api/employees/attach",{user_id:i.value.user_id,company_id:i.value.company_id,role:i.value.role});U.value=!1,i.value={user_id:"",role:"employee",company_id:i.value.company_id},alert("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª–µ–Ω")}catch(d){console.error(d),alert(((t=(s=d==null?void 0:d.response)==null?void 0:s.data)==null?void 0:t.message)||"–û—à–∏–±–∫–∞")}finally{V.value=!1}}},z=r(!1),T=r(null),_=r({company_id:"",role:"employee"}),re=async()=>{var s,t,d;if(!((s=T.value)!=null&&s.id)||!_.value.company_id){alert("–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–ø–∞–Ω–∏—é");return}try{await b.post("/api/employees/attach",{user_id:T.value.id,company_id:_.value.company_id,role:_.value.role}),alert("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—ë–Ω"),z.value=!1,await j()}catch(u){console.error(u),alert(((d=(t=u==null?void 0:u.response)==null?void 0:t.data)==null?void 0:d.message)||"–û—à–∏–±–∫–∞")}},ne=async s=>{T.value=s,_.value={company_id:"",role:"employee"},z.value=!0,await H()},A=r(!1),M=r(null),B=r({role:"employee"}),ie=s=>{M.value=s,B.value={role:s.role||"employee"},A.value=!0},ue=async()=>{var s,t,d,u;if((s=M.value)!=null&&s.id)try{await b.put(`/api/employees/${M.value.id}/update-role`,{role:B.value.role,company_id:(t=M.value.company)==null?void 0:t.id}),alert("–†–æ–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω–∞"),A.value=!1,await j()}catch(l){console.error(l),alert(((u=(d=l==null?void 0:l.response)==null?void 0:d.data)==null?void 0:u.message)||"–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è")}};let J;xe(x,s=>{clearTimeout(J),J=setTimeout(()=>{s.trim().length>=2?de(s.trim()):k.value=[]},400)});const pe=async s=>{var t,d;if(confirm(`–£–¥–∞–ª–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ ¬´${s.name}¬ª?`))try{await b.delete(`/api/employees/${s.id}`,{data:{company_id:s.company.id}}),alert("–°–æ—Ç—Ä—É–¥–Ω–∏–∫ —É–¥–∞–ª—ë–Ω"),await j()}catch(u){console.error(u),alert(((d=(t=u==null?void 0:u.response)==null?void 0:t.data)==null?void 0:d.message)||"–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è")}},P=r(!1),$=r("create"),me=async()=>{P.value=!0,$.value="create",await H()};return be(async()=>{await Promise.all([ae(),j()])}),(s,t)=>(a(),o(c,null,[ee(ye(ge),{title:"–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏"}),ee(ce,null,{header:te(()=>[e("div",{class:"flex items-center justify-between"},[t[29]||(t[29]=e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏",-1)),e("button",{class:"rounded-xl bg-indigo-600 text-white px-4 py-2 hover:bg-indigo-700",onClick:me}," + –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ ")])]),default:te(()=>{var d,u;return[e("div",fe,[e("div",ke,[e("div",null,[p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>S.value=l),placeholder:"–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ email‚Ä¶",class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},null,512),[[C,S.value]])]),e("div",null,[p(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>F.value=l),class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},t[30]||(t[30]=[e("option",{value:"all"},"–í—Å–µ —Ä–æ–ª–∏",-1),e("option",{value:"manager"},"–ú–µ–Ω–µ–¥–∂–µ—Ä",-1),e("option",{value:"employee"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫",-1)]),512),[[y,F.value]])]),e("div",null,[p(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>L.value=l),class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},[t[31]||(t[31]=e("option",{value:"all"},"–í—Å–µ –∫–æ–º–ø–∞–Ω–∏–∏",-1)),(a(!0),o(c,null,f(D.value,l=>(a(),o("option",{key:l.id,value:String(l.id)},n(l.name),9,we))),128))],512),[[y,L.value]])])]),e("div",_e,[e("table",he,[t[34]||(t[34]=e("thead",{class:"bg-gray-50 dark:bg-gray-800"},[e("tr",null,[e("th",{class:"text-left px-4 py-3"},"–ò–º—è"),e("th",{class:"text-left px-4 py-3"},"Email"),e("th",{class:"text-left px-4 py-3"},"–ö–æ–º–ø–∞–Ω–∏—è"),e("th",{class:"text-left px-4 py-3"},"–†–æ–ª—å")])],-1)),N.value?(a(),o("tbody",Ce,[(a(),o(c,null,f(5,l=>e("tr",{key:l,class:"animate-pulse"},t[32]||(t[32]=[e("td",{class:"px-4 py-3"},[e("div",{class:"h-4 w-40 bg-gray-200 dark:bg-gray-700 rounded"})],-1),e("td",{class:"px-4 py-3"},[e("div",{class:"h-4 w-56 bg-gray-200 dark:bg-gray-700 rounded"})],-1),e("td",{class:"px-4 py-3"},[e("div",{class:"h-4 w-40 bg-gray-200 dark:bg-gray-700 rounded"})],-1),e("td",{class:"px-4 py-3"},[e("div",{class:"h-5 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"})],-1)]))),64))])):(a(),o("tbody",Ue,[(a(!0),o(c,null,f(Z.value,l=>{var h,K,W;return a(),o("tr",{key:l.id,class:"border-t dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/60"},[e("td",Ve,n(l.name),1),e("td",$e,n(l.email),1),e("td",je,n(((h=l.company)==null?void 0:h.name)??"‚Äî"),1),e("td",Me,[e("span",{class:Q(["inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-medium ring-1",se(((W=(K=l.roles)==null?void 0:K[0])==null?void 0:W.name)??"employee")])},n(l.role==="manager"?"–ú–µ–Ω–µ–¥–∂–µ—Ä":"–°–æ—Ç—Ä—É–¥–Ω–∏–∫"),3)]),e("td",Ee,[e("button",{onClick:X=>ne(l),class:"text-xs rounded bg-indigo-600 text-white px-3 py-1 hover:bg-indigo-700"}," –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å –∫ –∫–æ–º–ø–∞–Ω–∏–∏ ",8,Se),e("button",{onClick:X=>ie(l),class:"text-xs rounded bg-yellow-500 text-white px-3 py-1 hover:bg-yellow-600"}," –û–±–Ω–æ–≤–∏—Ç—å ",8,Fe),e("button",{onClick:X=>pe(l),class:"text-xs rounded bg-red-600 text-white px-3 py-1 hover:bg-red-700"}," –£–¥–∞–ª–∏—Ç—å ",8,Le)])])}),128)),Z.value.length?g("",!0):(a(),o("tr",qe,t[33]||(t[33]=[e("td",{colspan:"4",class:"px-4 py-6 text-center text-gray-500 dark:text-gray-400"}," –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ",-1)])))]))])])]),P.value?(a(),o("div",ze,[e("div",Te,[e("div",Ae,[t[35]||(t[35]=e("h2",{class:"text-lg font-semibold text-slate-800 dark:text-slate-100"}," –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ ",-1)),e("button",{onClick:t[3]||(t[3]=l=>P.value=!1),class:"text-xl"},"‚úï")]),e("div",Be,[e("button",{onClick:t[4]||(t[4]=l=>$.value="create"),class:Q(["flex-1 py-2 text-center",$.value==="create"?"border-b-2 border-indigo-600 text-indigo-600 font-semibold":"text-slate-500"])}," –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ ",2),e("button",{onClick:t[5]||(t[5]=l=>$.value="attach"),class:Q(["flex-1 py-2 text-center",$.value==="attach"?"border-b-2 border-indigo-600 text-indigo-600 font-semibold":"text-slate-500"])}," –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ ",2)]),$.value==="create"?(a(),o("div",Ne,[e("form",{onSubmit:le(G,["prevent"]),class:"space-y-4"},[e("div",De,[e("div",Oe,[t[36]||(t[36]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"–ù–æ–≤—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫",-1)),e("button",{class:"text-gray-400 hover:text-gray-600",onClick:t[6]||(t[6]=l=>O.value=!1)},"‚úï")]),e("form",{class:"mt-4 space-y-4",onSubmit:le(G,["prevent"])},[e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm mb-1"},"–ò–º—è",-1)),p(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>m.value.name=l),class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},null,512),[[C,m.value.name]]),v.value.name?(a(),o("p",Pe,n(v.value.name[0]),1)):g("",!0)]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm mb-1"},"Email",-1)),p(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>m.value.email=l),type:"email",class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},null,512),[[C,m.value.email]]),v.value.email?(a(),o("p",Qe,n(v.value.email[0]),1)):g("",!0)]),e("div",Re,[e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm mb-1"},"–ü–∞—Ä–æ–ª—å",-1)),p(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>m.value.password=l),type:"password",class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},null,512),[[C,m.value.password]]),v.value.password?(a(),o("p",Ze,n(v.value.password[0]),1)):g("",!0)]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm mb-1"},"–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ",-1)),p(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>m.value.password_confirmation=l),type:"password",class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},null,512),[[C,m.value.password_confirmation]])])]),e("div",Ge,[e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm mb-1"},"–ö–æ–º–ø–∞–Ω–∏—è",-1)),p(e("select",{"onUpdate:modelValue":t[11]||(t[11]=l=>m.value.company_id=l),required:"",class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},[t[41]||(t[41]=e("option",{disabled:"",value:""},"–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–ø–∞–Ω–∏—é",-1)),(a(!0),o(c,null,f(D.value,l=>(a(),o("option",{key:l.id,value:l.id},n(l.name),9,He))),128))],512),[[y,m.value.company_id]]),v.value.company_id?(a(),o("p",Ie,n(v.value.company_id[0]),1)):g("",!0)]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm mb-1"},"–†–æ–ª—å",-1)),p(e("select",{"onUpdate:modelValue":t[12]||(t[12]=l=>m.value.role=l),class:"w-full rounded-lg border px-3 py-2 dark:bg-gray-800 dark:text-white"},t[43]||(t[43]=[e("option",{value:"manager"},"–ú–µ–Ω–µ–¥–∂–µ—Ä",-1),e("option",{value:"employee"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫",-1)]),512),[[y,m.value.role]])])]),e("div",Je,[e("button",{type:"button",class:"rounded-lg bg-gray-500 px-4 py-2 text-white",onClick:t[13]||(t[13]=l=>O.value=!1)},"–û—Ç–º–µ–Ω–∞"),e("button",{type:"submit",class:"rounded-lg bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700 disabled:opacity-50",disabled:E.value},n(E.value?"–°–æ–∑–¥–∞—é‚Ä¶":"–°–æ–∑–¥–∞—Ç—å"),9,Ke)])],32)])],32)])):(a(),o("div",We,[e("div",Xe,[e("div",Ye,[t[45]||(t[45]=e("h3",{class:"text-lg font-semibold text-slate-800 dark:text-slate-100"}," –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ ",-1)),e("button",{onClick:t[14]||(t[14]=l=>U.value=!1),class:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}," ‚úï ")]),e("div",et,[e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1"},"–ü–æ–∏—Å–∫",-1)),p(e("input",{"onUpdate:modelValue":t[15]||(t[15]=l=>x.value=l),class:"w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"–ò–º—è –∏–ª–∏ email"},null,512),[[C,x.value]])]),e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1"},"–ö–æ–º–ø–∞–Ω–∏—è",-1)),p(e("select",{"onUpdate:modelValue":t[16]||(t[16]=l=>i.value.company_id=l),class:"w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"},[(a(!0),o(c,null,f(q.value,l=>(a(),o("option",{key:l.id,value:String(l.id)},n(l.name),9,tt))),128))],512),[[y,i.value.company_id]])])]),e("div",lt,[e("div",st,[w.value?(a(),o("div",at,"–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...")):(a(!0),o(c,{key:1},f(k.value,l=>(a(),o("div",{key:l.id,class:"flex items-center justify-between gap-3 p-3 hover:bg-slate-50 dark:hover:bg-slate-800/40 transition rounded"},[e("div",null,[e("div",ot,n(l.name),1),e("div",dt,n(l.email),1)]),e("div",rt,[t[49]||(t[49]=e("label",{class:"text-xs text-slate-500"},"–†–æ–ª—å",-1)),p(e("select",{"onUpdate:modelValue":t[17]||(t[17]=h=>i.value.role=h),class:"rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-sm px-2 py-1"},t[48]||(t[48]=[e("option",{value:"employee"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫",-1),e("option",{value:"manager"},"–ú–µ–Ω–µ–¥–∂–µ—Ä",-1)]),512),[[y,i.value.role]]),e("button",{onClick:h=>i.value.user_id=l.id,class:"px-3 py-1.5 rounded-lg bg-indigo-600 text-white text-sm font-medium hover:bg-indigo-700 transition"}," –í—ã–±—Ä–∞—Ç—å ",8,nt)])]))),128))]),!w.value&&x.value.trim().length===0?(a(),o("div",it," üîç –í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏–ª–∏ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ")):!w.value&&x.value.trim().length>=2&&k.value.length===0?(a(),o("div",ut," –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã ")):g("",!0)]),e("div",pt,[e("button",{onClick:t[18]||(t[18]=l=>U.value=!1),class:"px-4 py-2 rounded-xl bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:opacity-80 transition"}," –û—Ç–º–µ–Ω–∞ "),e("button",{onClick:I,disabled:V.value,class:"px-4 py-2 rounded-xl bg-emerald-600 text-white font-medium hover:bg-emerald-700 disabled:opacity-60 transition"},n(V.value?"–î–æ–±–∞–≤–ª–µ–Ω–∏–µ...":"–î–æ–±–∞–≤–∏—Ç—å"),9,mt)])])]))])])):g("",!0),U.value?(a(),o("div",vt,[e("div",xt,[e("div",bt,[t[50]||(t[50]=e("h3",{class:"text-lg font-semibold text-slate-800 dark:text-slate-100"}," –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ ",-1)),e("button",{onClick:t[19]||(t[19]=l=>U.value=!1),class:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}," ‚úï ")]),e("div",yt,[e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1"},"–ü–æ–∏—Å–∫",-1)),p(e("input",{"onUpdate:modelValue":t[20]||(t[20]=l=>x.value=l),class:"w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"–ò–º—è –∏–ª–∏ email"},null,512),[[C,x.value]])]),e("div",null,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1"},"–ö–æ–º–ø–∞–Ω–∏—è",-1)),p(e("select",{"onUpdate:modelValue":t[21]||(t[21]=l=>i.value.company_id=l),class:"w-full rounded-xl border border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"},[(a(!0),o(c,null,f(q.value,l=>(a(),o("option",{key:l.id,value:String(l.id)},n(l.name),9,gt))),128))],512),[[y,i.value.company_id]])])]),e("div",ct,[e("div",ft,[w.value?(a(),o("div",kt,"–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...")):(a(!0),o(c,{key:1},f(k.value,l=>(a(),o("div",{key:l.id,class:"flex items-center justify-between gap-3 p-3 hover:bg-slate-50 dark:hover:bg-slate-800/40 transition rounded"},[e("div",null,[e("div",wt,n(l.name),1),e("div",_t,n(l.email),1)]),e("div",ht,[t[54]||(t[54]=e("label",{class:"text-xs text-slate-500"},"–†–æ–ª—å",-1)),p(e("select",{"onUpdate:modelValue":t[22]||(t[22]=h=>i.value.role=h),class:"rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-sm px-2 py-1"},t[53]||(t[53]=[e("option",{value:"employee"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫",-1),e("option",{value:"manager"},"–ú–µ–Ω–µ–¥–∂–µ—Ä",-1)]),512),[[y,i.value.role]]),e("button",{onClick:h=>i.value.user_id=l.id,class:"px-3 py-1.5 rounded-lg bg-indigo-600 text-white text-sm font-medium hover:bg-indigo-700 transition"}," –í—ã–±—Ä–∞—Ç—å ",8,Ct)])]))),128))]),!w.value&&x.value.trim().length===0?(a(),o("div",Ut," üîç –í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏–ª–∏ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ")):!w.value&&x.value.trim().length>=2&&k.value.length===0?(a(),o("div",Vt," –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã ")):g("",!0)]),e("div",$t,[e("button",{onClick:t[23]||(t[23]=l=>U.value=!1),class:"px-4 py-2 rounded-xl bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:opacity-80 transition"}," –û—Ç–º–µ–Ω–∞ "),e("button",{onClick:I,disabled:V.value,class:"px-4 py-2 rounded-xl bg-emerald-600 text-white font-medium hover:bg-emerald-700 disabled:opacity-60 transition"},n(V.value?"–î–æ–±–∞–≤–ª–µ–Ω–∏–µ...":"–î–æ–±–∞–≤–∏—Ç—å"),9,jt)])])])):g("",!0),z.value?(a(),o("div",Mt,[e("div",Et,[e("h3",St," –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å: "+n((d=T.value)==null?void 0:d.name),1),t[57]||(t[57]=e("label",{class:"block text-sm mb-2"},"–ö–æ–º–ø–∞–Ω–∏—è",-1)),p(e("select",{"onUpdate:modelValue":t[24]||(t[24]=l=>_.value.company_id=l),class:"w-full border rounded p-2 mb-3"},[t[55]||(t[55]=e("option",{value:""},"-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–ø–∞–Ω–∏—é --",-1)),(a(!0),o(c,null,f(q.value,l=>(a(),o("option",{key:l.id,value:l.id},n(l.name),9,Ft))),128))],512),[[y,_.value.company_id]]),t[58]||(t[58]=e("label",{class:"block text-sm mb-2"},"–†–æ–ª—å",-1)),p(e("select",{"onUpdate:modelValue":t[25]||(t[25]=l=>_.value.role=l),class:"w-full border rounded p-2 mb-3"},t[56]||(t[56]=[e("option",{value:"manager"},"–ú–µ–Ω–µ–¥–∂–µ—Ä",-1),e("option",{value:"employee"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫",-1)]),512),[[y,_.value.role]]),e("div",Lt,[e("button",{onClick:t[26]||(t[26]=l=>z.value=!1),class:"px-3 py-1 text-sm rounded bg-gray-200"},"–û—Ç–º–µ–Ω–∞"),e("button",{onClick:re,class:"px-3 py-1 text-sm rounded bg-emerald-600 text-white hover:bg-emerald-700"}," –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ")])])])):g("",!0),A.value?(a(),o("div",qt,[e("div",zt,[e("h3",Tt," –û–±–Ω–æ–≤–∏—Ç—å —Ä–æ–ª—å: "+n((u=M.value)==null?void 0:u.name),1),t[60]||(t[60]=e("label",{class:"block text-sm mb-2"},"–†–æ–ª—å",-1)),p(e("select",{"onUpdate:modelValue":t[27]||(t[27]=l=>B.value.role=l),class:"w-full border rounded p-2 mb-3"},t[59]||(t[59]=[e("option",{value:"manager"},"–ú–µ–Ω–µ–¥–∂–µ—Ä",-1),e("option",{value:"employee"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫",-1)]),512),[[y,B.value.role]]),e("div",At,[e("button",{onClick:t[28]||(t[28]=l=>A.value=!1),class:"px-3 py-1 text-sm rounded bg-gray-200"},"–û—Ç–º–µ–Ω–∞"),e("button",{onClick:ue,class:"px-3 py-1 text-sm rounded bg-emerald-600 text-white hover:bg-emerald-700"}," –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ")])])])):g("",!0)]}),_:1})],64))}};export{Qt as default};
