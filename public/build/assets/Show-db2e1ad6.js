import{Q as Ze,r as g,m as h,q as Ge,o as l,f as d,a as Ve,u as Je,w as Ke,F as c,i as b,Z as We,b as t,t as r,d as v,x as w,g as x,n as Ue,e as P,j as m,v as U,k as Be,s as Q}from"./app-aea83e3b.js";import{_ as Xe}from"./AuthenticatedLayout-916f63d2.js";import"./ApplicationLogo-9287d5fa.js";import"./_plugin-vue_export-helper-c27b6911.js";const Ye={class:"relative overflow-hidden"},et={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-white"},tt={class:"flex flex-col gap-6 sm:flex-row sm:items-start sm:justify-between"},st={class:"flex-1"},at={class:"text-2xl sm:text-3xl font-semibold"},lt={class:"mt-3 flex flex-wrap items-center gap-2 text-sm"},dt={class:"px-2 py-1 rounded-full bg-white/20"},ot={key:0,class:"px-2 py-1 rounded-full bg-white/20"},rt={class:"px-2 py-1 rounded-full bg-white/20"},it={class:"px-2 py-1 rounded-full bg-white/20"},nt={key:2,class:"px-2 py-1 rounded-full bg-white/20"},ut={class:"flex flex-col sm:items-end gap-3"},gt={class:"flex flex-wrap justify-end gap-2"},pt={class:"flex flex-wrap justify-end gap-2 text-sm"},xt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-4 pb-10",style:{"margin-top":"3%"}},vt={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},mt={class:"lg:col-span-2"},bt={class:"rounded-2xl border bg-white dark:bg-gray-800 p-5"},yt={class:"flex items-center justify-between mb-3"},ct={class:"text-sm text-gray-500 dark:text-gray-400"},ft={key:0,class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},wt={key:1,class:"text-center py-10"},kt={key:2,class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},ht=["onClick"],_t={class:"flex items-start justify-between gap-3"},jt={class:"text-base font-semibold text-gray-900 dark:text-white leading-snug"},Ct={class:"mt-2 text-sm text-gray-600 dark:text-gray-300 space-y-1.5"},Mt={class:"flex items-center gap-2"},$t={class:"flex items-center gap-2"},zt={key:0},Vt={key:1},Ut={class:"flex items-center gap-2"},Bt={key:0},Dt={key:1},St={key:0,class:"mt-3 pt-3 border-t"},Nt={class:"flex flex-wrap gap-2"},Et=["href"],Ft={class:"space-y-4"},Ht={class:"rounded-2xl border bg-white dark:bg-gray-800 p-5"},Tt={class:"mt-3 space-y-2 text-sm text-gray-700 dark:text-gray-300"},qt={class:"flex justify-between"},Lt={class:"font-medium text-gray-900 dark:text-white"},Rt={class:"flex justify-between"},It={class:"font-medium"},Ot={class:"flex justify-between"},At={class:"font-medium"},Pt={class:"flex justify-between"},Qt={class:"font-medium"},Zt={class:"flex justify-between"},Gt={class:"font-medium"},Jt={class:"mt-4"},Kt={class:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line"},Wt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Xt={class:"relative w-full max-w-lg bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6"},Yt={class:"flex items-center justify-between"},es={key:0,class:"mt-3 text-sm text-rose-600"},ts={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ss={class:"space-y-2 max-h-40 overflow-y-auto p-2 border rounded-xl bg-white dark:bg-gray-700"},as=["id","value"],ls=["for"],ds={class:"space-y-2 max-h-40 overflow-y-auto p-2 border rounded-xl bg-white dark:bg-gray-700"},os=["id","value"],rs=["for"],is={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},ns={class:"flex justify-end gap-2 pt-2"},us=["disabled"],gs={key:0},ps={key:1},xs={key:1,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},vs={class:"relative w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6"},ms={class:"flex items-center justify-between"},bs={class:"flex justify-end gap-2"},ys={key:2,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},cs={class:"relative w-full max-w-xl bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6"},fs={class:"flex items-center justify-between"},ws={class:"flex justify-end gap-2"},ks={key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},hs={class:"w-full max-w-md rounded-2xl bg-white p-6 shadow-xl dark:bg-gray-900"},_s={key:0,class:"mt-2 text-sm text-rose-600"},js={class:"flex justify-end gap-2 mt-4"},Cs=["disabled"],Ms={key:4,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},$s={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 w-full max-w-md"},zs=["value"],Vs={key:0,class:"text-red-500 text-sm mt-2"},Us={class:"flex justify-end gap-2 mt-5"},Bs=["disabled"],Ds={key:5,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},Ss={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 w-full max-w-md"},Ns=["value"],Es=["value"],Fs={key:0,class:"text-red-500 text-sm mt-2"},Hs={class:"flex justify-end gap-2 mt-5"},Ts=["disabled"],As={__name:"Show",setup(qs){var ae,le;const{props:Z}=Ze(),y=Z.id,G=g(!0),o=g(null),j=g([]),C=g(!1),M=g(!1),$=g(!1),D=g(!1),B=g(""),S=g({budget:""}),N=g({description:""}),p=g({title:"",executor_ids:[],responsible_ids:[],priority:"low",start_date:new Date().toISOString().slice(0,10),due_date:"",files:null}),De=((ae=Z.auth)==null?void 0:ae.roles)||[],n=(le=Z.auth)==null?void 0:le.user;h(()=>De.includes("admin"));const Se=h(()=>{var a,e;return((e=(a=o.value)==null?void 0:a.company)==null?void 0:e.user_id)===(n==null?void 0:n.id)});h(()=>{var a,e;return(e=(a=o.value)==null?void 0:a.managers)==null?void 0:e.some(i=>i.id===(n==null?void 0:n.id))});const J=h(()=>{var a,e,i,u;return(n==null?void 0:n.id)===((e=(a=o.value)==null?void 0:a.company)==null?void 0:e.user_id)||((u=(i=o.value)==null?void 0:i.managers)==null?void 0:u.some(f=>f.id===(n==null?void 0:n.id)))}),Ne=h(()=>{var a,e,i,u;return(n==null?void 0:n.id)===((e=(a=o.value)==null?void 0:a.company)==null?void 0:e.user_id)||((u=(i=o.value)==null?void 0:i.managers)==null?void 0:u.some(f=>f.id===(n==null?void 0:n.id)))}),X=h(()=>{var a,e;return(n==null?void 0:n.id)===((e=(a=o.value)==null?void 0:a.company)==null?void 0:e.user_id)}),Y=h(()=>{var a,e,i,u;return(n==null?void 0:n.id)===((e=(a=o.value)==null?void 0:a.company)==null?void 0:e.user_id)||((u=(i=o.value)==null?void 0:i.managers)==null?void 0:u.some(f=>f.id===(n==null?void 0:n.id)))}),ee=h(()=>{var a,e;return(n==null?void 0:n.id)===((e=(a=o.value)==null?void 0:a.company)==null?void 0:e.user_id)}),te=(a,e)=>{if(!a||!e)return"‚Äî";const i=new Date(a),u=new Date(i);return u.setDate(i.getDate()+Number(e)),Math.ceil((u-new Date)/(1e3*60*60*24))},Ee=a=>a==="‚Äî"?"bg-gray-100 text-gray-600 ring-1 ring-gray-200":a>7?"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200":a>=0?"bg-amber-100 text-amber-700 ring-1 ring-amber-200":"bg-rose-100 text-rose-700 ring-1 ring-rose-200",Fe=a=>a==="high"?"bg-rose-100 text-rose-700 ring-1 ring-rose-200":a==="medium"?"bg-amber-100 text-amber-700 ring-1 ring-amber-200":"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200",_=async()=>{G.value=!0;try{const{data:a}=await b.get(`/api/projects/${y}`);o.value=a,S.value.budget=(a==null?void 0:a.budget)??"",N.value.description=(a==null?void 0:a.description)??"";const e=await b.get(`/api/projects/${y}/employees`);j.value=e.data}finally{G.value=!1}},K=async()=>{const{data:a}=await b.get(`/api/projects/${y}/employees`);j.value=a},se=async()=>{if(!J.value)return alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏.");B.value="",await K(),C.value=!0},He=a=>{p.value.files=a.target.files},Te=async()=>{var e,i;B.value="",D.value=!0;const a=new FormData;if(a.append("title",p.value.title),p.value.executor_ids.forEach(u=>a.append("executor_ids[]",u)),p.value.responsible_ids.forEach(u=>a.append("responsible_ids[]",u)),a.append("priority",p.value.priority),a.append("start_date",p.value.start_date),a.append("due_date",p.value.due_date),a.append("project_id",y),a.append("company_id",o.value.company.id),p.value.files)for(let u=0;u<p.value.files.length;u++)a.append("files[]",p.value.files[u]);try{await b.get("/sanctum/csrf-cookie"),await b.post("/api/tasks",a,{headers:{"Content-Type":"multipart/form-data"}}),C.value=!1,p.value={title:"",executor_id:"",responsible_id:"",priority:"low",start_date:new Date().toISOString().slice(0,10),due_date:"",files:null},await _()}catch(u){B.value=((i=(e=u==null?void 0:u.response)==null?void 0:e.data)==null?void 0:i.message)||"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É"}finally{D.value=!1}},qe=async()=>{await b.patch(`/api/projects/${y}/budget`,{budget:S.value.budget}),M.value=!1,await _()},Le=async()=>{await b.patch(`/api/projects/${y}/description`,{description:N.value.description}),$.value=!1,await _()};g({title:"",responsible_id:null}),g(!1),g("");const E=g(!1),W=g({name:""}),F=g(""),H=g(!1),Re=async()=>{var a,e;H.value=!0,F.value="";try{await b.patch(`/api/projects/${y}/name`,{name:W.value.name}),E.value=!1,await _()}catch(i){F.value=((e=(a=i==null?void 0:i.response)==null?void 0:a.data)==null?void 0:e.message)||"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –Ω–∞–∑–≤–∞–Ω–∏—è"}finally{H.value=!1}},T=g(!1),q=g({user_id:null}),L=g(""),R=g(!1),Ie=async()=>{await K(),T.value=!0},Oe=async()=>{var a,e;L.value="",R.value=!0;try{await b.post(`/api/projects/${y}/add-manager`,q.value),T.value=!1,q.value={user_id:null},await _()}catch(i){L.value=((e=(a=i==null?void 0:i.response)==null?void 0:a.data)==null?void 0:e.message)||"–ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è"}finally{R.value=!1}},I=g(!1),z=g({old_manager_id:null,new_manager_id:null}),O=g(""),A=g(!1),Ae=async()=>{await K(),I.value=!0},Pe=async()=>{var a,e;O.value="",A.value=!0;try{await b.post(`/api/projects/${y}/replace-manager`,z.value),I.value=!1,z.value={old_manager_id:null,new_manager_id:null},await _()}catch(i){O.value=((e=(a=i==null?void 0:i.response)==null?void 0:a.data)==null?void 0:e.message)||"–ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è"}finally{A.value=!1}},Qe=async()=>{var a,e;if(confirm("–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏ –ø–æ–¥–∑–∞–¥–∞—á–∏?"))try{await b.delete(`/api/projects/${y}`,{withCredentials:!0}),alert("–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω."),window.location.href="/"}catch(i){alert(((e=(a=i==null?void 0:i.response)==null?void 0:a.data)==null?void 0:e.message)||"–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞")}};return Ge(_),(a,e)=>{var i;return l(),d(c,null,[Ve(Je(We),{title:(i=o.value)!=null&&i.name?`–ü—Ä–æ–µ–∫—Ç ‚Äî ${o.value.name}`:"–ü—Ä–æ–µ–∫—Ç"},null,8,["title"]),Ve(Xe,null,{default:Ke(()=>{var u,f,de,oe,re,ie,ne,ue,ge,pe,xe,ve,me,be,ye,ce,fe,we,ke,he,_e,je,Ce;return[t("div",Ye,[e[37]||(e[37]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-fuchsia-600 opacity-90"},null,-1)),t("div",et,[t("div",tt,[t("div",st,[t("h1",at,r(((u=o.value)==null?void 0:u.name)??"–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶"),1),t("div",lt,[t("span",dt,[e[28]||(e[28]=v(" –ö–æ–º–ø–∞–Ω–∏—è: ",-1)),t("b",null,r(((de=(f=o.value)==null?void 0:f.company)==null?void 0:de.name)??"‚Äî"),1)]),(l(!0),d(c,null,w(((oe=o.value)==null?void 0:oe.managers)||[],s=>(l(),d("span",{key:s.id,class:"px-2 py-1 rounded-full bg-white/20"},[e[29]||(e[29]=v(" –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å: ",-1)),t("b",null,r(s.name),1)]))),128)),(ie=(re=o.value)==null?void 0:re.managers)!=null&&ie.length?x("",!0):(l(),d("span",ot,e[30]||(e[30]=[v(" –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–∏: ",-1),t("b",null,"‚Äî",-1)]))),t("span",rt,[e[31]||(e[31]=v(" –°—Ç–∞—Ä—Ç: ",-1)),t("b",null,r(((ne=o.value)==null?void 0:ne.start_date)??"‚Äî"),1)]),t("span",it,[e[32]||(e[32]=v(" –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ",-1)),t("b",null,r(((ue=o.value)==null?void 0:ue.duration_days)??"‚Äî"),1),e[33]||(e[33]=v(" –¥–Ω. ",-1))]),o.value?(l(),d("span",{key:1,class:Ue(["px-2 py-1 rounded-full bg-white text-gray-900",Ee(te(o.value.start_date,o.value.duration_days))])},[e[34]||(e[34]=v(" –û—Å—Ç–∞–ª–æ—Å—å: ",-1)),t("b",null,r(te(o.value.start_date,o.value.duration_days)),1),e[35]||(e[35]=v(" –¥–Ω. ",-1))],2)):x("",!0),(ge=o.value)!=null&&ge.budget?(l(),d("span",nt,[e[36]||(e[36]=v(" –ë—é–¥–∂–µ—Ç: ",-1)),t("b",null,r(Number(o.value.budget).toLocaleString("ru-RU"))+" ‚ÇΩ",1)])):x("",!0)])]),t("div",ut,[t("div",gt,[J.value?(l(),d("button",{key:0,onClick:se,class:"rounded-xl bg-emerald-400 hover:bg-emerald-500 text-gray-900 px-4 py-2 font-medium shadow-sm"}," + –ó–∞–¥–∞—á–∞ ")):x("",!0),Ne.value?(l(),d("button",{key:1,onClick:e[0]||(e[0]=s=>E.value=!0),class:"rounded-xl bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 font-medium shadow-sm"}," ‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ ")):x("",!0),Se.value?(l(),d("button",{key:2,onClick:Qe,class:"rounded-xl bg-rose-500 hover:bg-rose-600 text-white px-4 py-2 font-medium shadow-sm"}," üóë –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç ")):x("",!0)]),t("div",pt,[X.value?(l(),d("button",{key:0,onClick:e[1]||(e[1]=s=>M.value=!0),class:"rounded-xl bg-amber-400/90 hover:bg-amber-500 text-gray-900 px-3 py-1.5"}," üí∞ –ë—é–¥–∂–µ—Ç ")):x("",!0),Y.value?(l(),d("button",{key:1,onClick:e[2]||(e[2]=s=>$.value=!0),class:"rounded-xl bg-white/90 hover:bg-white text-gray-900 px-3 py-1.5"}," üìù –û–ø–∏—Å–∞–Ω–∏–µ ")):x("",!0),ee.value?(l(),d("button",{key:2,onClick:Ie,class:"rounded-xl bg-emerald-500/90 hover:bg-emerald-600 text-white px-3 py-1.5"}," ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è ")):x("",!0),ee.value&&(((xe=(pe=o.value)==null?void 0:pe.managers)==null?void 0:xe.length)||0)>0?(l(),d("button",{key:3,onClick:Ae,class:"rounded-xl bg-amber-500/90 hover:bg-amber-600 text-white px-3 py-1.5"}," üîÑ –ò–∑–º–µ–Ω–∏—Ç—å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è ")):x("",!0)])])])])]),t("div",xt,[t("div",vt,[t("div",mt,[t("div",bt,[t("div",yt,[e[38]||(e[38]=t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"–ó–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞",-1)),t("div",ct," –í—Å–µ–≥–æ: "+r(((me=(ve=o.value)==null?void 0:ve.tasks)==null?void 0:me.length)||0),1)]),G.value?(l(),d("div",ft,[(l(),d(c,null,w(4,s=>t("div",{key:s,class:"rounded-xl border p-4 animate-pulse"},e[39]||(e[39]=[t("div",{class:"h-4 w-1/2 bg-gray-200 dark:bg-gray-700 rounded mb-3"},null,-1),t("div",{class:"h-3 w-2/3 bg-gray-200 dark:bg-gray-700 rounded mb-2"},null,-1),t("div",{class:"h-3 w-1/2 bg-gray-200 dark:bg-gray-700 rounded"},null,-1)]))),64))])):(ye=(be=o.value)==null?void 0:be.tasks)!=null&&ye.length?(l(),d("div",kt,[(l(!0),d(c,null,w(o.value.tasks,s=>{var V,Me,$e,ze;return l(),d("div",{key:s.id,class:"group rounded-xl border p-4 bg-white dark:bg-gray-800 hover:shadow-md transition cursor-pointer",onClick:k=>a.$inertia.visit(`/tasks/${s.id}`)},[t("div",_t,[t("h3",jt,r(s.title),1),t("span",{class:Ue(["px-2 py-1 text-xs rounded-full ring-1",Fe(s.priority)])},r(s.priority==="high"?"–í—ã—Å–æ–∫–∞—è":s.priority==="medium"?"–°—Ä–µ–¥–Ω—è—è":"–û–±—ã—á–Ω–∞—è"),3)]),t("div",Ct,[t("div",Mt,[e[42]||(e[42]=t("svg",{class:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M7 11h5V6H7v5zm0 7h5v-5H7v5zm7 0h5v-5h-5v5zM14 6v5h5V6h-5z"})],-1)),t("span",null,"–° "+r(s.start_date)+" –ø–æ "+r(s.due_date),1)]),t("div",$t,[e[45]||(e[45]=t("svg",{class:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M12 12c2.2 0 4-1.79 4-4s-1.8-4-4-4-4 1.79-4 4 1.8 4 4 4zm0 2c-3.33 0-10 1.67-10 5v3h20v-3c0-3.33-6.67-5-10-5z"})],-1)),t("span",null,[e[43]||(e[43]=v(" –û—Ç: ",-1)),t("b",null,r(((V=s.creator)==null?void 0:V.name)??"‚Äî"),1),e[44]||(e[44]=v(" ‚Üí –ö–æ–º—É: ",-1)),(Me=s.executors)!=null&&Me.length?(l(),d("b",zt,r(s.executors.map(k=>k.name).join(", ")),1)):(l(),d("b",Vt,"‚Äî"))])]),t("div",Ut,[e[47]||(e[47]=t("svg",{class:"w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M12 2l4 7H8l4-7zm0 20l-4-7h8l-4 7zM2 12l7-4v8l-7-4zm20 0l-7 4V8l7 4z"})],-1)),t("span",null,[e[46]||(e[46]=v(" –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ: ",-1)),($e=s.responsibles)!=null&&$e.length?(l(),d("b",Bt,r(s.responsibles.map(k=>k.name).join(", ")),1)):(l(),d("b",Dt,"‚Äî"))])])]),(ze=s.files)!=null&&ze.length?(l(),d("div",St,[e[49]||(e[49]=t("div",{class:"text-xs font-medium text-gray-500 mb-1"},"–§–∞–π–ª—ã:",-1)),t("div",Nt,[(l(!0),d(c,null,w(s.files,k=>(l(),d("a",{key:k.id,href:`/storage/${k.file_path}`,target:"_blank",class:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-100",onClick:e[3]||(e[3]=P(()=>{},["stop"]))},[e[48]||(e[48]=t("svg",{class:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12V8l-4-6zM6 22V4h7v5h5v13H6z"})],-1)),v(" "+r(k.file_path.split("/").pop()),1)],8,Et))),128))])])):x("",!0)],8,ht)}),128))])):(l(),d("div",wt,[e[40]||(e[40]=t("div",{class:"mx-auto w-14 h-14 rounded-2xl bg-gray-100 dark:bg-gray-700 flex items-center justify-center"},[t("svg",{class:"w-6 h-6 text-gray-500 dark:text-gray-300",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M7 11h10v2H7zM7 7h10v2H7zM7 15h7v2H7z"})])],-1)),e[41]||(e[41]=t("p",{class:"mt-3 text-gray-700 dark:text-gray-300"},"–ó–∞–¥–∞—á –ø–æ–∫–∞ –Ω–µ—Ç.",-1)),J.value?(l(),d("button",{key:0,onClick:se,class:"mt-4 rounded-xl bg-indigo-600 text-white px-4 py-2 hover:bg-indigo-700"}," –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É ")):x("",!0)]))])]),t("div",Ft,[t("div",Ht,[e[56]||(e[56]=t("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"–ö—Ä–∞—Ç–∫–æ –æ –ø—Ä–æ–µ–∫—Ç–µ",-1)),t("dl",Tt,[t("div",qt,[e[50]||(e[50]=t("dt",null,"–ö–æ–º–ø–∞–Ω–∏—è",-1)),t("dd",Lt,r(((fe=(ce=o.value)==null?void 0:ce.company)==null?void 0:fe.name)??"‚Äî"),1)]),t("div",Rt,[e[51]||(e[51]=t("dt",null,"–ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä",-1)),t("dd",It,r(((ke=(we=o.value)==null?void 0:we.initiator)==null?void 0:ke.name)??"‚Äî"),1)]),t("div",Ot,[e[52]||(e[52]=t("dt",null,"–°—Ç–∞—Ä—Ç",-1)),t("dd",At,r(((he=o.value)==null?void 0:he.start_date)??"‚Äî"),1)]),t("div",Pt,[e[53]||(e[53]=t("dt",null,"–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å",-1)),t("dd",Qt,r(((_e=o.value)==null?void 0:_e.duration_days)??"‚Äî")+" –¥–Ω.",1)]),t("div",Zt,[e[54]||(e[54]=t("dt",null,"–ë—é–¥–∂–µ—Ç",-1)),t("dd",Gt,r((je=o.value)!=null&&je.budget?Number(o.value.budget).toLocaleString("ru-RU")+" ‚ÇΩ":"‚Äî"),1)])]),t("div",Jt,[e[55]||(e[55]=t("div",{class:"text-xs font-semibold text-gray-500 mb-1"},"–û–ø–∏—Å–∞–Ω–∏–µ",-1)),t("p",Kt,r(((Ce=o.value)==null?void 0:Ce.description)||"–û–ø–∏—Å–∞–Ω–∏–µ –Ω–µ –∑–∞–¥–∞–Ω–æ."),1)])])])])]),C.value?(l(),d("div",Wt,[t("div",{class:"absolute inset-0 bg-black/50",onClick:e[4]||(e[4]=s=>C.value=!1)}),t("div",Xt,[t("div",Yt,[e[57]||(e[57]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏",-1)),t("button",{onClick:e[5]||(e[5]=s=>C.value=!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},"‚úï")]),B.value?(l(),d("p",es,r(B.value),1)):x("",!0),t("form",{class:"mt-4 space-y-4",onSubmit:P(Te,["prevent"])},[t("div",null,[e[58]||(e[58]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"–ù–∞–∑–≤–∞–Ω–∏–µ",-1)),m(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>p.value.title=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},null,512),[[U,p.value.title]])]),t("div",ts,[t("div",null,[e[59]||(e[59]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏",-1)),t("div",ss,[(l(!0),d(c,null,w(j.value,s=>(l(),d("div",{key:s.id,class:"flex items-center space-x-2"},[m(t("input",{type:"checkbox",id:`executor-${s.id}`,value:s.id,"onUpdate:modelValue":e[7]||(e[7]=V=>p.value.executor_ids=V),class:"h-4 w-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"},null,8,as),[[Be,p.value.executor_ids]]),t("label",{for:`executor-${s.id}`,class:"text-sm text-gray-700 dark:text-gray-300"},r(s.name),9,ls)]))),128))])]),t("div",null,[e[60]||(e[60]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ",-1)),t("div",ds,[(l(!0),d(c,null,w(j.value,s=>(l(),d("div",{key:s.id,class:"flex items-center space-x-2"},[m(t("input",{type:"checkbox",id:`responsible-${s.id}`,value:s.id,"onUpdate:modelValue":e[8]||(e[8]=V=>p.value.responsible_ids=V),class:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"},null,8,os),[[Be,p.value.responsible_ids]]),t("label",{for:`responsible-${s.id}`,class:"text-sm text-gray-700 dark:text-gray-300"},r(s.name),9,rs)]))),128))])])]),t("div",is,[t("div",null,[e[62]||(e[62]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç",-1)),m(t("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>p.value.priority=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white"},e[61]||(e[61]=[t("option",{value:"low"},"–û–±—ã—á–Ω–∞—è",-1),t("option",{value:"medium"},"–°—Ä–µ–¥–Ω—è—è",-1),t("option",{value:"high"},"–í—ã—Å–æ–∫–∞—è",-1)]),512),[[Q,p.value.priority]])]),t("div",null,[e[63]||(e[63]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"–ù–∞—á–∞–ª–æ",-1)),m(t("input",{type:"date","onUpdate:modelValue":e[10]||(e[10]=s=>p.value.start_date=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},null,512),[[U,p.value.start_date]])]),t("div",null,[e[64]||(e[64]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"–û–∫–æ–Ω—á–∞–Ω–∏–µ",-1)),m(t("input",{type:"date","onUpdate:modelValue":e[11]||(e[11]=s=>p.value.due_date=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},null,512),[[U,p.value.due_date]])])]),t("div",null,[e[65]||(e[65]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"–§–∞–π–ª—ã (pdf, excel, word)",-1)),t("input",{type:"file",multiple:"",onChange:He,accept:".pdf,.doc,.docx,.xls,.xlsx",class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white"},null,32)]),t("div",ns,[t("button",{type:"button",onClick:e[12]||(e[12]=s=>C.value=!1),class:"px-4 py-2 rounded-xl border bg-white dark:bg-gray-700 dark:text-white"},"–û—Ç–º–µ–Ω–∞"),t("button",{type:"submit",disabled:D.value,class:"px-4 py-2 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700 disabled:opacity-60"},[D.value?(l(),d("span",ps,"–°–æ—Ö—Ä–∞–Ω—è—é‚Ä¶")):(l(),d("span",gs,"–°–æ–∑–¥–∞—Ç—å"))],8,us)])],32)])])):x("",!0),M.value&&X.value?(l(),d("div",xs,[t("div",{class:"absolute inset-0 bg-black/50",onClick:e[13]||(e[13]=s=>M.value=!1)}),t("div",vs,[t("div",ms,[e[66]||(e[66]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—é–¥–∂–µ—Ç",-1)),t("button",{onClick:e[14]||(e[14]=s=>M.value=!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},"‚úï")]),t("form",{class:"mt-4 space-y-4",onSubmit:P(qe,["prevent"])},[t("div",null,[e[67]||(e[67]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"–°—É–º–º–∞ (‚ÇΩ)",-1)),m(t("input",{type:"number",step:"0.01",min:"0","onUpdate:modelValue":e[15]||(e[15]=s=>S.value.budget=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},null,512),[[U,S.value.budget]])]),t("div",bs,[t("button",{type:"button",onClick:e[16]||(e[16]=s=>M.value=!1),class:"px-4 py-2 rounded-xl border bg-white dark:bg-gray-700 dark:text-white"},"–û—Ç–º–µ–Ω–∞"),e[68]||(e[68]=t("button",{type:"submit",class:"px-4 py-2 rounded-xl bg-amber-600 text-white hover:bg-amber-700"},"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",-1))])],32)])])):x("",!0),$.value&&Y.value?(l(),d("div",ys,[t("div",{class:"absolute inset-0 bg-black/50",onClick:e[17]||(e[17]=s=>$.value=!1)}),t("div",cs,[t("div",fs,[e[69]||(e[69]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞",-1)),t("button",{onClick:e[18]||(e[18]=s=>$.value=!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},"‚úï")]),t("form",{class:"mt-4 space-y-4",onSubmit:P(Le,["prevent"])},[t("div",null,[e[70]||(e[70]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"–û–ø–∏—Å–∞–Ω–∏–µ",-1)),m(t("textarea",{rows:"6","onUpdate:modelValue":e[19]||(e[19]=s=>N.value.description=s),class:"w-full rounded-xl border px-3 py-2 bg-white dark:bg-gray-700 dark:text-white",required:""},null,512),[[U,N.value.description]])]),t("div",ws,[t("button",{type:"button",onClick:e[20]||(e[20]=s=>$.value=!1),class:"px-4 py-2 rounded-xl border bg-white dark:bg-gray-700 dark:text-white"},"–û—Ç–º–µ–Ω–∞"),e[71]||(e[71]=t("button",{type:"submit",class:"px-4 py-2 rounded-xl bg-indigo-600 text-white hover:bg-indigo-700"},"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",-1))])],32)])])):x("",!0),E.value?(l(),d("div",ks,[t("div",hs,[e[72]||(e[72]=t("h3",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-white"},"–ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞",-1)),m(t("input",{"onUpdate:modelValue":e[21]||(e[21]=s=>W.value.name=s),type:"text",class:"w-full border rounded-lg px-3 py-2 dark:bg-gray-800 dark:text-white"},null,512),[[U,W.value.name]]),F.value?(l(),d("p",_s,r(F.value),1)):x("",!0),t("div",js,[t("button",{onClick:e[22]||(e[22]=s=>E.value=!1),class:"px-4 py-2 rounded bg-gray-500 text-white"},"–û—Ç–º–µ–Ω–∞"),t("button",{onClick:Re,disabled:H.value,class:"px-4 py-2 rounded bg-blue-600 text-white"},r(H.value?"–°–æ—Ö—Ä–∞–Ω—è—é‚Ä¶":"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"),9,Cs)])])])):x("",!0),T.value?(l(),d("dialog",Ms,[t("div",$s,[e[74]||(e[74]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"–î–æ–±–∞–≤–∏—Ç—å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è",-1)),e[75]||(e[75]=t("label",{class:"block text-sm mb-2 text-gray-700 dark:text-gray-300"},"–í—ã–±–µ—Ä–∏—Ç–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:",-1)),m(t("select",{"onUpdate:modelValue":e[23]||(e[23]=s=>q.value.user_id=s),class:"w-full border rounded-md px-3 py-2 bg-gray-50 dark:bg-gray-700 dark:text-white"},[e[73]||(e[73]=t("option",{disabled:"",value:""},"-- –í—ã–±–µ—Ä–∏—Ç–µ --",-1)),(l(!0),d(c,null,w(j.value,s=>(l(),d("option",{key:s.id,value:s.id},r(s.name)+" ‚Äî "+r(s.email),9,zs))),128))],512),[[Q,q.value.user_id]]),L.value?(l(),d("p",Vs,r(L.value),1)):x("",!0),t("div",Us,[t("button",{onClick:e[24]||(e[24]=s=>T.value=!1),class:"px-4 py-2 rounded-md bg-gray-200 dark:bg-gray-700 dark:text-white"},"–û—Ç–º–µ–Ω–∞"),t("button",{onClick:Oe,disabled:R.value,class:"px-4 py-2 rounded-md bg-emerald-600 text-white hover:bg-emerald-700 disabled:opacity-50"},r(R.value?"–î–æ–±–∞–≤–ª—è–µ–º...":"–î–æ–±–∞–≤–∏—Ç—å"),9,Bs)])])])):x("",!0),I.value?(l(),d("dialog",Ds,[t("div",Ss,[e[78]||(e[78]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"–ò–∑–º–µ–Ω–∏—Ç—å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è",-1)),e[79]||(e[79]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"–¢–µ–∫—É—â–∏–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å:",-1)),m(t("select",{"onUpdate:modelValue":e[25]||(e[25]=s=>z.value.old_manager_id=s),class:"w-full border rounded-md px-3 py-2 bg-gray-50 dark:bg-gray-700 dark:text-white mb-3"},[e[76]||(e[76]=t("option",{disabled:"",value:""},"-- –í—ã–±–µ—Ä–∏—Ç–µ --",-1)),(l(!0),d(c,null,w(o.value.managers,s=>(l(),d("option",{key:s.id,value:s.id},r(s.name),9,Ns))),128))],512),[[Q,z.value.old_manager_id]]),e[80]||(e[80]=t("label",{class:"block text-sm mb-1 text-gray-700 dark:text-gray-300"},"–ù–æ–≤—ã–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å:",-1)),m(t("select",{"onUpdate:modelValue":e[26]||(e[26]=s=>z.value.new_manager_id=s),class:"w-full border rounded-md px-3 py-2 bg-gray-50 dark:bg-gray-700 dark:text-white"},[e[77]||(e[77]=t("option",{disabled:"",value:""},"-- –í—ã–±–µ—Ä–∏—Ç–µ --",-1)),(l(!0),d(c,null,w(j.value,s=>(l(),d("option",{key:s.id,value:s.id},r(s.name)+" ‚Äî "+r(s.email),9,Es))),128))],512),[[Q,z.value.new_manager_id]]),O.value?(l(),d("p",Fs,r(O.value),1)):x("",!0),t("div",Hs,[t("button",{onClick:e[27]||(e[27]=s=>I.value=!1),class:"px-4 py-2 rounded-md bg-gray-200 dark:bg-gray-700 dark:text-white"},"–û—Ç–º–µ–Ω–∞"),t("button",{onClick:Pe,disabled:A.value,class:"px-4 py-2 rounded-md bg-amber-600 text-white hover:bg-amber-700 disabled:opacity-50"},r(A.value?"–°–æ—Ö—Ä–∞–Ω—è–µ–º...":"–ò–∑–º–µ–Ω–∏—Ç—å"),9,Ts)])])])):x("",!0)]}),_:1})],64)}}};export{As as default};
